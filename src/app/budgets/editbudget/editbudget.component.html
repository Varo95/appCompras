<div class="budgets">
    <div class="row">
        <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset 2">
            <h2>Editar Presupuesto</h2>
            <a class="btn btn-primary float-md-right" routerLink="/budgets">Regresar al listado</a>
            <br>
            <form [formGroup]="budgetForm" (ngSubmit)="onSubmit()">
                <div class="form-group">
                    <label for="provider">Proveedor</label>
                    <i class="fa fa-check-circle check" *ngIf="budgetForm.controls.provider.valid"></i>
                    <i class="fa fa-exclamation-circle uncheck"
                        *ngIf="budgetForm.controls.provider.invalid && budgetForm.controls.provider.touched"></i>
                    <input type="text" class="form-control" id="provider" formControlName="provider"
                        [(ngModel)]="budget.provider">
                    <p class="alert alert-danger"
                        *ngIf="budgetForm.controls.provider.invalid && budgetForm.controls.provider.touched">
                        El campo Proveedor es obligatorio.
                    </p>
                </div>
                <div class="form-group">
                    <label for="date">Fecha Presupuesto</label>
                    <i class="fa fa-check-circle check" *ngIf="budgetForm.controls.date.valid"></i>
                    <i class="fa fa-exclamation-circle uncheck"
                        *ngIf="budgetForm.controls.date.invalid && budgetForm.controls.date.touched"></i>
                    <input type="date" class="form-control" id="date" formControlName="date" [(ngModel)]="budget.date">
                    <p class="alert alert-danger"
                        *ngIf="budgetForm.controls.date.invalid && budgetForm.controls.date.touched">
                        El campo Fecha es obligatorio.
                    </p>
                </div>
                <div class="form-group">
                    <label for="concept">Concepto</label>
                    <i class="fa fa-check-circle check" *ngIf="budgetForm.controls.concept.valid"></i>
                    <i class="fa fa-exclamation-circle uncheck"
                        *ngIf="budgetForm.controls.concept.invalid && budgetForm.controls.concept.touched"></i>
                    <input type="text" class="form-control" id="concept" formControlName="concept"
                        [(ngModel)]="budget.concept">
                    <p class="alert alert-danger"
                        *ngIf="budgetForm.controls.concept.invalid && budgetForm.controls.concept.touched">
                        El campo Concept es obligatorio y debe tener m√°s de 10 caracteres.
                    </p>
                </div>
                <div class="form-group">
                    <label for="bimpo">Base Imponible</label>
                    <i class="fa fa-check-circle check" *ngIf="budgetForm.controls.bimpo.valid"></i>
                    <i class="fa fa-exclamation-circle uncheck"
                        *ngIf="budgetForm.controls.bimpo.invalid && budgetForm.controls.bimpo.touched"></i>
                    <input type="number" class="form-control" id="bimpo" formControlName="bimpo"
                        [(ngModel)]="budget.bimpo">
                    <p class="alert alert-danger"
                        *ngIf="budgetForm.controls.bimpo.invalid && budgetForm.controls.bimpo.touched">
                        El campo bimpo Imponible es obligatorio.
                    </p>
                </div>
                <div class="form-group">
                    <label for="iva">Tipo de impva</label>
                    <i class="fa fa-check-circle check" *ngIf="budgetForm.controls.iva.valid"></i>
                    <i class="fa fa-exclamation-circle uncheck"
                        *ngIf="budgetForm.controls.iva.invalid && budgetForm.controls.iva.touched"></i>
                    <select class="form-control" id="iva" formControlName="iva" [(ngModel)]="budget.iva">
                        <option value="">Seleccione...</option>
                        <option value=0> 0 %</option>
                        <option value=0.04> 4 %</option>
                        <option value=0.10>10 %</option>
                        <option value=0.21>21 %</option>
                    </select>
                    <p class="alert alert-danger"
                        *ngIf="budgetForm.controls.iva.invalid && budgetForm.controls.iva.touched">
                        El campo Tipo de iva es obligatorio.
                    </p>
                </div>
                <div class="form-group">
                    <label for="impva">Importe iva</label>
                    <input type="number" class="form-control" id="impva" formControlName="impva"
                        [(ngModel)]="budgetForm.value.impva" readonly>
                </div>
                <div class="form-group">
                    <label for="total">Total Factura impva Incluido</label>
                    <input type="number" class="form-control" id="total" formControlName="total"
                        [(ngModel)]="budgetForm.value.total" readonly>
                </div>
                <button type="submit" class="btn btn-primary" [disabled]="!budgetForm.valid">Guardar Cambios</button>
                <a class="btn btn-danger" routerLink="/budgets">Cancelar</a>
                <p class="alert alert-danger" *ngIf="!budgetForm.valid">
                    Por favor complete todos los campos
                </p>
            </form>
            <hr>
        </div>
    </div>
</div>