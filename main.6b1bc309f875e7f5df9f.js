(self.webpackChunkapp_compras=self.webpackChunkapp_compras||[]).push([[179],{8255:Ue=>{function Ee(R){return Promise.resolve().then(()=>{var c=new Error("Cannot find module '"+R+"'");throw c.code="MODULE_NOT_FOUND",c})}Ee.keys=()=>[],Ee.resolve=Ee,Ee.id=8255,Ue.exports=Ee},7716:(Ue,Ee,R)=>{"use strict";R.d(Ee,{deG:()=>p6,tb:()=>Nd,AFp:()=>xd,ip1:()=>Ul,CZH:()=>Fa,hGG:()=>jb,z2F:()=>C0,sBO:()=>x_,Sil:()=>y0,_Vd:()=>Na,EJc:()=>Vd,SBq:()=>Ai,qLn:()=>sa,vpe:()=>wi,gxx:()=>t4,tBr:()=>eo,XFs:()=>Ve,OlP:()=>y1,zs3:()=>z1,ZZ4:()=>Y3,aQg:()=>K3,soG:()=>ac,YKP:()=>E9,v3s:()=>Mb,h0i:()=>i4,PXZ:()=>gb,R0b:()=>k2,FiY:()=>li,Lbi:()=>zd,g9A:()=>Dd,Qsj:()=>p_,FYo:()=>q3,JOm:()=>mi,Tiy:()=>pl,q3G:()=>r1,tp0:()=>on,EAV:()=>Ib,Rgc:()=>a0,dDg:()=>Od,DyG:()=>Qi,q4F:()=>ml,GfV:()=>g9,s_b:()=>X3,ifc:()=>De,eFA:()=>jd,G48:()=>lb,Gpc:()=>F,X6Q:()=>ql,_c5:()=>Pb,VLi:()=>cb,c2e:()=>Ld,zSh:()=>Lr,wAp:()=>tt,vHH:()=>Ce,EiD:()=>Nt,mCW:()=>Jo,qzn:()=>hi,JVY:()=>Q0,pB0:()=>Ko,eBb:()=>T6,L6k:()=>S6,LAX:()=>Ir,cg1:()=>il,Tjo:()=>Vb,kL8:()=>Of,yhl:()=>K0,dqk:()=>kt,sIi:()=>Q6,CqO:()=>Q8,QGY:()=>K8,F4k:()=>j7,RDi:()=>s6,AaK:()=>J,z3N:()=>wr,qOj:()=>O8,TTD:()=>Pi,_Bn:()=>f9,xp6:()=>Dr,uIk:()=>U8,ekj:()=>el,Suo:()=>ad,Xpm:()=>V1,lG2:()=>ut,Yz7:()=>Gt,cJS:()=>Xt,oAB:()=>Ne,Yjl:()=>v1,Y36:()=>X6,_UZ:()=>H7,qZA:()=>Y8,TgZ:()=>q8,EpF:()=>B7,n5z:()=>k4,Ikx:()=>rl,LFG:()=>o1,$8M:()=>Hs,NdJ:()=>J8,CRH:()=>cd,oxw:()=>G7,Hsn:()=>Y7,F$t:()=>q7,Q6J:()=>W8,MGl:()=>O3,DdM:()=>Q9,iGM:()=>od,MAs:()=>S7,CHM:()=>Bi,oJD:()=>es,LSH:()=>X4,kYT:()=>et,YNc:()=>I7,_uU:()=>yf,Oqu:()=>nl,hij:()=>U3,Gf:()=>sd});var c=R(9765),U=R(5319),N=R(7574),ce=R(6682),se=R(8819);function ee(r){for(let i in r)if(r[i]===ee)return i;throw Error("Could not find renamed property on target object.")}function me(r,i){for(const s in i)i.hasOwnProperty(s)&&!r.hasOwnProperty(s)&&(r[s]=i[s])}function J(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(J).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function te(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const k=ee({__forward_ref__:ee});function F(r){return r.__forward_ref__=F,r.toString=function(){return J(this())},r}function j(r){return ae(r)?r():r}function ae(r){return"function"==typeof r&&r.hasOwnProperty(k)&&r.__forward_ref__===F}class Ce extends Error{constructor(i,s){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,s)),this.code=i}}function ie(r){return"string"==typeof r?r:null==r?"":String(r)}function le(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ie(r)}function ht(r,i){const s=i?` in ${i}`:"";throw new Ce("201",`No provider for ${le(r)} found${s}`)}function Zt(r,i){null==r&&function(r,i,s,a){throw new Error(`ASSERTION ERROR: ${r}`+(null==a?"":` [Expected=> ${s} ${a} ${i} <=Actual]`))}(i,r,null,"!=")}function Gt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Xt(r){return{providers:r.providers||[],imports:r.imports||[]}}function Ft(r){return Ut(r,Se)||Ut(r,A1)}function Ut(r,i){return r.hasOwnProperty(i)?r[i]:null}function Wn(r){return r&&(r.hasOwnProperty(e1)||r.hasOwnProperty(Dn))?r[e1]:null}const Se=ee({\u0275prov:ee}),e1=ee({\u0275inj:ee}),A1=ee({ngInjectableDef:ee}),Dn=ee({ngInjectorDef:ee});var Ve=(()=>((Ve=Ve||{})[Ve.Default=0]="Default",Ve[Ve.Host=1]="Host",Ve[Ve.Self=2]="Self",Ve[Ve.SkipSelf=4]="SkipSelf",Ve[Ve.Optional=8]="Optional",Ve))();let It;function b1(r){const i=It;return It=r,i}function We(r,i,s){const a=Ft(r);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Ve.Optional?null:void 0!==i?i:void ht(J(r),"Injector")}function dt(r){return{toString:r}.toString()}var pt=(()=>((pt=pt||{})[pt.OnPush=0]="OnPush",pt[pt.Default=1]="Default",pt))(),De=(()=>((De=De||{})[De.Emulated=0]="Emulated",De[De.None=2]="None",De[De.ShadowDom=3]="ShadowDom",De))();const Ze="undefined"!=typeof globalThis&&globalThis,Li="undefined"!=typeof window&&window,Yt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,kt=Ze||"undefined"!=typeof global&&global||Li||Yt,$={},Z=[],W=ee({\u0275cmp:ee}),ye=ee({\u0275dir:ee}),oe=ee({\u0275pipe:ee}),ke=ee({\u0275mod:ee}),Qe=ee({\u0275loc:ee}),xt=ee({\u0275fac:ee}),l1=ee({__NG_ELEMENT_ID__:ee});let w1=0;function V1(r){return dt(()=>{const s={},a={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===pt.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Z,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||De.Emulated,id:"c",styles:r.styles||Z,_:null,setInput:null,schemas:r.schemas||null,tView:null},u=r.directives,f=r.features,p=r.pipes;return a.id+=w1++,a.inputs=vt(r.inputs,s),a.outputs=vt(r.outputs),f&&f.forEach(v=>v(a)),a.directiveDefs=u?()=>("function"==typeof u?u():u).map(q):null,a.pipeDefs=p?()=>("function"==typeof p?p():p).map(G):null,a})}function q(r){return Qt(r)||function(r){return r[ye]||null}(r)}function G(r){return function(r){return r[oe]||null}(r)}const Me={};function Ne(r){return dt(()=>{const i={type:r.type,bootstrap:r.bootstrap||Z,declarations:r.declarations||Z,imports:r.imports||Z,exports:r.exports||Z,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(Me[r.id]=r.type),i})}function et(r,i){return dt(()=>{const s=f1(r,!0);s.declarations=i.declarations||Z,s.imports=i.imports||Z,s.exports=i.exports||Z})}function vt(r,i){if(null==r)return $;const s={};for(const a in r)if(r.hasOwnProperty(a)){let u=r[a],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),s[u]=a,i&&(i[u]=f)}return s}const ut=V1;function v1(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Qt(r){return r[W]||null}function f1(r,i){const s=r[ke]||null;if(!s&&!0===i)throw new Error(`Type ${J(r)} does not have '\u0275mod' property.`);return s}function I2(r){return Array.isArray(r)&&"object"==typeof r[1]}function nn(r){return Array.isArray(r)&&!0===r[1]}function gs(r){return 0!=(8&r.flags)}function bo(r){return 2==(2&r.flags)}function Ri(r){return 1==(1&r.flags)}function u2(r){return null!==r.template}function G1(r){return 0!=(512&r[2])}function Nn(r,i){return r.hasOwnProperty(xt)?r[xt]:null}class S2{constructor(i,s,a){this.previousValue=i,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Pi(){return Ms}function Ms(r){return r.type.prototype.ngOnChanges&&(r.setInput=qr),T2}function T2(){const r=o6(this),i=null==r?void 0:r.current;if(i){const s=r.previous;if(s===$)r.previous=i;else for(let a in i)s[a]=i[a];r.current=null,this.ngOnChanges(i)}}function qr(r,i,s,a){const u=o6(r)||function(r,i){return r[Ln]=i}(r,{previous:$,current:null}),f=u.current||(u.current={}),p=u.previous,v=this.declaredInputs[s],C=p[v];f[v]=new S2(C&&C.currentValue,i,p===$),r[a]=i}Pi.ngInherit=!0;const Ln="__ngSimpleChanges__";function o6(r){return r[Ln]||null}let f2;function s6(r){f2=r}function W2(){return void 0!==f2?f2:"undefined"!=typeof document?document:void 0}function _1(r){return!!r.listen}const q1={createRenderer:(r,i)=>W2()};function qt(r){for(;Array.isArray(r);)r=r[0];return r}function Kr(r,i){return qt(i[r])}function Vn(r,i){return qt(i[r.index])}function ws(r,i){return r.data[i]}function bn(r,i){const s=i[r];return I2(s)?s:s[0]}function wo(r){return 4==(4&r[2])}function Fi(r){return 128==(128&r[2])}function d2(r,i){return null==i?null:r[i]}function Io(r){r[18]=0}function cr(r,i){r[5]+=i;let s=r,a=r[3];for(;null!==a&&(1===i&&1===s[5]||-1===i&&0===s[5]);)a[5]+=i,s=a,a=a[3]}const Je={lFrame:l6(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ui(){return Je.bindingsEnabled}function Ae(){return Je.lFrame.lView}function mt(){return Je.lFrame.tView}function Bi(r){return Je.lFrame.contextLView=r,r[8]}function i1(){let r=ji();for(;null!==r&&64===r.type;)r=r.parent;return r}function ji(){return Je.lFrame.currentTNode}function un(r,i){const s=Je.lFrame;s.currentTNode=r,s.isParent=i}function Zi(){return Je.lFrame.isParent}function Qr(){Je.lFrame.isParent=!1}function xo(){return Je.isInCheckNoChangesMode}function q2(r){Je.isInCheckNoChangesMode=r}function p2(){return Je.lFrame.bindingIndex++}function Ts(r,i){const s=Je.lFrame;s.bindingIndex=s.bindingRootIndex=r,xs(i)}function xs(r){Je.lFrame.currentDirectiveIndex=r}function Ds(){return Je.lFrame.currentQueryIndex}function ur(r){Je.lFrame.currentQueryIndex=r}function Do(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Wi(r,i,s){if(s&Ve.SkipSelf){let u=i,f=r;for(;!(u=u.parent,null!==u||s&Ve.Host||(u=Do(f),null===u||(f=f[15],10&u.type))););if(null===u)return!1;i=u,r=f}const a=Je.lFrame=zo();return a.currentTNode=i,a.lView=r,!0}function Gi(r){const i=zo(),s=r[1];Je.lFrame=i,i.currentTNode=s.firstChild,i.lView=r,i.tView=s,i.contextLView=r,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function zo(){const r=Je.lFrame,i=null===r?null:r.child;return null===i?l6(r):i}function l6(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function S4(){const r=Je.lFrame;return Je.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const No=S4;function fr(){const r=S4();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function K1(){return Je.lFrame.selectedIndex}function Y2(r){Je.lFrame.selectedIndex=r}function I1(){const r=Je.lFrame;return ws(r.tView,r.selectedIndex)}function ti(r,i){for(let s=i.directiveStart,a=i.directiveEnd;s<a;s++){const f=r.data[s].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:E,ngOnDestroy:I}=f;p&&(r.contentHooks||(r.contentHooks=[])).push(-s,p),v&&((r.contentHooks||(r.contentHooks=[])).push(s,v),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(s,v)),C&&(r.viewHooks||(r.viewHooks=[])).push(-s,C),E&&((r.viewHooks||(r.viewHooks=[])).push(s,E),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(s,E)),null!=I&&(r.destroyHooks||(r.destroyHooks=[])).push(s,I)}}function ni(r,i,s){Ns(r,i,3,s)}function dr(r,i,s,a){(3&r[2])===s&&Ns(r,i,s,a)}function R1(r,i){let s=r[2];(3&s)===i&&(s&=2047,s+=1,r[2]=s)}function Ns(r,i,s,a){const f=null!=a?a:-1,p=i.length-1;let v=0;for(let C=void 0!==a?65535&r[18]:0;C<p;C++)if("number"==typeof i[C+1]){if(v=i[C],null!=a&&v>=a)break}else i[C]<0&&(r[18]+=65536),(v<f||-1==f)&&(x4(r,s,i,C),r[18]=(4294901760&r[18])+C+2),C++}function x4(r,i,s,a){const u=s[a]<0,f=s[a+1],v=r[u?-s[a]:s[a]];if(u){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class Ro{constructor(i,s,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function z4(r,i,s){const a=_1(r);let u=0;for(;u<s.length;){const f=s[u];if("number"==typeof f){if(0!==f)break;u++;const p=s[u++],v=s[u++],C=s[u++];a?r.setAttribute(i,v,C,p):i.setAttributeNS(p,v,C)}else{const p=f,v=s[++u];x2(p)?a&&r.setProperty(i,p,v):a?r.setAttribute(i,p,v):i.setAttribute(p,v),u++}}return u}function d6(r){return 3===r||4===r||6===r}function x2(r){return 64===r.charCodeAt(0)}function Po(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let s=-1;for(let a=0;a<i.length;a++){const u=i[a];"number"==typeof u?s=u:0===s||h6(r,s,u,null,-1===s||2===s?i[++a]:null)}}return r}function h6(r,i,s,a,u){let f=0,p=r.length;if(-1===i)p=-1;else for(;f<r.length;){const v=r[f++];if("number"==typeof v){if(v===i){p=-1;break}if(v>i){p=f-1;break}}}for(;f<r.length;){const v=r[f];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==u&&(r[f+1]=u));if(a===r[f+1])return void(r[f+2]=u)}f++,null!==a&&f++,null!==u&&f++}-1!==p&&(r.splice(p,0,i),f=p+1),r.splice(f++,0,s),null!==a&&r.splice(f++,0,a),null!==u&&r.splice(f++,0,u)}function Vs(r){return-1!==r}function Kn(r){return 32767&r}function D2(r,i){let s=function(r){return r>>16}(r),a=i;for(;s>0;)a=a[15],s--;return a}let Rs=!0;function ii(r){const i=Rs;return Rs=r,i}let L4=0;function K2(r,i){const s=S1(r,i);if(-1!==s)return s;const a=i[1];a.firstCreatePass&&(r.injectorIndex=i.length,Yi(a.data,r),Yi(i,null),Yi(a.blueprint,null));const u=je(r,i),f=r.injectorIndex;if(Vs(u)){const p=Kn(u),v=D2(u,i),C=v[1].data;for(let E=0;E<8;E++)i[f+E]=v[p+E]|C[p+E]}return i[f+8]=u,f}function Yi(r,i){r.push(0,0,0,0,0,0,0,0,i)}function S1(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function je(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let s=0,a=null,u=i;for(;null!==u;){const f=u[1],p=f.type;if(a=2===p?f.declTNode:1===p?u[6]:null,null===a)return-1;if(s++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Rn(r,i,s){!function(r,i,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(l1)&&(a=s[l1]),null==a&&(a=s[l1]=L4++);const u=255&a;i.data[r+(u>>5)]|=1<<u}(r,i,s)}function Q1(r,i,s){if(s&Ve.Optional)return r;ht(i,"NodeInjector")}function ks(r,i,s,a){if(s&Ve.Optional&&void 0===a&&(a=null),0==(s&(Ve.Self|Ve.Host))){const u=r[9],f=b1(void 0);try{return u?u.get(i,a,s&Ve.Optional):We(i,a,s&Ve.Optional)}finally{b1(f)}}return Q1(a,i,s)}function mr(r,i,s,a=Ve.Default,u){if(null!==r){const f=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(l1)?r[l1]:void 0;return"number"==typeof i?i>=0?255&i:ko:i}(s);if("function"==typeof f){if(!Wi(i,r,a))return a&Ve.Host?Q1(u,s,a):ks(i,s,a,u);try{const p=f(a);if(null!=p||a&Ve.Optional)return p;ht(s)}finally{No()}}else if("number"==typeof f){let p=null,v=S1(r,i),C=-1,E=a&Ve.Host?i[16][6]:null;for((-1===v||a&Ve.SkipSelf)&&(C=-1===v?je(r,i):i[v+8],-1!==C&&Os(a,!1)?(p=i[1],v=Kn(C),i=D2(C,i)):v=-1);-1!==v;){const I=i[1];if(oi(f,v,I.data)){const z=Oo(v,i,s,p,a,E);if(z!==J1)return z}C=i[v+8],-1!==C&&Os(a,i[1].data[v+8]===E)&&oi(f,v,i)?(p=I,v=Kn(C),i=D2(C,i)):v=-1}}}return ks(i,s,a,u)}const J1={};function ko(){return new v2(i1(),Ae())}function Oo(r,i,s,a,u,f){const p=i[1],v=p.data[r+8],I=Ho(v,p,s,null==a?bo(v)&&Rs:a!=p&&0!=(3&v.type),u&Ve.Host&&f===v);return null!==I?zt(i,p,I,v):J1}function Ho(r,i,s,a,u){const f=r.providerIndexes,p=i.data,v=1048575&f,C=r.directiveStart,I=f>>20,L=u?v+I:r.directiveEnd;for(let B=a?v:v+I;B<L;B++){const K=p[B];if(B<C&&s===K||B>=C&&K.type===s)return B}if(u){const B=p[C];if(B&&u2(B)&&B.type===s)return C}return null}function zt(r,i,s,a){let u=r[s];const f=i.data;if(function(r){return r instanceof Ro}(u)){const p=u;p.resolving&&function(r,i){throw new Ce("200",`Circular dependency in DI detected for ${r}`)}(le(f[s]));const v=ii(p.canSeeViewProviders);p.resolving=!0;const C=p.injectImpl?b1(p.injectImpl):null;Wi(r,a,Ve.Default);try{u=r[s]=p.factory(void 0,f,r,a),i.firstCreatePass&&s>=a.directiveStart&&function(r,i,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:f}=i.type.prototype;if(a){const p=Ms(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(r,p),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,p)}u&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-r,u),f&&((s.preOrderHooks||(s.preOrderHooks=[])).push(r,f),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,f))}(s,f[s],i)}finally{null!==C&&b1(C),ii(v),p.resolving=!1,No()}}return u}function oi(r,i,s){return!!(s[i+(r>>5)]&1<<r)}function Os(r,i){return!(r&Ve.Self||r&Ve.Host&&i)}class v2{constructor(i,s){this._tNode=i,this._lView=s}get(i,s){return mr(this._tNode,this._lView,i,void 0,s)}}function k4(r){return dt(()=>{const i=r.prototype.constructor,s=i[xt]||Ki(i),a=Object.prototype;let u=Object.getPrototypeOf(r.prototype).constructor;for(;u&&u!==a;){const f=u[xt]||Ki(u);if(f&&f!==s)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function Ki(r){return ae(r)?()=>{const i=Ki(j(r));return i&&i()}:Nn(r)}function Hs(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const s=r.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const f=s[u];if(d6(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(f===i)return s[u+1];u+=2}}}return null}(i1(),r)}const Pn="__parameters__";function Q2(r,i,s){return dt(()=>{const a=function(r){return function(...s){if(r){const a=r(...s);for(const u in a)this[u]=a[u]}}}(i);function u(...f){if(this instanceof u)return a.apply(this,f),this;const p=new u(...f);return v.annotation=p,v;function v(C,E,I){const z=C.hasOwnProperty(Pn)?C[Pn]:Object.defineProperty(C,Pn,{value:[]})[Pn];for(;z.length<=I;)z.push(null);return(z[I]=z[I]||[]).push(p),C}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=r,u.annotationCls=u,u})}class y1{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Gt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const p6=new y1("AnalyzeForEntryComponents"),Qi=Function;function Jn(r,i){void 0===i&&(i=r);for(let s=0;s<r.length;s++){let a=r[s];Array.isArray(a)?(i===r&&(i=r.slice(0,s)),Jn(a,i)):i!==r&&i.push(a)}return i}function N2(r,i){r.forEach(s=>Array.isArray(s)?N2(s,i):i(s))}function Ji(r,i,s){i>=r.length?r.push(s):r.splice(i,0,s)}function Cr(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function En(r,i){const s=[];for(let a=0;a<r;a++)s.push(i);return s}function x1(r,i,s){let a=L2(r,i);return a>=0?r[1|a]=s:(a=~a,function(r,i,s,a){let u=r.length;if(u==i)r.push(s,a);else if(1===u)r.push(a,r[0]),r[0]=s;else{for(u--,r.push(r[u-1],r[u]);u>i;)r[u]=r[u-2],u--;r[i]=s,r[i+1]=a}}(r,a,i,s)),a}function dn(r,i){const s=L2(r,i);if(s>=0)return r[1|s]}function L2(r,i){return function(r,i,s){let a=0,u=r.length>>s;for(;u!==a;){const f=a+(u-a>>1),p=r[f<<s];if(i===p)return f<<s;p>i?u=f:a=f+1}return~(u<<s)}(r,i,1)}const Re={},bt="__NG_DI_FLAG__",Ot="ngTempTokenPath",An=/\n/gm,ci="__source",br=ee({provide:String,useValue:ee});let pn;function Xe(r){const i=pn;return pn=r,i}function U4(r,i=Ve.Default){if(void 0===pn)throw new Error("inject() must be called from an injection context");return null===pn?We(r,void 0,i):pn.get(r,i&Ve.Optional?null:void 0,i)}function o1(r,i=Ve.Default){return(It||U4)(j(r),i)}function Mr(r){const i=[];for(let s=0;s<r.length;s++){const a=j(r[s]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let u,f=Ve.Default;for(let p=0;p<a.length;p++){const v=a[p],C=M6(v);"number"==typeof C?-1===C?u=v.token:f|=C:u=v}i.push(o1(u,f))}else i.push(o1(a))}return i}function Xi(r,i){return r[bt]=i,r.prototype[bt]=i,r}function M6(r){return r[bt]}function V2(r,i,s,a){const u=r[Ot];throw i[ci]&&u.unshift(i[ci]),r.message=function(r,i,s,a=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let u=J(i);if(Array.isArray(i))u=i.map(J).join(" -> ");else if("object"==typeof i){let f=[];for(let p in i)if(i.hasOwnProperty(p)){let v=i[p];f.push(p+":"+("string"==typeof v?JSON.stringify(v):J(v)))}u=`{${f.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${r.replace(An,"\n  ")}`}("\n"+r.message,u,s,a),r.ngTokenPath=u,r[Ot]=null,r}const eo=Xi(Q2("Inject",r=>({token:r})),-1),li=Xi(Q2("Optional"),8),on=Xi(Q2("SkipSelf"),4);let to,q4;function Ar(r){var i;return(null===(i=function(){if(void 0===to&&(to=null,kt.trustedTypes))try{to=kt.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return to}())||void 0===i?void 0:i.createHTML(r))||r}function Ws(r){var i;return(null===(i=function(){if(void 0===q4&&(q4=null,kt.trustedTypes))try{q4=kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return q4}())||void 0===i?void 0:i.createHTML(r))||r}class no{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Bc extends no{getTypeName(){return"HTML"}}class jc extends no{getTypeName(){return"Style"}}class Y4 extends no{getTypeName(){return"Script"}}class Zc extends no{getTypeName(){return"URL"}}class $c extends no{getTypeName(){return"ResourceURL"}}function wr(r){return r instanceof no?r.changingThisBreaksApplicationSecurity:r}function hi(r,i){const s=K0(r);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}function K0(r){return r instanceof no&&r.getTypeName()||null}function Q0(r){return new Bc(r)}function S6(r){return new jc(r)}function T6(r){return new Y4(r)}function Ir(r){return new Zc(r)}function Ko(r){return new $c(r)}class J0{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Ar(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Wc{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Ar(i),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Ar(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(i){const s=i.attributes;for(let u=s.length-1;0<u;u--){const p=s.item(u).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&i.removeAttribute(p)}let a=i.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const K4=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Qo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jo(r){return(r=String(r)).match(K4)||r.match(Qo)?r:"unsafe:"+r}function R2(r){const i={};for(const s of r.split(","))i[s]=!0;return i}function Tr(...r){const i={};for(const s of r)for(const a in s)s.hasOwnProperty(a)&&(i[a]=!0);return i}const Q4=R2("area,br,col,hr,img,wbr"),D6=R2("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xo=R2("rp,rt"),X0=Tr(Q4,Tr(D6,R2("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Tr(Xo,R2("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tr(Xo,D6)),_=R2("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),h=R2("srcset"),S=Tr(_,h,R2("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),R2("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),x=R2("script,style,template");class Q{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let u=this.checkClobberedElement(s,s.nextSibling);if(u){s=u;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!X0.hasOwnProperty(s))return this.sanitizedSomething=!0,!x.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=i.attributes;for(let u=0;u<a.length;u++){const f=a.item(u),p=f.name,v=p.toLowerCase();if(!S.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let C=f.value;_[v]&&(C=Jo(C)),h[v]&&(r=C,C=(r=String(r)).split(",").map(i=>Jo(i.trim())).join(", ")),this.buf.push(" ",p,'="',ze(C),'"')}var r;return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();X0.hasOwnProperty(s)&&!Q4.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(ze(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const _e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pe=/([^\#-~ |!])/g;function ze(r){return r.replace(/&/g,"&amp;").replace(_e,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Pe,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qe;function Nt(r,i){let s=null;try{qe=qe||function(r){const i=new Wc(r);return function(){try{return!!(new window.DOMParser).parseFromString(Ar(""),"text/html")}catch(r){return!1}}()?new J0(i):i}(r);let a=i?String(i):"";s=qe.getInertBodyElement(a);let u=5,f=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=f,f=s.innerHTML,s=qe.getInertBodyElement(a)}while(a!==f);return Ar((new Q).sanitizeChildren(n1(s)||s))}finally{if(s){const a=n1(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function n1(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var r1=(()=>((r1=r1||{})[r1.NONE=0]="NONE",r1[r1.HTML=1]="HTML",r1[r1.STYLE=2]="STYLE",r1[r1.SCRIPT=3]="SCRIPT",r1[r1.URL=4]="URL",r1[r1.RESOURCE_URL=5]="RESOURCE_URL",r1))();function es(r){const i=qs();return i?Ws(i.sanitize(r1.HTML,r)||""):hi(r,"HTML")?Ws(wr(r)):Nt(W2(),ie(r))}function X4(r){const i=qs();return i?i.sanitize(r1.URL,r)||"":hi(r,"URL")?wr(r):Jo(ie(r))}function qs(){const r=Ae();return r&&r[12]}const ra="__ngContext__";function wn(r,i){r[ra]=i}function Yc(r){const i=function(r){return r[ra]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function Ys(r){return r.ngOriginalError}function Dp(r,...i){r.error(...i)}class sa{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i),a=this._findContext(i),u=(r=i)&&r.ngErrorLogger||Dp;var r;u(this._console,"ERROR",i),s&&u(this._console,"ORIGINAL ERROR",s),a&&u(this._console,"ERROR CONTEXT",a)}_findContext(i){return i?i.ngDebugContext||this._findContext(Ys(i)):null}_findOriginalError(i){let s=i&&Ys(i);for(;s&&Ys(s);)s=Ys(s);return s||null}}const lu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(kt))();function pi(r){return r instanceof Function?r():r}var mi=(()=>((mi=mi||{})[mi.Important=1]="Important",mi[mi.DashCase=2]="DashCase",mi))();function a3(r,i){return undefined(r,i)}function R6(r){const i=r[3];return nn(i)?i[3]:i}function c3(r){return n8(r[13])}function pu(r){return n8(r[4])}function n8(r){for(;null!==r&&!nn(r);)r=r[4];return r}function Ks(r,i,s,a,u){if(null!=a){let f,p=!1;nn(a)?f=a:I2(a)&&(p=!0,a=a[0]);const v=qt(a);0===r&&null!==s?null==u?yu(i,s,v):rs(i,s,v,u||null,!0):1===r&&null!==s?rs(i,s,v,u||null,!0):2===r?function(r,i,s){const a=d3(r,i);a&&function(r,i,s,a){_1(r)?r.removeChild(i,s,a):i.removeChild(s)}(r,a,i,s)}(i,v,p):3===r&&i.destroyNode(v),null!=f&&function(r,i,s,a,u){const f=s[7];f!==qt(s)&&Ks(i,r,a,f,u);for(let v=10;v<s.length;v++){const C=s[v];Js(C[1],C,r,i,a,f)}}(i,r,f,s,u)}}function r8(r,i,s){return _1(r)?r.createElement(i,s):null===s?r.createElement(i):r.createElementNS(s,i)}function u3(r,i){const s=r[9],a=s.indexOf(i),u=i[3];1024&i[2]&&(i[2]&=-1025,cr(u,-1)),s.splice(a,1)}function f3(r,i){if(r.length<=10)return;const s=10+i,a=r[s];if(a){const u=a[17];null!==u&&u!==r&&u3(u,a),i>0&&(r[s-1][4]=a[4]);const f=Cr(r,10+i);!function(r,i){Js(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(a[1],a);const p=f[19];null!==p&&p.detachView(f[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function gu(r,i){if(!(256&i[2])){const s=i[11];_1(s)&&s.destroyNode&&Js(r,i,s,3,null,null),function(r){let i=r[13];if(!i)return ns(r[1],r);for(;i;){let s=null;if(I2(i))s=i[13];else{const a=i[10];a&&(s=a)}if(!s){for(;i&&!i[4]&&i!==r;)I2(i)&&ns(i[1],i),i=i[3];null===i&&(i=r),I2(i)&&ns(i[1],i),s=i&&i[4]}i=s}}(i)}}function ns(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let s;if(null!=r&&null!=(s=r.destroyHooks))for(let a=0;a<s.length;a+=2){const u=i[s[a]];if(!(u instanceof Ro)){const f=s[a+1];if(Array.isArray(f))for(let p=0;p<f.length;p+=2){const v=u[f[p]],C=f[p+1];try{C.call(v)}finally{}}else try{f.call(u)}finally{}}}}(r,i),function(r,i){const s=r.cleanup,a=i[7];let u=-1;if(null!==s)for(let f=0;f<s.length-1;f+=2)if("string"==typeof s[f]){const p=s[f+1],v="function"==typeof p?p(i):qt(i[p]),C=a[u=s[f+2]],E=s[f+3];"boolean"==typeof E?v.removeEventListener(s[f],C,E):E>=0?a[u=E]():a[u=-E].unsubscribe(),f+=2}else{const p=a[u=s[f+1]];s[f].call(p)}if(null!==a){for(let f=u+1;f<a.length;f++)a[f]();i[7]=null}}(r,i),1===i[1].type&&_1(i[11])&&i[11].destroy();const s=i[17];if(null!==s&&nn(i[3])){s!==i[3]&&u3(s,i);const a=i[19];null!==a&&a.detachView(r)}}}function vu(r,i,s){return function(r,i,s){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return s[0];if(2&a.flags){const u=r.data[a.directiveStart].encapsulation;if(u===De.None||u===De.Emulated)return null}return Vn(a,s)}(r,i.parent,s)}function rs(r,i,s,a,u){_1(r)?r.insertBefore(i,s,a,u):i.insertBefore(s,a,u)}function yu(r,i,s){_1(r)?r.appendChild(i,s):i.appendChild(s)}function Cu(r,i,s,a,u){null!==a?rs(r,i,s,a,u):yu(r,i,s)}function d3(r,i){return _1(r)?r.parentNode(i):i.parentNode}function ca(r,i,s){return Qs(r,i,s)}let Qs=function(r,i,s){return 40&r.type?Vn(r,s):null};function la(r,i,s,a){const u=vu(r,a,i),f=i[11],v=ca(a.parent||i[6],a,i);if(null!=u)if(Array.isArray(s))for(let C=0;C<s.length;C++)Cu(f,u,s[C],v,!1);else Cu(f,u,s,v,!1)}function m3(r,i){if(null!==i){const s=i.type;if(3&s)return Vn(i,r);if(4&s)return s8(-1,r[i.index]);if(8&s){const a=i.child;if(null!==a)return m3(r,a);{const u=r[i.index];return nn(u)?s8(-1,u):qt(u)}}if(32&s)return a3(i,r)()||qt(r[i.index]);{const a=o8(r,i);return null!==a?Array.isArray(a)?a[0]:m3(R6(r[16]),a):m3(r,i.next)}}return null}function o8(r,i){return null!==i?r[16][6].projection[i.projection]:null}function s8(r,i){const s=10+r+1;if(s<i.length){const a=i[s],u=a[1].firstChild;if(null!==u)return m3(a,u)}return i[7]}function g3(r,i,s,a,u,f,p){for(;null!=s;){const v=a[s.index],C=s.type;if(p&&0===i&&(v&&wn(qt(v),a),s.flags|=4),64!=(64&s.flags))if(8&C)g3(r,i,s.child,a,u,f,!1),Ks(i,r,u,v,f);else if(32&C){const E=a3(s,a);let I;for(;I=E();)Ks(i,r,u,I,f);Ks(i,r,u,v,f)}else 16&C?is(r,i,a,s,u,f):Ks(i,r,u,v,f);s=p?s.projectionNext:s.next}}function Js(r,i,s,a,u,f){g3(s,a,r.firstChild,i,u,f,!1)}function is(r,i,s,a,u,f){const p=s[16],C=p[6].projection[a.projection];if(Array.isArray(C))for(let E=0;E<C.length;E++)Ks(i,r,u,C[E],f);else g3(r,i,C,p[3],u,f,!0)}function Eu(r,i,s){_1(r)?r.setAttribute(i,"style",s):i.style.cssText=s}function c8(r,i,s){_1(r)?""===s?r.removeAttribute(i,"class"):r.setAttribute(i,"class",s):i.className=s}function l8(r,i,s){let a=r.length;for(;;){const u=r.indexOf(i,s);if(-1===u)return u;if(0===u||r.charCodeAt(u-1)<=32){const f=i.length;if(u+f===a||r.charCodeAt(u+f)<=32)return u}s=u+1}}const Au="ng-template";function Yp(r,i,s){let a=0;for(;a<r.length;){let u=r[a++];if(s&&"class"===u){if(u=r[a],-1!==l8(u.toLowerCase(),i,0))return!0}else if(1===u){for(;a<r.length&&"string"==typeof(u=r[a++]);)if(u.toLowerCase()===i)return!0;return!1}}return!1}function u8(r){return 4===r.type&&r.value!==Au}function Kp(r,i,s){return i===(4!==r.type||s?r.value:Au)}function Qp(r,i,s){let a=4;const u=r.attrs||[],f=function(r){for(let i=0;i<r.length;i++)if(d6(r[i]))return i;return r.length}(u);let p=!1;for(let v=0;v<i.length;v++){const C=i[v];if("number"!=typeof C){if(!p)if(4&a){if(a=2|1&a,""!==C&&!Kp(r,C,s)||""===C&&1===i.length){if(xr(a))return!1;p=!0}}else{const E=8&a?C:i[++v];if(8&a&&null!==r.attrs){if(!Yp(r.attrs,E,s)){if(xr(a))return!1;p=!0}continue}const z=f8(8&a?"class":C,u,u8(r),s);if(-1===z){if(xr(a))return!1;p=!0;continue}if(""!==E){let L;L=z>f?"":u[z+1].toLowerCase();const B=8&a?L:null;if(B&&-1!==l8(B,E,0)||2&a&&E!==L){if(xr(a))return!1;p=!0}}}}else{if(!p&&!xr(a)&&!xr(C))return!1;if(p&&xr(C))continue;p=!1,a=C|1&a}}return xr(a)||p}function xr(r){return 0==(1&r)}function f8(r,i,s,a){if(null===i)return-1;let u=0;if(a||!s){let f=!1;for(;u<i.length;){const p=i[u];if(p===r)return u;if(3===p||6===p)f=!0;else{if(1===p||2===p){let v=i[++u];for(;"string"==typeof v;)v=i[++u];continue}if(4===p)break;if(0===p){u+=4;continue}}u+=f?1:2}return-1}return function(r,i){let s=r.indexOf(4);if(s>-1)for(s++;s<r.length;){const a=r[s];if("number"==typeof a)return-1;if(a===i)return s;s++}return-1}(i,r)}function wu(r,i,s=!1){for(let a=0;a<i.length;a++)if(Qp(r,i[a],s))return!0;return!1}function JA(r,i){e:for(let s=0;s<i.length;s++){const a=i[s];if(r.length===a.length){for(let u=0;u<r.length;u++)if(r[u]!==a[u])continue e;return!0}}return!1}function Su(r,i){return r?":not("+i.trim()+")":i}function em(r){let i=r[0],s=1,a=2,u="",f=!1;for(;s<r.length;){let p=r[s];if("string"==typeof p)if(2&a){const v=r[++s];u+="["+p+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?u+="."+p:4&a&&(u+=" "+p);else""!==u&&!xr(p)&&(i+=Su(f,u),u=""),a=p,f=f||!xr(a);s++}return""!==u&&(i+=Su(f,u)),i}const rt={};function Dr(r){xu(mt(),Ae(),K1()+r,xo())}function xu(r,i,s,a){if(!a)if(3==(3&i[2])){const f=r.preOrderCheckHooks;null!==f&&ni(i,f,s)}else{const f=r.preOrderHooks;null!==f&&dr(i,f,0,s)}Y2(s)}function P6(r,i){return r<<17|i<<2}function zr(r){return r>>17&32767}function vi(r){return 2|r}function kn(r){return(131068&r)>>2}function _3(r,i){return-131069&r|i<<2}function _i(r){return 1|r}function mm(r,i){const s=r.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const u=s[a],f=s[a+1];if(-1!==f){const p=r.data[f];ur(u),p.contentQueries(2,i[f],f)}}}function b3(r,i,s,a,u,f,p,v,C,E){const I=i.blueprint.slice();return I[0]=u,I[2]=140|a,Io(I),I[3]=I[15]=r,I[8]=s,I[10]=p||r&&r[10],I[11]=v||r&&r[11],I[12]=C||r&&r[12]||null,I[9]=E||r&&r[9]||null,I[6]=f,I[16]=2==i.type?r[16]:I,I}function F6(r,i,s,a,u){let f=r.data[i];if(null===f)f=function(r,i,s,a,u){const f=ji(),p=Zi(),C=r.data[i]=function(r,i,s,a,u,f){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?f:f&&f.parent,s,i,a,u);return null===r.firstChild&&(r.firstChild=C),null!==f&&(p?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C)),C}(r,i,s,a,u),Je.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=s,f.value=a,f.attrs=u;const p=function(){const r=Je.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();f.injectorIndex=null===p?-1:p.injectorIndex}return un(f,!0),f}function io(r,i,s,a){if(0===s)return-1;const u=i.length;for(let f=0;f<s;f++)i.push(a),r.blueprint.push(a),r.data.push(null);return u}function oo(r,i,s){Gi(i);try{const a=r.viewQuery;null!==a&&W6(1,a,s);const u=r.template;null!==u&&Ou(r,i,u,1,s),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&mm(r,i),r.staticViewQueries&&W6(2,r.viewQuery,s);const f=r.components;null!==f&&function(r,i){for(let s=0;s<i.length;s++)ma(r,i[s])}(i,f)}catch(a){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),a}finally{i[2]&=-5,fr()}}function so(r,i,s,a){const u=i[2];if(256==(256&u))return;Gi(i);const f=xo();try{Io(i),function(r){Je.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==s&&Ou(r,i,s,2,a);const p=3==(3&u);if(!f)if(p){const E=r.preOrderCheckHooks;null!==E&&ni(i,E,null)}else{const E=r.preOrderHooks;null!==E&&dr(i,E,0,null),R1(i,0)}if(function(r){for(let i=c3(r);null!==i;i=pu(i)){if(!i[2])continue;const s=i[9];for(let a=0;a<s.length;a++){const u=s[a],f=u[3];0==(1024&u[2])&&cr(f,1),u[2]|=1024}}}(i),function(r){for(let i=c3(r);null!==i;i=pu(i))for(let s=10;s<i.length;s++){const a=i[s],u=a[1];Fi(a)&&so(u,a,u.template,a[8])}}(i),null!==r.contentQueries&&mm(r,i),!f)if(p){const E=r.contentCheckHooks;null!==E&&ni(i,E)}else{const E=r.contentHooks;null!==E&&dr(i,E,1),R1(i,1)}!function(r,i){const s=r.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)Y2(~u);else{const f=u,p=s[++a],v=s[++a];Ts(p,f),v(2,i[f])}}}finally{Y2(-1)}}(r,i);const v=r.components;null!==v&&function(r,i){for(let s=0;s<i.length;s++)Wu(r,i[s])}(i,v);const C=r.viewQuery;if(null!==C&&W6(2,C,a),!f)if(p){const E=r.viewCheckHooks;null!==E&&ni(i,E)}else{const E=r.viewHooks;null!==E&&dr(i,E,2),R1(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),f||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,cr(i[3],-1))}finally{fr()}}function M3(r,i,s,a){const u=i[10],f=!xo(),p=wo(i);try{f&&!p&&u.begin&&u.begin(),p&&oo(r,i,a),so(r,i,s,a)}finally{f&&!p&&u.end&&u.end()}}function Ou(r,i,s,a,u){const f=K1(),p=2&a;try{Y2(-1),p&&i.length>20&&xu(r,i,20,xo()),s(a,u)}finally{Y2(f)}}function fa(r,i,s){!Ui()||(function(r,i,s,a){const u=s.directiveStart,f=s.directiveEnd;r.firstCreatePass||K2(s,i),wn(a,i);const p=s.initialInputs;for(let v=u;v<f;v++){const C=r.data[v],E=u2(C);E&&Zu(i,s,C);const I=zt(i,r,v,s);wn(I,i),null!==p&&aw(0,v-u,I,C,0,p),E&&(bn(s.index,i)[8]=I)}}(r,i,s,Vn(s,i)),128==(128&s.flags)&&function(r,i,s){const a=s.directiveStart,u=s.directiveEnd,p=s.index,v=Je.lFrame.currentDirectiveIndex;try{Y2(p);for(let C=a;C<u;C++){const E=r.data[C],I=i[C];xs(C),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&e4(E,I)}}finally{Y2(-1),xs(v)}}(r,i,s))}function y8(r,i,s=Vn){const a=i.localNames;if(null!==a){let u=i.index+1;for(let f=0;f<a.length;f+=2){const p=a[f+1],v=-1===p?s(i,r):r[p];r[u++]=v}}}function Hu(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=U6(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function U6(r,i,s,a,u,f,p,v,C,E){const I=20+a,z=I+u,L=function(r,i){const s=[];for(let a=0;a<i;a++)s.push(a<r?null:rt);return s}(I,z),B="function"==typeof E?E():E;return L[1]={type:r,blueprint:L,template:s,queries:null,viewQuery:v,declTNode:i,data:L.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:C,consts:B,incompleteFirstPass:!1}}function Fu(r,i,s,a){const u=Yu(i);null===s?u.push(a):(u.push(s),r.firstCreatePass&&as(r).push(a,u.length-1))}function Uu(r,i,s){for(let a in r)if(r.hasOwnProperty(a)){const u=r[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(i,u):s[a]=[i,u]}return s}function On(r,i,s,a,u,f,p,v){const C=Vn(i,s);let I,E=i.inputs;!v&&null!=E&&(I=E[a])?(Qu(r,s,I,a,u),bo(i)&&function(r,i){const s=bn(i,r);16&s[2]||(s[2]|=64)}(s,i.index)):3&i.type&&(a=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(a),u=null!=p?p(u,i.value||"",a):u,_1(f)?f.setProperty(C,a,u):x2(a)||(C.setProperty?C.setProperty(a,u):C[a]=u))}function A3(r,i,s,a){let u=!1;if(Ui()){const f=function(r,i,s){const a=r.directiveRegistry;let u=null;if(a)for(let f=0;f<a.length;f++){const p=a[f];wu(s,p.selectors,!1)&&(u||(u=[]),Rn(K2(s,i),r,p.type),u2(p)?(I3(r,s),u.unshift(p)):u.push(p))}return u}(r,i,s),p=null===a?null:{"":-1};if(null!==f){u=!0,ha(s,r.data.length,f.length);for(let I=0;I<f.length;I++){const z=f[I];z.providersResolver&&z.providersResolver(z)}let v=!1,C=!1,E=io(r,i,f.length,null);for(let I=0;I<f.length;I++){const z=f[I];s.mergedAttrs=Po(s.mergedAttrs,z.hostAttrs),pa(r,s,i,E,z),sw(E,z,p),null!==z.contentQueries&&(s.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(s.flags|=128);const L=z.type.prototype;!v&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(s.index),v=!0),!C&&(L.ngOnChanges||L.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(s.index),C=!0),E++}!function(r,i){const a=i.directiveEnd,u=r.data,f=i.attrs,p=[];let v=null,C=null;for(let E=i.directiveStart;E<a;E++){const I=u[E],z=I.inputs,L=null===f||u8(i)?null:cw(z,f);p.push(L),v=Uu(z,E,v),C=Uu(I.outputs,E,C)}null!==v&&(v.hasOwnProperty("class")&&(i.flags|=16),v.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=p,i.inputs=v,i.outputs=C}(r,s)}p&&function(r,i,s){if(i){const a=r.localNames=[];for(let u=0;u<i.length;u+=2){const f=s[i[u+1]];if(null==f)throw new Ce("301",`Export of name '${i[u+1]}' not found!`);a.push(i[u],f)}}}(s,a,p)}return s.mergedAttrs=Po(s.mergedAttrs,s.attrs),u}function w3(r,i,s,a,u,f){const p=f.hostBindings;if(p){let v=r.hostBindingOpCodes;null===v&&(v=r.hostBindingOpCodes=[]);const C=~i.index;(function(r){let i=r.length;for(;i>0;){const s=r[--i];if("number"==typeof s&&s<0)return s}return 0})(v)!=C&&v.push(C),v.push(a,u,p)}}function e4(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function I3(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function sw(r,i,s){if(s){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)s[i.exportAs[a]]=r;u2(i)&&(s[""]=r)}}function ha(r,i,s){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+s,r.providerIndexes=i}function pa(r,i,s,a,u){r.data[a]=u;const f=u.factory||(u.factory=Nn(u.type)),p=new Ro(f,u2(u),null);r.blueprint[a]=p,s[a]=p,w3(r,i,0,a,io(r,s,u.hostVars,rt),u)}function Zu(r,i,s){const a=Vn(i,r),u=Hu(s),f=r[10],p=co(r,b3(r,u,null,s.onPush?64:16,a,i,f,f.createRenderer(a,s),null,null));r[i.index]=p}function ao(r,i,s,a,u,f){const p=Vn(r,i);!function(r,i,s,a,u,f,p){if(null==f)_1(r)?r.removeAttribute(i,u,s):i.removeAttribute(u);else{const v=null==p?ie(f):p(f,a||"",u);_1(r)?r.setAttribute(i,u,v,s):s?i.setAttributeNS(s,u,v):i.setAttribute(u,v)}}(i[11],p,f,r.value,s,a,u)}function aw(r,i,s,a,u,f){const p=f[i];if(null!==p){const v=a.setInput;for(let C=0;C<p.length;){const E=p[C++],I=p[C++],z=p[C++];null!==v?a.setInput(s,z,E,I):s[I]=z}}}function cw(r,i){let s=null,a=0;for(;a<i.length;){const u=i[a];if(0!==u)if(5!==u){if("number"==typeof u)break;r.hasOwnProperty(u)&&(null===s&&(s=[]),s.push(u,r[u],i[a+1])),a+=2}else a+=2;else a+=4}return s}function S8(r,i,s,a){return new Array(r,!0,!1,i,null,0,a,s,null,null)}function Wu(r,i){const s=bn(i,r);if(Fi(s)){const a=s[1];80&s[2]?so(a,s,a.template,s[8]):s[5]>0&&$6(s)}}function $6(r){for(let a=c3(r);null!==a;a=pu(a))for(let u=10;u<a.length;u++){const f=a[u];if(1024&f[2]){const p=f[1];so(p,f,p.template,f[8])}else f[5]>0&&$6(f)}const s=r[1].components;if(null!==s)for(let a=0;a<s.length;a++){const u=bn(s[a],r);Fi(u)&&u[5]>0&&$6(u)}}function ma(r,i){const s=bn(i,r),a=s[1];(function(r,i){for(let s=i.length;s<r.blueprint.length;s++)i.push(r.blueprint[s])})(a,s),oo(a,s,s[8])}function co(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function T8(r){for(;r;){r[2]|=64;const i=R6(r);if(G1(r)&&!i)return r;r=i}return null}function x8(r,i,s){const a=i[10];a.begin&&a.begin();try{so(r,i,r.template,s)}catch(u){throw T3(i,u),u}finally{a.end&&a.end()}}function D8(r){!function(r){for(let i=0;i<r.components.length;i++){const s=r.components[i],a=Yc(s),u=a[1];M3(u,a,u.template,s)}}(r[8])}function W6(r,i,s){ur(0),i(r,s)}const qu=(()=>Promise.resolve(null))();function Yu(r){return r[7]||(r[7]=[])}function as(r){return r.cleanup||(r.cleanup=[])}function T3(r,i){const s=r[9],a=s?s.get(sa,null):null;a&&a.handleError(i)}function Qu(r,i,s,a,u){for(let f=0;f<s.length;){const p=s[f++],v=s[f++],C=i[p],E=r.data[p];null!==E.setInput?E.setInput(C,u,a,v):C[v]=u}}function Nr(r,i,s){const a=Kr(i,r);!function(r,i,s){_1(r)?r.setValue(i,s):i.textContent=s}(r[11],a,s)}function G6(r,i,s){let a=s?r.styles:null,u=s?r.classes:null,f=0;if(null!==i)for(let p=0;p<i.length;p++){const v=i[p];"number"==typeof v?f=v:1==f?u=te(u,v):2==f&&(a=te(a,v+": "+i[++p]+";"))}s?r.styles=a:r.stylesWithoutHost=a,s?r.classes=u:r.classesWithoutHost=u}const t4=new y1("INJECTOR",-1);class Ju{get(i,s=Re){if(s===Re){const a=new Error(`NullInjectorError: No provider for ${J(i)}!`);throw a.name="NullInjectorError",a}return s}}const Lr=new y1("Set Injector scope."),lo={},Em={};let x3;function Xu(){return void 0===x3&&(x3=new Ju),x3}function D3(r,i=null,s=null,a){return new q6(r,s,i||Xu(),a)}class q6{constructor(i,s,a,u=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];s&&N2(s,v=>this.processProvider(v,i,s)),N2([i],v=>this.processInjectorType(v,[],f)),this.records.set(t4,va(void 0,this));const p=this.records.get(Lr);this.scope=null!=p?p.value:null,this.source=u||("object"==typeof i?null:J(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,s=Re,a=Ve.Default){this.assertNotDestroyed();const u=Xe(this),f=b1(void 0);try{if(!(a&Ve.SkipSelf)){let v=this.records.get(i);if(void 0===v){const C=("function"==typeof(r=i)||"object"==typeof r&&r instanceof y1)&&Ft(i);v=C&&this.injectableDefInScope(C)?va(z3(i),lo):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(a&Ve.Self?Xu():this.parent).get(i,s=a&Ve.Optional&&s===Re?null:s)}catch(p){if("NullInjectorError"===p.name){if((p[Ot]=p[Ot]||[]).unshift(J(i)),u)throw p;return V2(p,i,"R3InjectorError",this.source)}throw p}finally{b1(f),Xe(u)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((a,u)=>i.push(J(u))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,s,a){if(!(i=j(i)))return!1;let u=Wn(i);const f=null==u&&i.ngModule||void 0,p=void 0===f?i:f,v=-1!==a.indexOf(p);if(void 0!==f&&(u=Wn(f)),null==u)return!1;if(null!=u.imports&&!v){let I;a.push(p);try{N2(u.imports,z=>{this.processInjectorType(z,s,a)&&(void 0===I&&(I=[]),I.push(z))})}finally{}if(void 0!==I)for(let z=0;z<I.length;z++){const{ngModule:L,providers:B}=I[z];N2(B,K=>this.processProvider(K,L,B||Z))}}this.injectorDefTypes.add(p);const C=Nn(p)||(()=>new p);this.records.set(p,va(C,lo));const E=u.providers;if(null!=E&&!v){const I=i;N2(E,z=>this.processProvider(z,I,E))}return void 0!==f&&void 0!==i.providers}processProvider(i,s,a){let u=uo(i=j(i))?i:j(i&&i.provide);const f=N8(r=i)?va(void 0,r.useValue):va(z8(r),lo);var r;if(uo(i)||!0!==i.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=va(void 0,lo,!0),p.factory=()=>Mr(p.multi),this.records.set(u,p)),u=i,p.multi.push(i)}this.records.set(u,f)}hydrate(i,s){return s.value===lo&&(s.value=Em,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(r=s.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const s=j(i.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function z3(r){const i=Ft(r),s=null!==i?i.factory:Nn(r);if(null!==s)return s;if(r instanceof y1)throw new Error(`Token ${J(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const a=En(i,"?");throw new Error(`Can't resolve all parameters for ${J(r)}: (${a.join(", ")}).`)}const s=function(r){const i=r&&(r[Se]||r[A1]);if(i){const s=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(r);return null!==s?()=>s.factory(r):()=>new r}(r);throw new Error("unreachable")}function z8(r,i,s){let a;if(uo(r)){const u=j(r);return Nn(u)||z3(u)}if(N8(r))a=()=>j(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))a=()=>r.useFactory(...Mr(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))a=()=>o1(j(r.useExisting));else{const u=j(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return Nn(u)||z3(u);a=()=>new u(...Mr(r.deps))}return a}function va(r,i,s=!1){return{factory:r,value:i,multi:s?[]:void 0}}function N8(r){return null!==r&&"object"==typeof r&&br in r}function uo(r){return"function"==typeof r}const V8=function(r,i,s){return function(r,i=null,s=null,a){const u=D3(r,i,s,a);return u._resolveInjectorDefTypes(),u}({name:s},i,r,s)};let z1=(()=>{class r{static create(s,a){return Array.isArray(s)?V8(s,a,""):V8(s.providers,s.parent,s.name||"")}}return r.THROW_IF_NOT_FOUND=Re,r.NULL=new Ju,r.\u0275prov=Gt({token:r,providedIn:"any",factory:()=>o1(t4)}),r.__NG_ELEMENT_ID__=-1,r})();function Um(r,i){ti(Yc(r)[1],i1())}function O8(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),s=!0;const a=[r];for(;i;){let u;if(u2(r))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");u=i.\u0275dir}if(u){if(s){a.push(u);const p=r;p.inputs=H8(r.inputs),p.declaredInputs=H8(r.declaredInputs),p.outputs=H8(r.outputs);const v=u.hostBindings;v&&$m(r,v);const C=u.viewQuery,E=u.contentQueries;if(C&&jm(r,C),E&&Zm(r,E),me(r.inputs,u.inputs),me(r.declaredInputs,u.declaredInputs),me(r.outputs,u.outputs),u2(u)&&u.data.animation){const I=r.data;I.animation=(I.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let p=0;p<f.length;p++){const v=f[p];v&&v.ngInherit&&v(r),v===O8&&(s=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,s=null;for(let a=r.length-1;a>=0;a--){const u=r[a];u.hostVars=i+=u.hostVars,u.hostAttrs=Po(u.hostAttrs,s=Po(s,u.hostAttrs))}}(a)}function H8(r){return r===$?{}:r===Z?[]:r}function jm(r,i){const s=r.viewQuery;r.viewQuery=s?(a,u)=>{i(a,u),s(a,u)}:i}function Zm(r,i){const s=r.contentQueries;r.contentQueries=s?(a,u,f)=>{i(a,u,f),s(a,u,f)}:i}function $m(r,i){const s=r.hostBindings;r.hostBindings=s?(a,u)=>{i(a,u),s(a,u)}:i}let R3=null;function _a(){if(!R3){const r=kt.Symbol;if(r&&r.iterator)R3=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const a=i[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(R3=a)}}}return R3}function Q6(r){return!!F8(r)&&(Array.isArray(r)||!(r instanceof Map)&&_a()in r)}function F8(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Hn(r,i,s){return!Object.is(r[i],s)&&(r[i]=s,!0)}function U8(r,i,s,a){const u=Ae();return Hn(u,p2(),i)&&(mt(),ao(I1(),u,r,i,s,a)),U8}function Ca(r,i,s,a){return Hn(r,p2(),s)?i+ie(s)+a:rt}function I7(r,i,s,a,u,f,p,v){const C=Ae(),E=mt(),I=r+20,z=E.firstCreatePass?function(r,i,s,a,u,f,p,v,C){const E=i.consts,I=F6(i,r,4,p||null,d2(E,v));A3(i,s,I,d2(E,C)),ti(i,I);const z=I.tViews=U6(2,I,a,u,f,i.directiveRegistry,i.pipeRegistry,null,i.schemas,E);return null!==i.queries&&(i.queries.template(i,I),z.queries=i.queries.embeddedTView(I)),I}(I,E,C,i,s,a,u,f,p):E.data[I];un(z,!1);const L=C[11].createComment("");la(E,C,L,z),wn(L,C),co(C,C[I]=S8(L,C,L,z)),Ri(z)&&fa(E,C,z),null!=p&&y8(C,z,v)}function S7(r){return function(r,i){return r[i]}(Je.lFrame.contextLView,20+r)}function X6(r,i=Ve.Default){const s=Ae();return null===s?o1(r,i):mr(i1(),s,j(r),i)}function W8(r,i,s){const a=Ae();return Hn(a,p2(),i)&&On(mt(),I1(),a,r,i,a[11],s,!1),W8}function G8(r,i,s,a,u){const p=u?"class":"style";Qu(r,s,i.inputs[p],p,a)}function q8(r,i,s,a){const u=Ae(),f=mt(),p=20+r,v=u[11],C=u[p]=r8(v,i,Je.lFrame.currentNamespace),E=f.firstCreatePass?function(r,i,s,a,u,f,p){const v=i.consts,E=F6(i,r,2,u,d2(v,f));return A3(i,s,E,d2(v,p)),null!==E.attrs&&G6(E,E.attrs,!1),null!==E.mergedAttrs&&G6(E,E.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,E),E}(p,f,u,0,i,s,a):f.data[p];un(E,!0);const I=E.mergedAttrs;null!==I&&z4(v,C,I);const z=E.classes;null!==z&&c8(v,C,z);const L=E.styles;null!==L&&Eu(v,C,L),64!=(64&E.flags)&&la(f,u,C,E),0===Je.lFrame.elementDepthCount&&wn(C,u),Je.lFrame.elementDepthCount++,Ri(E)&&(fa(f,u,E),function(r,i,s){if(gs(i)){const u=i.directiveEnd;for(let f=i.directiveStart;f<u;f++){const p=r.data[f];p.contentQueries&&p.contentQueries(1,s[f],f)}}}(f,E,u)),null!==a&&y8(u,E)}function Y8(){let r=i1();Zi()?Qr():(r=r.parent,un(r,!1));const i=r;Je.lFrame.elementDepthCount--;const s=mt();s.firstCreatePass&&(ti(s,r),gs(r)&&s.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&G8(s,i,Ae(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&G8(s,i,Ae(),i.stylesWithoutHost,!1)}function H7(r,i,s,a){q8(r,i,s,a),Y8()}function B7(){return Ae()}function K8(r){return!!r&&"function"==typeof r.then}function j7(r){return!!r&&"function"==typeof r.subscribe}const Q8=j7;function J8(r,i,s,a){const u=Ae(),f=mt(),p=i1();return function(r,i,s,a,u,f,p,v){const C=Ri(a),I=r.firstCreatePass&&as(r),z=i[8],L=Yu(i);let B=!0;if(3&a.type||v){const re=Vn(a,i),Te=v?v(re):re,be=L.length,$e=v?ot=>v(qt(ot[a.index])):a.index;if(_1(s)){let ot=null;if(!v&&C&&(ot=function(r,i,s,a){const u=r.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const p=u[f];if(p===s&&u[f+1]===a){const v=i[7],C=u[f+2];return v.length>C?v[C]:null}"string"==typeof p&&(f+=2)}return null}(r,i,u,a.index)),null!==ot)(ot.__ngLastListenerFn__||ot).__ngNextListenerFn__=f,ot.__ngLastListenerFn__=f,B=!1;else{f=X8(a,i,z,f,!1);const Lt=s.listen(Te,u,f);L.push(f,Lt),I&&I.push(u,$e,be,be+1)}}else f=X8(a,i,z,f,!0),Te.addEventListener(u,f,p),L.push(f),I&&I.push(u,$e,be,p)}else f=X8(a,i,z,f,!1);const K=a.outputs;let ue;if(B&&null!==K&&(ue=K[u])){const re=ue.length;if(re)for(let Te=0;Te<re;Te+=2){const cn=i[ue[Te]][ue[Te+1]].subscribe(f),rr=L.length;L.push(f,cn),I&&I.push(u,a.index,rr,-(rr+1))}}}(f,u,u[11],p,r,i,!!s,a),J8}function W7(r,i,s,a){try{return!1!==s(a)}catch(u){return T3(r,u),!1}}function X8(r,i,s,a,u){return function f(p){if(p===Function)return a;const v=2&r.flags?bn(r.index,i):i;0==(32&i[2])&&T8(v);let C=W7(i,0,a,p),E=f.__ngNextListenerFn__;for(;E;)C=W7(i,0,E,p)&&C,E=E.__ngNextListenerFn__;return u&&!1===C&&(p.preventDefault(),p.returnValue=!1),C}}function G7(r=1){return function(r){return(Je.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,Je.lFrame.contextLView))[8]}(r)}function Ig(r,i){let s=null;const a=function(r){const i=r.attrs;if(null!=i){const s=i.indexOf(5);if(0==(1&s))return i[s+1]}return null}(r);for(let u=0;u<i.length;u++){const f=i[u];if("*"!==f){if(null===a?wu(r,f,!0):JA(a,f))return u}else s=u}return s}function q7(r){const i=Ae()[16][6];if(!i.projection){const a=i.projection=En(r?r.length:1,null),u=a.slice();let f=i.child;for(;null!==f;){const p=r?Ig(f,r):0;null!==p&&(u[p]?u[p].projectionNext=f:a[p]=f,u[p]=f),f=f.next}}}function Y7(r,i=0,s){const a=Ae(),u=mt(),f=F6(u,20+r,16,null,s||null);null===f.projection&&(f.projection=i),Qr(),64!=(64&f.flags)&&function(r,i,s){is(i[11],0,i,s,vu(r,s,i),ca(s.parent||i[6],s,i))}(u,a,f)}function O3(r,i,s,a,u){const f=Ae(),p=Ca(f,i,s,a);return p!==rt&&On(mt(),I1(),f,r,p,f[11],u,!1),O3}function of(r,i,s,a,u){const f=r[s+1],p=null===i;let v=a?zr(f):kn(f),C=!1;for(;0!==v&&(!1===C||p);){const I=r[v+1];xg(r[v],i)&&(C=!0,r[v+1]=a?_i(I):vi(I)),v=a?zr(I):kn(I)}C&&(r[s+1]=a?vi(f):_i(f))}function xg(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&L2(r,i)>=0}function el(r,i){return function(r,i,s,a){const u=Ae(),f=mt(),p=function(r){const i=Je.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,s}(2);f.firstUpdatePass&&function(r,i,s,a){const u=r.data;if(null===u[s+1]){const f=u[K1()],p=function(r,i){return i>=r.expandoStartIndex}(r,s);(function(r,i){return 0!=(r.flags&(i?16:32))})(f,a)&&null===i&&!p&&(i=!1),i=function(r,i,s,a){const u=function(r){const i=Je.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let f=a?i.residualClasses:i.residualStyles;if(null===u)0===(a?i.classBindings:i.styleBindings)&&(s=e0(s=tl(null,r,i,s,a),i.attrs,a),f=null);else{const p=i.directiveStylingLast;if(-1===p||r[p]!==u)if(s=tl(u,r,i,s,a),null===f){let C=function(r,i,s){const a=s?i.classBindings:i.styleBindings;if(0!==kn(a))return r[zr(a)]}(r,i,a);void 0!==C&&Array.isArray(C)&&(C=tl(null,r,i,C[1],a),C=e0(C,i.attrs,a),function(r,i,s,a){r[zr(s?i.classBindings:i.styleBindings)]=a}(r,i,a,C))}else f=function(r,i,s){let a;const u=i.directiveEnd;for(let f=1+i.directiveStylingLast;f<u;f++)a=e0(a,r[f].hostAttrs,s);return e0(a,i.attrs,s)}(r,i,a)}return void 0!==f&&(a?i.residualClasses=f:i.residualStyles=f),s}(u,f,i,a),function(r,i,s,a,u,f){let p=f?i.classBindings:i.styleBindings,v=zr(p),C=kn(p);r[a]=s;let I,E=!1;if(Array.isArray(s)){const z=s;I=z[1],(null===I||L2(z,I)>0)&&(E=!0)}else I=s;if(u)if(0!==C){const L=zr(r[v+1]);r[a+1]=P6(L,v),0!==L&&(r[L+1]=_3(r[L+1],a)),r[v+1]=function(r,i){return 131071&r|i<<17}(r[v+1],a)}else r[a+1]=P6(v,0),0!==v&&(r[v+1]=_3(r[v+1],a)),v=a;else r[a+1]=P6(C,0),0===v?v=a:r[C+1]=_3(r[C+1],a),C=a;E&&(r[a+1]=vi(r[a+1])),of(r,I,a,!0),of(r,I,a,!1),function(r,i,s,a,u){const f=u?r.residualClasses:r.residualStyles;null!=f&&"string"==typeof i&&L2(f,i)>=0&&(s[a+1]=_i(s[a+1]))}(i,I,r,a,f),p=P6(v,C),f?i.classBindings=p:i.styleBindings=p}(u,f,i,s,p,a)}}(f,r,p,a),i!==rt&&Hn(u,p,i)&&function(r,i,s,a,u,f,p,v){if(!(3&i.type))return;const C=r.data,E=C[v+1];F3(function(r){return 1==(1&r)}(E)?vf(C,i,s,u,kn(E),p):void 0)||(F3(f)||function(r){return 2==(2&r)}(E)&&(f=vf(C,null,s,u,v,p)),function(r,i,s,a,u){const f=_1(r);if(i)u?f?r.addClass(s,a):s.classList.add(a):f?r.removeClass(s,a):s.classList.remove(a);else{let p=-1===a.indexOf("-")?void 0:mi.DashCase;if(null==u)f?r.removeStyle(s,a,p):s.style.removeProperty(a);else{const v="string"==typeof u&&u.endsWith("!important");v&&(u=u.slice(0,-10),p|=mi.Important),f?r.setStyle(s,a,u,p):s.style.setProperty(a,u,v?"important":"")}}}(a,p,Kr(K1(),s),u,f))}(f,f.data[K1()],u,u[11],r,u[p+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=J(wr(r)))),r}(i,s),a,p)}(r,i,null,!0),el}function tl(r,i,s,a,u){let f=null;const p=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<p&&(f=i[v],a=e0(a,f.hostAttrs,u),f!==r);)v++;return null!==r&&(s.directiveStylingLast=v),a}function e0(r,i,s){const a=s?1:2;let u=-1;if(null!==i)for(let f=0;f<i.length;f++){const p=i[f];"number"==typeof p?u=p:u===a&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),x1(r,p,!!s||i[++f]))}return void 0===r?null:r}function vf(r,i,s,a,u,f){const p=null===i;let v;for(;u>0;){const C=r[u],E=Array.isArray(C),I=E?C[1]:C,z=null===I;let L=s[u+1];L===rt&&(L=z?Z:void 0);let B=z?dn(L,a):I===a?L:void 0;if(E&&!F3(B)&&(B=dn(C,a)),F3(B)&&(v=B,p))return v;const K=r[u+1];u=p?zr(K):kn(K)}if(null!==i){let C=f?i.residualClasses:i.residualStyles;null!=C&&(v=dn(C,a))}return v}function F3(r){return void 0!==r}function yf(r,i=""){const s=Ae(),a=mt(),u=r+20,f=a.firstCreatePass?F6(a,u,1,i,null):a.data[u],p=s[u]=function(r,i){return _1(r)?r.createText(i):r.createTextNode(i)}(s[11],i);la(a,s,p,f),un(f,!1)}function nl(r){return U3("",r,""),nl}function U3(r,i,s){const a=Ae(),u=Ca(a,r,i,s);return u!==rt&&Nr(a,K1(),u),U3}function rl(r,i,s){const a=Ae();return Hn(a,p2(),i)&&On(mt(),I1(),a,r,i,a[11],s,!0),rl}const r4=void 0;var uv=["en",[["a","p"],["AM","PM"],r4],[["AM","PM"],r4,r4],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],r4,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],r4,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",r4,"{1} 'at' {0}",r4],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),s=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let Da={};function il(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let s=Hf(i);if(s)return s;const a=i.split("-")[0];if(s=Hf(a),s)return s;if("en"===a)return uv;throw new Error(`Missing locale data for the locale "${r}".`)}function Of(r){return il(r)[tt.PluralCase]}function Hf(r){return r in Da||(Da[r]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[r]),Da[r]}var tt=(()=>((tt=tt||{})[tt.LocaleId=0]="LocaleId",tt[tt.DayPeriodsFormat=1]="DayPeriodsFormat",tt[tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",tt[tt.DaysFormat=3]="DaysFormat",tt[tt.DaysStandalone=4]="DaysStandalone",tt[tt.MonthsFormat=5]="MonthsFormat",tt[tt.MonthsStandalone=6]="MonthsStandalone",tt[tt.Eras=7]="Eras",tt[tt.FirstDayOfWeek=8]="FirstDayOfWeek",tt[tt.WeekendRange=9]="WeekendRange",tt[tt.DateFormat=10]="DateFormat",tt[tt.TimeFormat=11]="TimeFormat",tt[tt.DateTimeFormat=12]="DateTimeFormat",tt[tt.NumberSymbols=13]="NumberSymbols",tt[tt.NumberFormats=14]="NumberFormats",tt[tt.CurrencyCode=15]="CurrencyCode",tt[tt.CurrencySymbol=16]="CurrencySymbol",tt[tt.CurrencyName=17]="CurrencyName",tt[tt.Currencies=18]="Currencies",tt[tt.Directionality=19]="Directionality",tt[tt.PluralCase=20]="PluralCase",tt[tt.ExtraData=21]="ExtraData",tt))();const B3="en-US";let Ff=B3;function ol(r){Zt(r,"Expected localeId to be defined"),"string"==typeof r&&(Ff=r.toLowerCase().replace(/_/g,"-"))}function ll(r,i,s,a,u){if(r=j(r),Array.isArray(r))for(let f=0;f<r.length;f++)ll(r[f],i,s,a,u);else{const f=mt(),p=Ae();let v=uo(r)?r:j(r.provide),C=z8(r);const E=i1(),I=1048575&E.providerIndexes,z=E.directiveStart,L=E.providerIndexes>>20;if(uo(r)||!r.multi){const B=new Ro(C,u,X6),K=fl(v,i,u?I:I+L,z);-1===K?(Rn(K2(E,p),f,v),ul(f,r,i.length),i.push(v),E.directiveStart++,E.directiveEnd++,u&&(E.providerIndexes+=1048576),s.push(B),p.push(B)):(s[K]=B,p[K]=B)}else{const B=fl(v,i,I+L,z),K=fl(v,i,I,I+L),ue=B>=0&&s[B],re=K>=0&&s[K];if(u&&!re||!u&&!ue){Rn(K2(E,p),f,v);const Te=function(r,i,s,a,u){const f=new Ro(r,s,X6);return f.multi=[],f.index=i,f.componentProviders=0,u9(f,u,a&&!s),f}(u?a_:s_,s.length,u,a,C);!u&&re&&(s[K].providerFactory=Te),ul(f,r,i.length,0),i.push(v),E.directiveStart++,E.directiveEnd++,u&&(E.providerIndexes+=1048576),s.push(Te),p.push(Te)}else ul(f,r,B>-1?B:K,u9(s[u?K:B],C,!u&&a));!u&&a&&re&&s[K].componentProviders++}}}function ul(r,i,s,a){const u=uo(i);if(u||function(r){return!!r.useClass}(i)){const p=(i.useClass||i).prototype.ngOnDestroy;if(p){const v=r.destroyHooks||(r.destroyHooks=[]);if(!u&&i.multi){const C=v.indexOf(s);-1===C?v.push(s,[a,p]):v[C+1].push(a,p)}else v.push(s,p)}}}function u9(r,i,s){return s&&r.componentProviders++,r.multi.push(i)-1}function fl(r,i,s,a){for(let u=s;u<a;u++)if(i[u]===r)return u;return-1}function s_(r,i,s,a){return dl(this.multi,[])}function a_(r,i,s,a){const u=this.multi;let f;if(this.providerFactory){const p=this.providerFactory.componentProviders,v=zt(s,s[1],this.providerFactory.index,a);f=v.slice(0,p),dl(u,f);for(let C=p;C<v.length;C++)f.push(v[C])}else f=[],dl(u,f);return f}function dl(r,i){for(let s=0;s<r.length;s++)i.push((0,r[s])());return i}function f9(r,i=[]){return s=>{s.providersResolver=(a,u)=>function(r,i,s){const a=mt();if(a.firstCreatePass){const u=u2(r);ll(s,a.data,a.blueprint,u,!0),ll(i,a.data,a.blueprint,u,!1)}}(a,u?u(r):r,i)}}class d9{}const p9="ngComponent";class u_{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${J(r)}. Did you add it to @NgModule.entryComponents?`);return i[p9]=r,i}(i)}}let Na=(()=>{class r{}return r.NULL=new u_,r})();function G3(...r){}function La(r,i){return new Ai(Vn(r,i))}const h_=function(){return La(i1(),Ae())};let Ai=(()=>{class r{constructor(s){this.nativeElement=s}}return r.__NG_ELEMENT_ID__=h_,r})();function m9(r){return r instanceof Ai?r.nativeElement:r}class q3{}let p_=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>g_(),r})();const g_=function(){const r=Ae(),s=bn(i1().index,r);return function(r){return r[11]}(I2(s)?s:r)};let pl=(()=>{class r{}return r.\u0275prov=Gt({token:r,providedIn:"root",factory:()=>null}),r})();class g9{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const ml=new g9("12.2.10");class v9{constructor(){}supports(i){return Q6(i)}create(i){return new C_(i)}}const y_=(r,i)=>i;class C_{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||y_}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,a=this._removalsHead,u=0,f=null;for(;s||a;){const p=!a||s&&s.currentIndex<y9(a,u,f)?s:a,v=y9(p,u,f),C=p.currentIndex;if(p===a)u--,a=a._nextRemoved;else if(s=s._next,null==p.previousIndex)u++;else{f||(f=[]);const E=v-u,I=C-u;if(E!=I){for(let L=0;L<E;L++){const B=L<f.length?f[L]:f[L]=0,K=B+L;I<=K&&K<E&&(f[L]=B+1)}f[p.previousIndex]=I-E}}v!==C&&i(p,v,C)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Q6(i))throw new Error(`Error trying to diff '${J(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,f,p,s=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)f=i[v],p=this._trackByFn(v,f),null!==s&&Object.is(s.trackById,p)?(a&&(s=this._verifyReinsertion(s,f,p,v)),Object.is(s.item,f)||this._addIdentityChange(s,f)):(s=this._mismatch(s,f,p,v),a=!0),s=s._next}else u=0,function(r,i){if(Array.isArray(r))for(let s=0;s<r.length;s++)i(r[s]);else{const s=r[_a()]();let a;for(;!(a=s.next()).done;)i(a.value)}}(i,v=>{p=this._trackByFn(u,v),null!==s&&Object.is(s.trackById,p)?(a&&(s=this._verifyReinsertion(s,v,p,u)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,p,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,a,u){let f;return null===i?f=this._itTail:(f=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,f,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,f,u)):i=this._addAfter(new b_(s,a),f,u),i}_verifyReinsertion(i,s,a,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?i=this._reinsertAfter(f,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,f=i._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(i,s,a),this._addToMoves(i,a),i}_moveAfter(i,s,a){return this._unlink(i),this._insertAfter(i,s,a),this._addToMoves(i,a),i}_addAfter(i,s,a){return this._insertAfter(i,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,a){const u=null===s?this._itHead:s._next;return i._next=u,i._prev=s,null===u?this._itTail=i:u._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new _9),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,a=i._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _9),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class b_{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class M_{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const s=i._prevDup,a=i._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class _9{constructor(){this.map=new Map}put(i){const s=i.trackById;let a=this.map.get(s);a||(a=new M_,this.map.set(s,a)),a.add(i)}get(i,s){const u=this.map.get(i);return u?u.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function y9(r,i,s){const a=r.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+i+u}class C9{constructor(){}supports(i){return i instanceof Map||F8(i)}create(){return new E_}}class E_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||F8(i)))throw new Error(`Error trying to diff '${J(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const f=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,f)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const a=i._prev;return s._next=i,s._prev=a,i._prev=s,a&&(a._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,s);const f=u._prev,p=u._next;return f&&(f._next=p),p&&(p._prev=f),u._next=null,u._prev=null,u}const a=new A_(i);return this._records.set(i,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(a=>s(i[a],a))}}class A_{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function b9(){return new Y3([new v9])}let Y3=(()=>{class r{constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new r(s)}static extend(s){return{provide:r,useFactory:a=>r.create(s,a||b9()),deps:[[r,new on,new li]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(r){return r.name||typeof r}(s)}'`)}}return r.\u0275prov=Gt({token:r,providedIn:"root",factory:b9}),r})();function M9(){return new K3([new C9])}let K3=(()=>{class r{constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new r(s)}static extend(s){return{provide:r,useFactory:a=>r.create(s,a||M9()),deps:[[r,new on,new li]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(a)return a;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return r.\u0275prov=Gt({token:r,providedIn:"root",factory:M9}),r})();function Q3(r,i,s,a,u=!1){for(;null!==s;){const f=i[s.index];if(null!==f&&a.push(qt(f)),nn(f))for(let v=10;v<f.length;v++){const C=f[v],E=C[1].firstChild;null!==E&&Q3(C[1],C,E,a)}const p=s.type;if(8&p)Q3(r,i,s.child,a);else if(32&p){const v=a3(s,i);let C;for(;C=v();)a.push(C)}else if(16&p){const v=o8(i,s);if(Array.isArray(v))a.push(...v);else{const C=R6(i[16]);Q3(C[1],C,v,a,!0)}}s=u?s.projectionNext:s.next}return a}class s0{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return Q3(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(nn(i)){const s=i[8],a=s?s.indexOf(this):-1;a>-1&&(f3(i,a),Cr(s,a))}this._attachedToViewContainer=!1}gu(this._lView[1],this._lView)}onDestroy(i){Fu(this._lView[1],this._lView,null,i)}markForCheck(){T8(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){x8(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,s){q2(!0);try{x8(r,i,s)}finally{q2(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,Js(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class I_ extends s0{constructor(i){super(i),this._view=i}detectChanges(){D8(this._view)}checkNoChanges(){!function(r){q2(!0);try{D8(r)}finally{q2(!1)}}(this._view)}get context(){return null}}const T_=function(r){return function(r,i,s){if(bo(r)&&!s){const a=bn(r.index,i);return new s0(a,a)}return 47&r.type?new s0(i[16],i):null}(i1(),Ae(),16==(16&r))};let x_=(()=>{class r{}return r.__NG_ELEMENT_ID__=T_,r})();const N_=[new C9],V_=new Y3([new v9]),R_=new K3(N_),k_=function(){return J3(i1(),Ae())};let a0=(()=>{class r{}return r.__NG_ELEMENT_ID__=k_,r})();const O_=a0,H_=class extends O_{constructor(i,s,a){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(i){const s=this._declarationTContainer.tViews,a=b3(this._declarationLView,s,i,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(a[19]=f.createEmbeddedView(s)),oo(s,a,i),new s0(a)}};function J3(r,i){return 4&r.type?new H_(i,r,La(r,i)):null}class i4{}class E9{}const B_=function(){return I9(i1(),Ae())};let X3=(()=>{class r{}return r.__NG_ELEMENT_ID__=B_,r})();const Z_=X3,A9=class extends Z_{constructor(i,s,a){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=a}get element(){return La(this._hostTNode,this._hostLView)}get injector(){return new v2(this._hostTNode,this._hostLView)}get parentInjector(){const i=je(this._hostTNode,this._hostLView);if(Vs(i)){const s=D2(i,this._hostLView),a=Kn(i);return new v2(s[1].data[a+8],s)}return new v2(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=w9(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,a){const u=i.createEmbeddedView(s||{});return this.insert(u,a),u}createComponent(i,s,a,u,f){const p=a||this.parentInjector;if(!f&&null==i.ngModule&&p){const C=p.get(i4,null);C&&(f=C)}const v=i.create(p,u,void 0,f);return this.insert(v.hostView,s),v}insert(i,s){const a=i._lView,u=a[1];if(nn(a[3])){const I=this.indexOf(i);if(-1!==I)this.detach(I);else{const z=a[3],L=new A9(z,z[6],z[3]);L.detach(L.indexOf(i))}}const f=this._adjustIndex(s),p=this._lContainer;!function(r,i,s,a){const u=10+a,f=s.length;a>0&&(s[u-1][4]=i),a<f-10?(i[4]=s[u],Ji(s,10+a,i)):(s.push(i),i[4]=null),i[3]=s;const p=i[17];null!==p&&s!==p&&function(r,i){const s=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===s?r[9]=[i]:s.push(i)}(p,i);const v=i[19];null!==v&&v.insertView(r),i[2]|=128}(u,a,p,f);const v=s8(f,p),C=a[11],E=d3(C,p[7]);return null!==E&&function(r,i,s,a,u,f){a[0]=u,a[6]=i,Js(r,a,s,1,u,f)}(u,p[6],C,a,E,v),i.attachToViewContainerRef(),Ji(gl(p),f,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=w9(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),a=f3(this._lContainer,s);a&&(Cr(gl(this._lContainer),s),gu(a[1],a))}detach(i){const s=this._adjustIndex(i,-1),a=f3(this._lContainer,s);return a&&null!=Cr(gl(this._lContainer),s)?new s0(a):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function w9(r){return r[8]}function gl(r){return r[8]||(r[8]=[])}function I9(r,i){let s;const a=i[r.index];if(nn(a))s=a;else{let u;if(8&r.type)u=qt(a);else{const f=i[11];u=f.createComment("");const p=Vn(r,i);rs(f,d3(f,p),u,function(r,i){return _1(r)?r.nextSibling(i):i.nextSibling}(f,p),!1)}i[r.index]=s=S8(a,i,u,r),co(i,s)}return new A9(s,r,i)}const ka={};class W9 extends Na{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=Qt(i);return new q9(s,this.ngModule)}}function G9(r){const i=[];for(let s in r)r.hasOwnProperty(s)&&i.push({propName:r[s],templateName:s});return i}const Fy=new y1("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>lu});class q9 extends d9{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=i.selectors.map(em).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return G9(this.componentDef.inputs)}get outputs(){return G9(this.componentDef.outputs)}create(i,s,a,u){const f=(u=u||this.ngModule)?function(r,i){return{get:(s,a,u)=>{const f=r.get(s,ka,u);return f!==ka||a===ka?f:i.get(s,a,u)}}}(i,u.injector):i,p=f.get(q3,q1),v=f.get(pl,null),C=p.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",I=a?function(r,i,s){if(_1(r))return r.selectRootElement(i,s===De.ShadowDom);let a="string"==typeof i?r.querySelector(i):i;return a.textContent="",a}(C,a,this.componentDef.encapsulation):r8(p.createRenderer(null,this.componentDef),E,function(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(E)),z=this.componentDef.onPush?576:528,L=function(r,i){return{components:[],scheduler:r||lu,clean:qu,playerHandler:i||null,flags:0}}(),B=U6(0,null,null,1,0,null,null,null,null,null),K=b3(null,B,L,z,null,null,p,C,v,f);let ue,re;Gi(K);try{const Te=function(r,i,s,a,u,f){const p=s[1];s[20]=r;const C=F6(p,20,2,"#host",null),E=C.mergedAttrs=i.hostAttrs;null!==E&&(G6(C,E,!0),null!==r&&(z4(u,r,E),null!==C.classes&&c8(u,r,C.classes),null!==C.styles&&Eu(u,r,C.styles)));const I=a.createRenderer(r,i),z=b3(s,Hu(i),null,i.onPush?64:16,s[20],C,a,I,f||null,null);return p.firstCreatePass&&(Rn(K2(C,s),p,i.type),I3(p,C),ha(C,s.length,1)),co(s,z),s[20]=z}(I,this.componentDef,K,p,C);if(I)if(a)z4(C,I,["ng-version",ml.full]);else{const{attrs:be,classes:$e}=function(r){const i=[],s=[];let a=1,u=2;for(;a<r.length;){let f=r[a];if("string"==typeof f)2===u?""!==f&&i.push(f,r[++a]):8===u&&s.push(f);else{if(!xr(u))break;u=f}a++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);be&&z4(C,I,be),$e&&$e.length>0&&c8(C,I,$e.join(" "))}if(re=ws(B,20),void 0!==s){const be=re.projection=[];for(let $e=0;$e<this.ngContentSelectors.length;$e++){const ot=s[$e];be.push(null!=ot?Array.from(ot):null)}}ue=function(r,i,s,a,u){const f=s[1],p=function(r,i,s){const a=i1();r.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),pa(r,a,i,io(r,i,1,null),s));const u=zt(i,r,a.directiveStart,a);wn(u,i);const f=Vn(a,i);return f&&wn(f,i),u}(f,s,i);if(a.components.push(p),r[8]=p,u&&u.forEach(C=>C(p,i)),i.contentQueries){const C=i1();i.contentQueries(1,p,C.directiveStart)}const v=i1();return!f.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Y2(v.index),w3(s[1],v,0,v.directiveStart,v.directiveEnd,i),e4(i,p)),p}(Te,this.componentDef,K,L,[Um]),oo(B,K,null)}finally{fr()}return new jy(this.componentType,ue,La(re,K),K,re)}}class jy extends class{}{constructor(i,s,a,u,f){super(),this.location=a,this._rootLView=u,this._tNode=f,this.instance=s,this.hostView=this.changeDetectorRef=new I_(u),this.componentType=i}get injector(){return new v2(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Oa=new Map;class Wy extends i4{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new W9(this);const a=f1(i),u=i[Qe]||null;u&&ol(u),this._bootstrapComponents=pi(a.bootstrap),this._r3Injector=D3(i,s,[{provide:i4,useValue:this},{provide:Na,useValue:this.componentFactoryResolver}],J(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,s=z1.THROW_IF_NOT_FOUND,a=Ve.Default){return i===z1||i===i4||i===t4?this:this._r3Injector.get(i,s,a)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class xl extends E9{constructor(i){super(),this.moduleType=i,null!==f1(i)&&function(r){const i=new Set;!function s(a){const u=f1(a,!0),f=u.id;null!==f&&(function(r,i,s){if(i&&i!==s)throw new Error(`Duplicate module registered for ${r} - ${J(i)} vs ${J(i.name)}`)}(f,Oa.get(f),a),Oa.set(f,a));const p=pi(u.imports);for(const v of p)i.has(v)||(i.add(v),s(v))}(r)}(i)}create(i){return new Wy(this.moduleType,i)}}function Q9(r,i,s){const a=function(){const r=Je.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}()+r,u=Ae();return u[a]===rt?function(r,i,s){return r[i]=s}(u,a,s?i.call(s):i()):function(r,i){return r[i]}(u,a)}function Dl(r){return i=>{setTimeout(r,void 0,i)}}const wi=class extends c.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,a){var u,f,p;let v=i,C=s||(()=>null),E=a;if(i&&"object"==typeof i){const z=i;v=null===(u=z.next)||void 0===u?void 0:u.bind(z),C=null===(f=z.error)||void 0===f?void 0:f.bind(z),E=null===(p=z.complete)||void 0===p?void 0:p.bind(z)}this.__isAsync&&(C=Dl(C),v&&(v=Dl(v)),E&&(E=Dl(E)));const I=super.subscribe({next:v,error:C,complete:E});return i instanceof U.w&&i.add(I),I}};function uC(){return this._results[_a()]()}class ic{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=_a(),a=ic.prototype;a[s]||(a[s]=uC)}get changes(){return this._changes||(this._changes=new wi)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const a=this;a.dirty=!1;const u=Jn(i);(this._changesDetected=!function(r,i,s){if(r.length!==i.length)return!1;for(let a=0;a<r.length;a++){let u=r[a],f=i[a];if(s&&(u=s(u),f=s(f)),f!==u)return!1}return!0}(a._results,u,s))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class zl{constructor(i){this.queryList=i,this.matches=null}clone(){return new zl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nl{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const a=null!==i.contentQueries?i.contentQueries[0]:s.length,u=[];for(let f=0;f<a;f++){const p=s.getByIndex(f);u.push(this.queries[p.indexInDeclarationView].clone())}return new Nl(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==fd(i,s).matches&&this.queries[s].setDirty()}}class rd{constructor(i,s,a=null){this.predicate=i,this.flags=s,this.read=a}}class Ll{constructor(i=[]){this.queries=i}elementStart(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,f=this.getByIndex(a).embeddedTView(i,u);f&&(f.indexInDeclarationView=a,null!==s?s.push(f):s=[f])}return null!==s?new Ll(s):null}template(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Vl{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Vl(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const f=a[u];this.matchTNodeWithReadOption(i,s,hC(s,f)),this.matchTNodeWithReadOption(i,s,Ho(s,i,f,!1,!1))}else a===a0?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Ho(s,i,a,!1,!1))}matchTNodeWithReadOption(i,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Ai||u===X3||u===a0&&4&s.type)this.addMatch(s.index,-2);else{const f=Ho(s,i,u,!1,!1);null!==f&&this.addMatch(s.index,f)}else this.addMatch(s.index,a)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function hC(r,i){const s=r.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===i)return s[a+1];return null}function mC(r,i,s,a){return-1===s?function(r,i){return 11&r.type?La(r,i):4&r.type?J3(r,i):null}(i,r):-2===s?function(r,i,s){return s===Ai?La(i,r):s===a0?J3(i,r):s===X3?I9(i,r):void 0}(r,i,a):zt(r,r[1],s,i)}function id(r,i,s,a){const u=i[19].queries[a];if(null===u.matches){const f=r.data,p=s.matches,v=[];for(let C=0;C<p.length;C+=2){const E=p[C];v.push(E<0?null:mC(i,f[E],p[C+1],s.metadata.read))}u.matches=v}return u.matches}function Rl(r,i,s,a){const u=r.queries.getByIndex(s),f=u.matches;if(null!==f){const p=id(r,i,u,s);for(let v=0;v<f.length;v+=2){const C=f[v];if(C>0)a.push(p[v/2]);else{const E=f[v+1],I=i[-C];for(let z=10;z<I.length;z++){const L=I[z];L[17]===L[3]&&Rl(L[1],L,E,a)}if(null!==I[9]){const z=I[9];for(let L=0;L<z.length;L++){const B=z[L];Rl(B[1],B,E,a)}}}}}return a}function od(r){const i=Ae(),s=mt(),a=Ds();ur(a+1);const u=fd(s,a);if(r.dirty&&wo(i)===(2==(2&u.metadata.flags))){if(null===u.matches)r.reset([]);else{const f=u.crossesNgTemplate?Rl(s,i,a,[]):id(s,i,u,a);r.reset(f,m9),r.notifyOnChanges()}return!0}return!1}function sd(r,i,s){const a=mt();a.firstCreatePass&&(ud(a,new rd(r,i,s),-1),2==(2&i)&&(a.staticViewQueries=!0)),ld(a,Ae(),i)}function ad(r,i,s,a){const u=mt();if(u.firstCreatePass){const f=i1();ud(u,new rd(i,s,a),f.index),function(r,i){const s=r.contentQueries||(r.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(r.queries.length-1,i)}(u,r),2==(2&s)&&(u.staticContentQueries=!0)}ld(u,Ae(),s)}function cd(){return r=Ae(),i=Ds(),r[19].queries[i].queryList;var r,i}function ld(r,i,s){const a=new ic(4==(4&s));Fu(r,i,a,a.destroy),null===i[19]&&(i[19]=new Nl),i[19].queries.push(new zl(a))}function ud(r,i,s){null===r.queries&&(r.queries=new Ll),r.queries.track(new Vl(i,s))}function fd(r,i){return r.queries.getByIndex(i)}const Ul=new y1("Application Initializer");let Fa=(()=>{class r{constructor(s){this.appInits=s,this.resolve=G3,this.reject=G3,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const f=this.appInits[u]();if(K8(f))s.push(f);else if(Q8(f)){const p=new Promise((v,C)=>{f.subscribe({complete:v,error:C})});s.push(p)}}Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}}return r.\u0275fac=function(s){return new(s||r)(o1(Ul,8))},r.\u0275prov=Gt({token:r,factory:r.\u0275fac}),r})();const xd=new y1("AppId"),WC={provide:xd,useFactory:function(){return`${Bl()}${Bl()}${Bl()}`},deps:[]};function Bl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Dd=new y1("Platform Initializer"),zd=new y1("Platform ID"),Nd=new y1("appBootstrapListener");let Ld=(()=>{class r{log(s){console.log(s)}warn(s){console.warn(s)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=Gt({token:r,factory:r.\u0275fac}),r})();const ac=new y1("LocaleId"),Vd=new y1("DefaultCurrencyCode");class qC{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}const jl=function(r){return new xl(r)},YC=jl,KC=function(r){return Promise.resolve(jl(r))},Rd=function(r){const i=jl(r),a=pi(f1(r).declarations).reduce((u,f)=>{const p=Qt(f);return p&&u.push(new q9(p)),u},[]);return new qC(i,a)},QC=Rd,JC=function(r){return Promise.resolve(Rd(r))};let y0=(()=>{class r{constructor(){this.compileModuleSync=YC,this.compileModuleAsync=KC,this.compileModuleAndAllComponentsSync=QC,this.compileModuleAndAllComponentsAsync=JC}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=Gt({token:r,factory:r.\u0275fac}),r})();const tb=(()=>Promise.resolve(0))();function Zl(r){"undefined"==typeof Zone?tb.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class k2{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wi(!1),this.onMicrotaskEmpty=new wi(!1),this.onStable=new wi(!1),this.onError=new wi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let r=kt.requestAnimationFrame,i=kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const s=r[Zone.__symbol__("OriginalDelegate")];s&&(r=s);const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(kt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Wl(r),r.isCheckStableRunning=!0,$l(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Wl(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,f,p,v)=>{try{return Pd(r),s.invokeTask(u,f,p,v)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||r.shouldCoalesceRunChangeDetection)&&i(),kd(r)}},onInvoke:(s,a,u,f,p,v,C)=>{try{return Pd(r),s.invoke(u,f,p,v,C)}finally{r.shouldCoalesceRunChangeDetection&&i(),kd(r)}},onHasTask:(s,a,u,f)=>{s.hasTask(u,f),a===u&&("microTask"==f.change?(r._hasPendingMicrotasks=f.microTask,Wl(r),$l(r)):"macroTask"==f.change&&(r.hasPendingMacrotasks=f.macroTask))},onHandleError:(s,a,u,f)=>(s.handleError(u,f),r.runOutsideAngular(()=>r.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!k2.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(k2.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,s,a){return this._inner.run(i,s,a)}runTask(i,s,a,u){const f=this._inner,p=f.scheduleEventTask("NgZoneEvent: "+u,i,rb,G3,G3);try{return f.runTask(p,s,a)}finally{f.cancelTask(p)}}runGuarded(i,s,a){return this._inner.runGuarded(i,s,a)}runOutsideAngular(i){return this._outer.run(i)}}const rb={};function $l(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Wl(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Pd(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function kd(r){r._nesting--,$l(r)}class sb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wi,this.onMicrotaskEmpty=new wi,this.onStable=new wi,this.onError=new wi}run(i,s,a){return i.apply(s,a)}runGuarded(i,s,a){return i.apply(s,a)}runOutsideAngular(i){return i()}runTask(i,s,a,u){return i.apply(s,a)}}let Od=(()=>{class r{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{k2.assertNotInAngularZone(),Zl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zl(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==f),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:f,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,u){return[]}}return r.\u0275fac=function(s){return new(s||r)(o1(k2))},r.\u0275prov=Gt({token:r,factory:r.\u0275fac}),r})(),Hd=(()=>{class r{constructor(){this._applications=new Map,Gl.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Gl.findTestabilityInTree(this,s,a)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=Gt({token:r,factory:r.\u0275fac}),r})();class ab{addToWindow(i){}findTestabilityInTree(i,s,a){return null}}function cb(r){Gl=r}let Gl=new ab,Fd=!0,Ud=!1;function ql(){return Ud=!0,Fd}function lb(){if(Ud)throw new Error("Cannot enable prod mode after platform setup.");Fd=!1}let Fr;const Bd=new y1("AllowMultipleToken");class gb{constructor(i,s){this.name=i,this.token=s}}function jd(r,i,s=[]){const a=`Platform: ${i}`,u=new y1(a);return(f=[])=>{let p=Zd();if(!p||p.injector.get(Bd,!1))if(r)r(s.concat(f).concat({provide:u,useValue:!0}));else{const v=s.concat(f).concat({provide:u,useValue:!0},{provide:Lr,useValue:"platform"});!function(r){if(Fr&&!Fr.destroyed&&!Fr.injector.get(Bd,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Fr=r.get($d);const i=r.get(Dd,null);i&&i.forEach(s=>s())}(z1.create({providers:v,name:a}))}return function(r){const i=Zd();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(u)}}function Zd(){return Fr&&!Fr.destroyed?Fr:null}let $d=(()=>{class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const v=function(r,i){let s;return s="noop"===r?new sb:("zone.js"===r?void 0:r)||new k2({enableLongStackTrace:ql(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),C=[{provide:k2,useValue:v}];return v.run(()=>{const E=z1.create({providers:C,parent:this.injector,name:s.moduleType.name}),I=s.create(E),z=I.injector.get(sa,null);if(!z)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const L=v.onError.subscribe({next:B=>{z.handleError(B)}});I.onDestroy(()=>{Yl(this._modules,I),L.unsubscribe()})}),function(r,i,s){try{const a=s();return K8(a)?a.catch(u=>{throw i.runOutsideAngular(()=>r.handleError(u)),u}):a}catch(a){throw i.runOutsideAngular(()=>r.handleError(a)),a}}(z,v,()=>{const L=I.injector.get(Fa);return L.runInitializers(),L.donePromise.then(()=>(ol(I.injector.get(ac,B3)||B3),this._moduleDoBootstrap(I),I))})})}bootstrapModule(s,a=[]){const u=Wd({},a);return function(r,i,s){const a=new xl(s);return Promise.resolve(a)}(0,0,s).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(s){const a=s.injector.get(C0);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${J(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(s){return new(s||r)(o1(z1))},r.\u0275prov=Gt({token:r,factory:r.\u0275fac}),r})();function Wd(r,i){return Array.isArray(i)?i.reduce(Wd,r):Object.assign(Object.assign({},r),i)}let C0=(()=>{class r{constructor(s,a,u,f,p){this._zone=s,this._injector=a,this._exceptionHandler=u,this._componentFactoryResolver=f,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new N.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),C=new N.y(E=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{k2.assertNotInAngularZone(),Zl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{k2.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{I.unsubscribe(),z.unsubscribe()}});this.isStable=(0,ce.T)(v,C.pipe((0,se.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=s instanceof d9?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(u.componentType);const f=function(r){return r.isBoundToModule}(u)?void 0:this._injector.get(i4),v=u.create(z1.NULL,[],a||u.selector,f),C=v.location.nativeElement,E=v.injector.get(Od,null),I=E&&v.injector.get(Hd);return E&&I&&I.registerApplication(C,E),v.onDestroy(()=>{this.detachView(v.hostView),Yl(this.components,v),I&&I.unregisterApplication(C)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Yl(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Nd,[]).concat(this._bootstrapListeners).forEach(u=>u(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(s){return new(s||r)(o1(k2),o1(z1),o1(sa),o1(Na),o1(Fa))},r.\u0275prov=Gt({token:r,factory:r.\u0275fac}),r})();function Yl(r,i){const s=r.indexOf(i);s>-1&&r.splice(s,1)}class Mb{}class Ab{}const wb={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ib=(()=>{class r{constructor(s,a){this._compiler=s,this._config=a||wb}load(s){return this.loadAndCompile(s)}loadAndCompile(s){let[a,u]=s.split("#");return void 0===u&&(u="default"),R(8255)(a).then(f=>f[u]).then(f=>Kd(f,a,u)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(s){let[a,u]=s.split("#"),f="NgFactory";return void 0===u&&(u="default",f=""),R(8255)(this._config.factoryPathPrefix+a+this._config.factoryPathSuffix).then(p=>p[u+f]).then(p=>Kd(p,a,u))}}return r.\u0275fac=function(s){return new(s||r)(o1(y0),o1(Ab,8))},r.\u0275prov=Gt({token:r,factory:r.\u0275fac}),r})();function Kd(r,i,s){if(!r)throw new Error(`Cannot find '${s}' in '${i}'`);return r}const Vb=function(r){return null},Pb=jd(null,"core",[{provide:zd,useValue:"unknown"},{provide:$d,deps:[z1]},{provide:Hd,deps:[]},{provide:Ld,deps:[]}]),Ub=[{provide:C0,useClass:C0,deps:[k2,z1,sa,Na,Fa]},{provide:Fy,deps:[k2],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(s){i.push(s)}}},{provide:Fa,useClass:Fa,deps:[[new li,Ul]]},{provide:y0,useClass:y0,deps:[]},WC,{provide:Y3,useFactory:function(){return V_},deps:[]},{provide:K3,useFactory:function(){return R_},deps:[]},{provide:ac,useFactory:function(r){return ol(r=r||"undefined"!=typeof $localize&&$localize.locale||B3),r},deps:[[new eo(ac),new li,new on]]},{provide:Vd,useValue:"USD"}];let jb=(()=>{class r{constructor(s){}}return r.\u0275fac=function(s){return new(s||r)(o1(C0))},r.\u0275mod=Ne({type:r}),r.\u0275inj=Xt({providers:Ub}),r})()},8939:(Ue,Ee,R)=>{"use strict";R.d(Ee,{hO:()=>ae,xv:()=>te,Dh:()=>J,GT:()=>ee,cc:()=>fe,on:()=>k,pX:()=>se});var c=R(7716),U=R(7841),N=R(5519);Ue=R.hmd(Ue);const ce=["ngOnDestroy"],se=(ie,le,ve,Ie={})=>new Proxy(ie,{get:(He,ht)=>ve.runOutsideAngular(()=>{var Ct;if(ie[ht])return(null===(Ct=null==Ie?void 0:Ie.spy)||void 0===Ct?void 0:Ct.get)&&Ie.spy.get(ht,ie[ht]),ie[ht];if(ce.indexOf(ht)>-1)return()=>{};const st=le.toPromise().then(c1=>{const ct=c1&&c1[ht];return"function"==typeof ct?ct.bind(c1):ct&&ct.then?ct.then(it=>ve.run(()=>it)):ve.run(()=>ct)});return new Proxy(()=>{},{get:(c1,ct)=>st[ct],apply:(c1,ct,it)=>st.then(wt=>{var Ke;const Mt=wt&&wt(...it);return(null===(Ke=null==Ie?void 0:Ie.spy)||void 0===Ke?void 0:Ke.apply)&&Ie.spy.apply(ht,it,Mt),Mt})})})}),ee=(ie,le)=>{le.forEach(ve=>{Object.getOwnPropertyNames(ve.prototype||ve).forEach(Ie=>{Object.defineProperty(ie.prototype,Ie,Object.getOwnPropertyDescriptor(ve.prototype||ve,Ie))})})};class me{constructor(le){return le}}const J=new c.OlP("angularfire2.app.options"),te=new c.OlP("angularfire2.app.name");function k(ie,le,ve){const He="object"==typeof ve&&ve||{};He.name=He.name||"string"==typeof ve&&ve||"[DEFAULT]";const Ct=U.Z.apps.filter(st=>st&&st.name===He.name)[0]||le.runOutsideAngular(()=>U.Z.initializeApp(ie,He));try{JSON.stringify(ie)!==JSON.stringify(Ct.options)&&F("error",`${Ct.name} Firebase App already initialized with different options${Ue.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(st){}return new me(Ct)}const F=(ie,...le)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ie](...le)},j={provide:me,useFactory:k,deps:[J,c.R0b,[new c.FiY,te]]};let ae=(()=>{class ie{constructor(ve){U.Z.registerVersion("angularfire",N.q4.full,"core"),U.Z.registerVersion("angularfire",N.q4.full,"app-compat"),U.Z.registerVersion("angular",c.q4F.full,ve.toString())}static initializeApp(ve,Ie){return{ngModule:ie,providers:[{provide:J,useValue:ve},{provide:te,useValue:Ie}]}}}return ie.\u0275fac=function(ve){return new(ve||ie)(c.LFG(c.Lbi))},ie.\u0275mod=c.oAB({type:ie}),ie.\u0275inj=c.cJS({providers:[j]}),ie})();function fe(ie,le,ve,Ie,He){const[,ht,Ct]=globalThis.\u0275AngularfireInstanceCache.find(st=>st[0]===ie)||[];if(ht)return function(ie,le){try{return ie.toString()===le.toString()}catch(ve){return ie===le}}(He,Ct)||(pe("error",`${le} was already initialized on the ${ve} Firebase App with different settings.${ge?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:He,was:Ct})),ht;{const st=Ie();return globalThis.\u0275AngularfireInstanceCache.push([ie,st,He]),st}}const ge=!!Ue.hot,pe=(ie,...le)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ie](...le)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5519:(Ue,Ee,R)=>{"use strict";R.d(Ee,{q4:()=>vr,iC:()=>L2,HU:()=>y6,vb:()=>Cr,JM:()=>Ji,u3:()=>$o});var c=R(7716),U=R(2329),N=R(8239),ce=R(8026),se=R(3854),ee=R(3910),me=R(5422),J=R(6676);const te="@firebase/installations",k="0.5.3",j=`w:${k}`,ae="FIS_v2",le=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ve(M){return M instanceof se.ZR&&M.code.includes("request-failed")}function Ie({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function He(M){return{token:M.token,requestStatus:2,expiresIn:wt(M.expiresIn),creationTime:Date.now()}}function ht(M,w){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,N.Z)(function*(M,w){const H=(yield w.json()).error;return le.create("request-failed",{requestName:M,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function st({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function c1(M,{refreshToken:w}){const D=st(M);return D.append("Authorization",function(M){return`${ae} ${M}`}(w)),D}function ct(M){return it.apply(this,arguments)}function it(){return(it=(0,N.Z)(function*(M){const w=yield M();return w.status>=500&&w.status<600?M():w})).apply(this,arguments)}function wt(M){return Number(M.replace("s","000"))}function Mt(M,w){return Be.apply(this,arguments)}function Be(){return(Be=(0,N.Z)(function*(M,{fid:w}){const D=Ie(M),de={method:"POST",headers:st(M),body:JSON.stringify({fid:w,authVersion:ae,appId:M.appId,sdkVersion:j})},we=yield ct(()=>fetch(D,de));if(we.ok){const Oe=yield we.json();return{fid:Oe.fid||w,registrationStatus:2,refreshToken:Oe.refreshToken,authToken:He(Oe.authToken)}}throw yield ht("Create Installation",we)})).apply(this,arguments)}function o2(M){return new Promise(w=>{setTimeout(w,M)})}const $n=/^[cdef][\w-]{21}$/;function Zt(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const D=function(M){return function(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return $n.test(D)?D:""}catch(M){return""}}function s2(M){return`${M.appName}!${M.appId}`}const a2=new Map;function _n(M,w){const D=s2(M);Xt(D,w),function(M,w){const D=(!Ut&&"BroadcastChannel"in self&&(Ut=new BroadcastChannel("[Firebase] FID Change"),Ut.onmessage=M=>{Xt(M.data.key,M.data.fid)}),Ut);D&&D.postMessage({key:M,fid:w}),0===a2.size&&Ut&&(Ut.close(),Ut=null)}(D,w)}function Xt(M,w){const D=a2.get(M);if(D)for(const H of D)H(w)}let Ut=null;const e1="firebase-installations-store";let A1=null;function Dn(){return A1||(A1=(0,J.openDb)("firebase-installations-database",1,M=>{switch(M.oldVersion){case 0:M.createObjectStore(e1)}})),A1}function Ve(M,w){return It.apply(this,arguments)}function It(){return(It=(0,N.Z)(function*(M,w){const D=s2(M),X=(yield Dn()).transaction(e1,"readwrite"),de=X.objectStore(e1),we=yield de.get(D);return yield de.put(w,D),yield X.complete,(!we||we.fid!==w.fid)&&_n(M,w.fid),w})).apply(this,arguments)}function U1(M){return b1.apply(this,arguments)}function b1(){return(b1=(0,N.Z)(function*(M){const w=s2(M),H=(yield Dn()).transaction(e1,"readwrite");yield H.objectStore(e1).delete(w),yield H.complete})).apply(this,arguments)}function We(M,w){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,N.Z)(function*(M,w){const D=s2(M),X=(yield Dn()).transaction(e1,"readwrite"),de=X.objectStore(e1),we=yield de.get(D),Oe=w(we);return void 0===Oe?yield de.delete(D):yield de.put(Oe,D),yield X.complete,Oe&&(!we||we.fid!==Oe.fid)&&_n(M,Oe.fid),Oe})).apply(this,arguments)}function dt(M){return pt.apply(this,arguments)}function pt(){return(pt=(0,N.Z)(function*(M){let w;const D=yield We(M,H=>{const X=M1(H),de=Bt(M,X);return w=de.registrationPromise,de.installationEntry});return""===D.fid?{installationEntry:yield w}:{installationEntry:D,registrationPromise:w}})).apply(this,arguments)}function M1(M){return kt(M||{fid:Zt(),registrationStatus:0})}function Bt(M,w){if(0===w.registrationStatus){if(!navigator.onLine)return{installationEntry:w,registrationPromise:Promise.reject(le.create("app-offline"))};const D={fid:w.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:D,registrationPromise:function(M,w){return Ze.apply(this,arguments)}(M,D)}}return 1===w.registrationStatus?{installationEntry:w,registrationPromise:Li(M)}:{installationEntry:w}}function Ze(){return(Ze=(0,N.Z)(function*(M,w){try{return Ve(M,yield Mt(M,w))}catch(D){throw ve(D)&&409===D.customData.serverCode?yield U1(M):yield Ve(M,{fid:w.fid,registrationStatus:0}),D}})).apply(this,arguments)}function Li(M){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,N.Z)(function*(M){let w=yield $t(M);for(;1===w.registrationStatus;)yield o2(100),w=yield $t(M);if(0===w.registrationStatus){const{installationEntry:D,registrationPromise:H}=yield dt(M);return H||D}return w})).apply(this,arguments)}function $t(M){return We(M,w=>{if(!w)throw le.create("installation-not-found");return kt(w)})}function kt(M){return function(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function U2(M,w){return $.apply(this,arguments)}function $(){return($=(0,N.Z)(function*({appConfig:M,platformLoggerProvider:w},D){const H=Z(M,D),X=c1(M,D),de=w.getImmediate({optional:!0});de&&X.append("x-firebase-client",de.getPlatformInfoString());const Oe={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:j}})},Re=yield ct(()=>fetch(H,Oe));if(Re.ok)return He(yield Re.json());throw yield ht("Generate Auth Token",Re)})).apply(this,arguments)}function Z(M,{fid:w}){return`${Ie(M)}/${w}/authTokens:generate`}function W(M){return ye.apply(this,arguments)}function ye(){return(ye=(0,N.Z)(function*(M,w=!1){let D;const H=yield We(M.appConfig,de=>{if(!w1(de))throw le.create("not-registered");const we=de.authToken;if(!w&&V1(we))return de;if(1===we.requestStatus)return D=oe(M,w),de;{if(!navigator.onLine)throw le.create("app-offline");const Oe=q(de);return D=xt(M,Oe),Oe}});return D?yield D:H.authToken})).apply(this,arguments)}function oe(M,w){return ke.apply(this,arguments)}function ke(){return(ke=(0,N.Z)(function*(M,w){let D=yield Qe(M.appConfig);for(;1===D.authToken.requestStatus;)yield o2(100),D=yield Qe(M.appConfig);const H=D.authToken;return 0===H.requestStatus?W(M,w):H})).apply(this,arguments)}function Qe(M){return We(M,w=>{if(!w1(w))throw le.create("not-registered");return function(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(w.authToken)?Object.assign(Object.assign({},w),{authToken:{requestStatus:0}}):w})}function xt(M,w){return l1.apply(this,arguments)}function l1(){return(l1=(0,N.Z)(function*(M,w){try{const D=yield U2(M,w),H=Object.assign(Object.assign({},w),{authToken:D});return yield Ve(M.appConfig,H),D}catch(D){if(!ve(D)||401!==D.customData.serverCode&&404!==D.customData.serverCode){const H=Object.assign(Object.assign({},w),{authToken:{requestStatus:0}});yield Ve(M.appConfig,H)}else yield U1(M.appConfig);throw D}})).apply(this,arguments)}function w1(M){return void 0!==M&&2===M.registrationStatus}function V1(M){return 2===M.requestStatus&&!function(M){const w=Date.now();return w<M.creationTime||M.creationTime+M.expiresIn<w+36e5}(M)}function q(M){const w={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:w})}function Ne(){return(Ne=(0,N.Z)(function*(M){const w=M,{installationEntry:D,registrationPromise:H}=yield dt(w.appConfig);return H?H.catch(console.error):W(w).catch(console.error),D.fid})).apply(this,arguments)}function vt(){return(vt=(0,N.Z)(function*(M,w=!1){const D=M;return yield ut(D.appConfig),(yield W(D,w)).token})).apply(this,arguments)}function ut(M){return v1.apply(this,arguments)}function v1(){return(v1=(0,N.Z)(function*(M){const{registrationPromise:w}=yield dt(M);w&&(yield w)})).apply(this,arguments)}function Jt(M){return le.create("missing-app-config-values",{valueName:M})}const ln="installations";(0,ce._registerComponent)(new ee.wA(ln,M=>{const w=M.getProvider("app").getImmediate();return{app:w,appConfig:function(M){if(!M||!M.options)throw Jt("App Configuration");if(!M.name)throw Jt("App Name");const w=["projectId","apiKey","appId"];for(const D of w)if(!M.options[D])throw Jt(D);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(w),platformLoggerProvider:(0,ce._getProvider)(w,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ce._registerComponent)(new ee.wA("installations-internal",M=>{const w=M.getProvider("app").getImmediate(),D=(0,ce._getProvider)(w,ln).getImmediate();return{getId:()=>function(M){return Ne.apply(this,arguments)}(D),getToken:X=>function(M){return vt.apply(this,arguments)}(D,X)}},"PRIVATE")),(0,ce.registerVersion)(te,k),(0,ce.registerVersion)(te,k,"esm2017");const $r="@firebase/remote-config",B1=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ri{constructor(w,D,H,X){this.client=w,this.storage=D,this.storageCache=H,this.logger=X}isCachedDataFresh(w,D){if(!D)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-D,X=H<=w;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${w}. Is cache hit: ${X}.`),X}fetch(w){var D=this;return(0,N.Z)(function*(){const[H,X]=yield Promise.all([D.storage.getLastSuccessfulFetchTimestampMillis(),D.storage.getLastSuccessfulFetchResponse()]);if(X&&D.isCachedDataFresh(w.cacheMaxAgeMillis,H))return X;w.eTag=X&&X.eTag;const de=yield D.client.fetch(w),we=[D.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===de.status&&we.push(D.storage.setLastSuccessfulFetchResponse(de)),yield Promise.all(we),de})()}}function u2(M=navigator){return M.languages&&M.languages[0]||M.language}class G1{constructor(w,D,H,X,de,we){this.firebaseInstallations=w,this.sdkVersion=D,this.namespace=H,this.projectId=X,this.apiKey=de,this.appId=we}fetch(w){var D=this;return(0,N.Z)(function*(){const[H,X]=yield Promise.all([D.firebaseInstallations.getId(),D.firebaseInstallations.getToken()]),we=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${D.projectId}/namespaces/${D.namespace}:fetch?key=${D.apiKey}`,Oe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":w.eTag||"*"},Re={sdk_version:D.sdkVersion,app_instance_id:H,app_instance_id_token:X,app_id:D.appId,language_code:u2()},bt={method:"POST",headers:Oe,body:JSON.stringify(Re)},Ot=fetch(we,bt),hn=new Promise((pn,Xe)=>{w.signal.addEventListener(()=>{const U4=new Error("The operation was aborted.");U4.name="AbortError",Xe(U4)})});let An;try{yield Promise.race([Ot,hn]),An=yield Ot}catch(pn){let Xe="fetch-client-network";throw"AbortError"===pn.name&&(Xe="fetch-timeout"),B1.create(Xe,{originalErrorMessage:pn.message})}let P1=An.status;const ci=An.headers.get("ETag")||void 0;let Wo,br;if(200===An.status){let pn;try{pn=yield An.json()}catch(Xe){throw B1.create("fetch-client-parse",{originalErrorMessage:Xe.message})}Wo=pn.entries,br=pn.state}if("INSTANCE_STATE_UNSPECIFIED"===br?P1=500:"NO_CHANGE"===br?P1=304:("NO_TEMPLATE"===br||"EMPTY_CONFIG"===br)&&(Wo={}),304!==P1&&200!==P1)throw B1.create("fetch-status",{httpStatus:P1});return{status:P1,eTag:ci,config:Wo}})()}}class v4{constructor(w,D){this.client=w,this.storage=D}fetch(w){var D=this;return(0,N.Z)(function*(){const H=(yield D.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return D.attemptFetch(w,H)})()}attemptFetch(w,{throttleEndTimeMillis:D,backoffCount:H}){var X=this;return(0,N.Z)(function*(){yield function(M,w){return new Promise((D,H)=>{const X=Math.max(w-Date.now(),0),de=setTimeout(D,X);M.addEventListener(()=>{clearTimeout(de),H(B1.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(w.signal,D);try{const de=yield X.client.fetch(w);return yield X.storage.deleteThrottleMetadata(),de}catch(de){if(!function(M){if(!(M instanceof se.ZR&&M.customData))return!1;const w=Number(M.customData.httpStatus);return 429===w||500===w||503===w||504===w}(de))throw de;const we={throttleEndTimeMillis:Date.now()+(0,se.$s)(H),backoffCount:H+1};return yield X.storage.setThrottleMetadata(we),X.attemptFetch(w,we)}})()}}class y4{constructor(w,D,H,X,de){this.app=w,this._client=D,this._storageCache=H,this._storage=X,this._logger=de,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _s(M,w){const D=M.target.error||void 0;return B1.create(w,{originalErrorMessage:D&&D.message})}const $2="app_namespace_store";class b4{constructor(w,D,H,X=function(){return new Promise((M,w)=>{try{const D=indexedDB.open("firebase_remote_config",1);D.onerror=H=>{w(_s(H,"storage-open"))},D.onsuccess=H=>{M(H.target.result)},D.onupgradeneeded=H=>{const X=H.target.result;switch(H.oldVersion){case 0:X.createObjectStore($2,{keyPath:"compositeKey"})}}}catch(D){w(B1.create("storage-open",{originalErrorMessage:D}))}})}()){this.appId=w,this.appName=D,this.namespace=H,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(w){return this.set("last_fetch_status",w)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(w){return this.set("last_successful_fetch_timestamp_millis",w)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(w){return this.set("last_successful_fetch_response",w)}getActiveConfig(){return this.get("active_config")}setActiveConfig(w){return this.set("active_config",w)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(w){return this.set("active_config_etag",w)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(w){return this.set("throttle_metadata",w)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(w){var D=this;return(0,N.Z)(function*(){const H=yield D.openDbPromise;return new Promise((X,de)=>{const Oe=H.transaction([$2],"readonly").objectStore($2),Re=D.createCompositeKey(w);try{const bt=Oe.get(Re);bt.onerror=Ot=>{de(_s(Ot,"storage-get"))},bt.onsuccess=Ot=>{const hn=Ot.target.result;X(hn?hn.value:void 0)}}catch(bt){de(B1.create("storage-get",{originalErrorMessage:bt&&bt.message}))}})})()}set(w,D){var H=this;return(0,N.Z)(function*(){const X=yield H.openDbPromise;return new Promise((de,we)=>{const Re=X.transaction([$2],"readwrite").objectStore($2),bt=H.createCompositeKey(w);try{const Ot=Re.put({compositeKey:bt,value:D});Ot.onerror=hn=>{we(_s(hn,"storage-set"))},Ot.onsuccess=()=>{de()}}catch(Ot){we(B1.create("storage-set",{originalErrorMessage:Ot&&Ot.message}))}})})()}delete(w){var D=this;return(0,N.Z)(function*(){const H=yield D.openDbPromise;return new Promise((X,de)=>{const Oe=H.transaction([$2],"readwrite").objectStore($2),Re=D.createCompositeKey(w);try{const bt=Oe.delete(Re);bt.onerror=Ot=>{de(_s(Ot,"storage-delete"))},bt.onsuccess=()=>{X()}}catch(bt){de(B1.create("storage-delete",{originalErrorMessage:bt&&bt.message}))}})})()}createCompositeKey(w){return[this.appId,this.appName,this.namespace,w].join()}}class B0{constructor(w){this.storage=w}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var w=this;return(0,N.Z)(function*(){const D=w.storage.getLastFetchStatus(),H=w.storage.getLastSuccessfulFetchTimestampMillis(),X=w.storage.getActiveConfig(),de=yield D;de&&(w.lastFetchStatus=de);const we=yield H;we&&(w.lastSuccessfulFetchTimestampMillis=we);const Oe=yield X;Oe&&(w.activeConfig=Oe)})()}setLastFetchStatus(w){return this.lastFetchStatus=w,this.storage.setLastFetchStatus(w)}setLastSuccessfulFetchTimestampMillis(w){return this.lastSuccessfulFetchTimestampMillis=w,this.storage.setLastSuccessfulFetchTimestampMillis(w)}setActiveConfig(w){return this.activeConfig=w,this.storage.setActiveConfig(w)}}function i6(){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,N.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(M){return!1}})).apply(this,arguments)}(0,ce._registerComponent)(new ee.wA("remote-config",function(w,{instanceIdentifier:D}){const H=w.getProvider("app").getImmediate(),X=w.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw B1.create("registration-window");if(!(0,se.hl)())throw B1.create("indexed-db-unavailable");const{projectId:de,apiKey:we,appId:Oe}=H.options;if(!de)throw B1.create("registration-project-id");if(!we)throw B1.create("registration-api-key");if(!Oe)throw B1.create("registration-app-id");const Re=new b4(Oe,H.name,D=D||"firebase"),bt=new B0(Re),Ot=new me.Yd($r);Ot.logLevel=me.in.ERROR;const hn=new G1(X,ce.SDK_VERSION,D,de,we,Oe),An=new v4(hn,Re),P1=new Ri(An,Re,bt,Ot),ci=new y4(H,P1,bt,Re,Ot);return function(M){const w=(0,se.m9)(M);w._initializePromise||(w._initializePromise=w._storageCache.loadFromStorage().then(()=>{w._isInitializationComplete=!0}))}(ci),ci},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)($r,"0.3.2"),(0,ce.registerVersion)($r,"0.3.2","esm2017");const Cs="/firebase-messaging-sw.js",E4="/firebase-cloud-messaging-push-scope",bs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Nn="google.c.a.c_id",S2="google.c.a.c_l",Pi="google.c.a.ts",Ms="google.c.a.e";var qr=(()=>{return(M=qr||(qr={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",qr;var M})();function Ln(M){const w=new Uint8Array(M);return btoa(String.fromCharCode(...w)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function o6(M){const D=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(D),X=new Uint8Array(H.length);for(let de=0;de<H.length;++de)X[de]=H.charCodeAt(de);return X}const ki="fcm_token_details_db",Es="fcm_token_object_Store";function Gn(M){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,N.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(de=>de.name).includes(ki))return null;let w=null;return(yield(0,J.openDb)(ki,5,function(){var H=(0,N.Z)(function*(X){var de;if(X.oldVersion<2||!X.objectStoreNames.contains(Es))return;const we=X.transaction.objectStore(Es),Oe=yield we.index("fcmSenderId").get(M);if(yield we.clear(),Oe)if(2===X.oldVersion){const Re=Oe;if(!Re.auth||!Re.p256dh||!Re.endpoint)return;w={token:Re.fcmToken,createTime:null!==(de=Re.createTime)&&void 0!==de?de:Date.now(),subscriptionOptions:{auth:Re.auth,p256dh:Re.p256dh,endpoint:Re.endpoint,swScope:Re.swScope,vapidKey:"string"==typeof Re.vapidKey?Re.vapidKey:Ln(Re.vapidKey)}}}else if(3===X.oldVersion){const Re=Oe;w={token:Re.fcmToken,createTime:Re.createTime,subscriptionOptions:{auth:Ln(Re.auth),p256dh:Ln(Re.p256dh),endpoint:Re.endpoint,swScope:Re.swScope,vapidKey:Ln(Re.vapidKey)}}}else if(4===X.oldVersion){const Re=Oe;w={token:Re.fcmToken,createTime:Re.createTime,subscriptionOptions:{auth:Ln(Re.auth),p256dh:Ln(Re.p256dh),endpoint:Re.endpoint,swScope:Re.swScope,vapidKey:Ln(Re.vapidKey)}}}});return function(X){return H.apply(this,arguments)}}())).close(),yield(0,J.deleteDb)(ki),yield(0,J.deleteDb)("fcm_vapid_details_db"),yield(0,J.deleteDb)("undefined"),Ao(w)?w:null})).apply(this,arguments)}function Ao(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:w}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof w.auth&&w.auth.length>0&&"string"==typeof w.p256dh&&w.p256dh.length>0&&"string"==typeof w.endpoint&&w.endpoint.length>0&&"string"==typeof w.swScope&&w.swScope.length>0&&"string"==typeof w.vapidKey&&w.vapidKey.length>0}const W2="firebase-messaging-store";let Yr=null;function _1(){return Yr||(Yr=(0,J.openDb)("firebase-messaging-database",1,M=>{switch(M.oldVersion){case 0:M.createObjectStore(W2)}})),Yr}function Hi(M){return q1.apply(this,arguments)}function q1(){return(q1=(0,N.Z)(function*(M){const w=Kr(M),H=yield(yield _1()).transaction(W2).objectStore(W2).get(w);if(H)return H;{const X=yield Gn(M.appConfig.senderId);if(X)return yield G2(M,X),X}})).apply(this,arguments)}function G2(M,w){return qt.apply(this,arguments)}function qt(){return(qt=(0,N.Z)(function*(M,w){const D=Kr(M),X=(yield _1()).transaction(W2,"readwrite");return yield X.objectStore(W2).put(w,D),yield X.complete,w})).apply(this,arguments)}function a6(M){return As.apply(this,arguments)}function As(){return(As=(0,N.Z)(function*(M){const w=Kr(M),H=(yield _1()).transaction(W2,"readwrite");yield H.objectStore(W2).delete(w),yield H.complete})).apply(this,arguments)}function Kr({appConfig:M}){return M.appId}const d1=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ws(M,w){return qn.apply(this,arguments)}function qn(){return(qn=(0,N.Z)(function*(M,w){const D=yield Io(M),H=Je(w),X={method:"POST",headers:D,body:JSON.stringify(H)};let de;try{de=yield(yield fetch(d2(M.appConfig),X)).json()}catch(we){throw d1.create("token-subscribe-failed",{errorInfo:we})}if(de.error)throw d1.create("token-subscribe-failed",{errorInfo:de.error.message});if(!de.token)throw d1.create("token-subscribe-no-token");return de.token})).apply(this,arguments)}function bn(M,w){return wo.apply(this,arguments)}function wo(){return(wo=(0,N.Z)(function*(M,w){const D=yield Io(M),H=Je(w.subscriptionOptions),X={method:"PATCH",headers:D,body:JSON.stringify(H)};let de;try{de=yield(yield fetch(`${d2(M.appConfig)}/${w.token}`,X)).json()}catch(we){throw d1.create("token-update-failed",{errorInfo:we})}if(de.error)throw d1.create("token-update-failed",{errorInfo:de.error.message});if(!de.token)throw d1.create("token-update-no-token");return de.token})).apply(this,arguments)}function Fi(M,w){return j1.apply(this,arguments)}function j1(){return(j1=(0,N.Z)(function*(M,w){const H={method:"DELETE",headers:yield Io(M)};try{const de=yield(yield fetch(`${d2(M.appConfig)}/${w}`,H)).json();if(de.error)throw d1.create("token-unsubscribe-failed",{errorInfo:de.error.message})}catch(X){throw d1.create("token-unsubscribe-failed",{errorInfo:X})}})).apply(this,arguments)}function d2({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function Io(M){return cr.apply(this,arguments)}function cr(){return(cr=(0,N.Z)(function*({appConfig:M,installations:w}){const D=yield w.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${D}`})})).apply(this,arguments)}function Je({p256dh:M,auth:w,endpoint:D,vapidKey:H}){const X={web:{endpoint:D,auth:w,p256dh:M}};return H!==bs&&(X.web.applicationPubKey=H),X}const w4=6048e5;function I4(M){return Is.apply(this,arguments)}function Is(){return(Is=(0,N.Z)(function*(M){const w=yield Bi(M.swRegistration,M.vapidKey),D={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:w.endpoint,auth:Ln(w.getKey("auth")),p256dh:Ln(w.getKey("p256dh"))},H=yield Hi(M.firebaseDependencies);if(H){if(ji(H.subscriptionOptions,D))return Date.now()>=H.createTime+w4?Ss(M,{token:H.token,createTime:Date.now(),subscriptionOptions:D}):H.token;try{yield Fi(M.firebaseDependencies,H.token)}catch(X){console.warn(X)}return Ae(M.firebaseDependencies,D)}return Ae(M.firebaseDependencies,D)})).apply(this,arguments)}function So(M){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,N.Z)(function*(M){const w=yield Hi(M.firebaseDependencies);w&&(yield Fi(M.firebaseDependencies,w.token),yield a6(M.firebaseDependencies));const D=yield M.swRegistration.pushManager.getSubscription();return!D||D.unsubscribe()})).apply(this,arguments)}function Ss(M,w){return h2.apply(this,arguments)}function h2(){return(h2=(0,N.Z)(function*(M,w){try{const D=yield bn(M.firebaseDependencies,w),H=Object.assign(Object.assign({},w),{token:D,createTime:Date.now()});return yield G2(M.firebaseDependencies,H),D}catch(D){throw yield So(M),D}})).apply(this,arguments)}function Ae(M,w){return mt.apply(this,arguments)}function mt(){return(mt=(0,N.Z)(function*(M,w){const H={token:yield ws(M,w),createTime:Date.now(),subscriptionOptions:w};return yield G2(M,H),H.token})).apply(this,arguments)}function Bi(M,w){return i1.apply(this,arguments)}function i1(){return(i1=(0,N.Z)(function*(M,w){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:o6(w)})})).apply(this,arguments)}function ji(M,w){return w.vapidKey===M.vapidKey&&w.endpoint===M.endpoint&&w.auth===M.auth&&w.p256dh===M.p256dh}function Yn(M){const w={from:M.from,collapseKey:M.collapse_key,messageId:M.fcm_message_id};return function(M,w){if(!w.notification)return;M.notification={};const D=w.notification.title;D&&(M.notification.title=D);const H=w.notification.body;H&&(M.notification.body=H);const X=w.notification.image;X&&(M.notification.image=X)}(w,M),function(M,w){!w.data||(M.data=w.data)}(w,M),function(M,w){if(!w.fcmOptions)return;M.fcmOptions={};const D=w.fcmOptions.link;D&&(M.fcmOptions.link=D);const H=w.fcmOptions.analytics_label;H&&(M.fcmOptions.analyticsLabel=H)}(w,M),w}function c6(M){return"object"==typeof M&&!!M&&Nn in M}function To(M,w){const D=[];for(let H=0;H<M.length;H++)D.push(M.charAt(H)),H<w.length&&D.push(w.charAt(H));return D.join("")}function q2(M){return d1.create("missing-app-config-values",{valueName:M})}To("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),To("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class O1{constructor(w,D,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function(M){if(!M||!M.options)throw q2("App Configuration Object");if(!M.name)throw q2("App Name");const w=["projectId","apiKey","appId","messagingSenderId"],{options:D}=M;for(const H of w)if(!D[H])throw q2(H);return{appName:M.name,projectId:D.projectId,apiKey:D.apiKey,appId:D.appId,senderId:D.messagingSenderId}}(w);this.firebaseDependencies={app:w,appConfig:X,installations:D,analyticsProvider:H}}_delete(){return Promise.resolve()}}function fn(M){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,N.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(Cs,{scope:E4}),M.swRegistration.update().catch(()=>{})}catch(w){throw d1.create("failed-service-worker-registration",{browserErrorMessage:w.message})}})).apply(this,arguments)}function p2(M,w){return Y1.apply(this,arguments)}function Y1(){return(Y1=(0,N.Z)(function*(M,w){if(!w&&!M.swRegistration&&(yield fn(M)),w||!M.swRegistration){if(!(w instanceof ServiceWorkerRegistration))throw d1.create("invalid-sw-registration");M.swRegistration=w}})).apply(this,arguments)}function j0(M,w){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,N.Z)(function*(M,w){w?M.vapidKey=w:M.vapidKey||(M.vapidKey=bs)})).apply(this,arguments)}function $i(){return($i=(0,N.Z)(function*(M,w){if(!navigator)throw d1.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw d1.create("permission-blocked");return yield j0(M,null==w?void 0:w.vapidKey),yield p2(M,null==w?void 0:w.serviceWorkerRegistration),I4(M)})).apply(this,arguments)}function xs(M,w,D){return lr.apply(this,arguments)}function lr(){return(lr=(0,N.Z)(function*(M,w,D){const H=Ds(w);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:D[Nn],message_name:D[S2],message_time:D[Pi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ds(M){switch(M){case qr.NOTIFICATION_CLICKED:return"notification_open";case qr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Do(){return(Do=(0,N.Z)(function*(M,w){const D=w.data;if(!D.isFirebaseMessaging)return;M.onMessageHandler&&D.messageType===qr.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(Yn(D)):M.onMessageHandler.next(Yn(D)));const H=D.data;c6(H)&&"1"===H[Ms]&&(yield xs(M,D.messageType,H))})).apply(this,arguments)}const Wi="@firebase/messaging";function No(){return fr.apply(this,arguments)}function fr(){return(fr=(0,N.Z)(function*(){return"undefined"!=typeof window&&(0,se.hl)()&&(yield(0,se.eu)())&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ce._registerComponent)(new ee.wA("messaging",M=>{const w=new O1(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",D=>function(M,w){return Do.apply(this,arguments)}(w,D)),w},"PUBLIC")),(0,ce._registerComponent)(new ee.wA("messaging-internal",M=>{const w=M.getProvider("messaging").getImmediate();return{getToken:H=>function(M,w){return $i.apply(this,arguments)}(w,H)}},"PRIVATE")),(0,ce.registerVersion)(Wi,"0.9.3"),(0,ce.registerVersion)(Wi,"0.9.3","esm2017");const Vo="analytics",zs="firebase_id",ni="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dr="https://www.googletagmanager.com/gtag/js",R1=new me.Yd("@firebase/analytics");function Ns(M){return Promise.all(M.map(w=>w.catch(D=>D)))}function x4(M,w){const D=document.createElement("script");D.src=`${dr}?l=${M}&id=${w}`,D.async=!0,document.head.appendChild(D)}function Ro(M,w,D,H,X,de){return hr.apply(this,arguments)}function hr(){return(hr=(0,N.Z)(function*(M,w,D,H,X,de){const we=H[X];try{if(we)yield w[we];else{const Re=(yield Ns(D)).find(bt=>bt.measurementId===X);Re&&(yield w[Re.appId])}}catch(Oe){R1.error(Oe)}M("config",X,de)})).apply(this,arguments)}function D4(M,w,D,H,X){return pr.apply(this,arguments)}function pr(){return(pr=(0,N.Z)(function*(M,w,D,H,X){try{let de=[];if(X&&X.send_to){let we=X.send_to;Array.isArray(we)||(we=[we]);const Oe=yield Ns(D);for(const Re of we){const bt=Oe.find(hn=>hn.measurementId===Re),Ot=bt&&w[bt.appId];if(!Ot){de=[];break}de.push(Ot)}}0===de.length&&(de=Object.values(w)),yield Promise.all(de),M("event",H,X||{})}catch(de){R1.error(de)}})).apply(this,arguments)}function Z0(){const M=window.document.getElementsByTagName("script");for(const w of Object.values(M))if(w.src&&w.src.includes(dr))return w;return null}const g2=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Po=new class{constructor(w={},D=1e3){this.throttleMetadata=w,this.intervalMillis=D}getThrottleMetadata(w){return this.throttleMetadata[w]}setThrottleMetadata(w,D){this.throttleMetadata[w]=D}deleteThrottleMetadata(w){delete this.throttleMetadata[w]}};function h6(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function Vs(M){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,N.Z)(function*(M){var w;const{appId:D,apiKey:H}=M,X={method:"GET",headers:h6(H)},de=ni.replace("{app-id}",D),we=yield fetch(de,X);if(200!==we.status&&304!==we.status){let Oe="";try{const Re=yield we.json();(null===(w=Re.error)||void 0===w?void 0:w.message)&&(Oe=Re.error.message)}catch(Re){}throw g2.create("config-fetch-failed",{httpStatus:we.status,responseMessage:Oe})}return we.json()})).apply(this,arguments)}function ri(M){return D2.apply(this,arguments)}function D2(){return(D2=(0,N.Z)(function*(M,w=Po,D){const{appId:H,apiKey:X,measurementId:de}=M.options;if(!H)throw g2.create("no-app-id");if(!X){if(de)return{measurementId:de,appId:H};throw g2.create("no-api-key")}const we=w.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Oe=new Ps;return setTimeout((0,N.Z)(function*(){Oe.abort()}),void 0!==D?D:6e4),Rs({appId:H,apiKey:X,measurementId:de},we,Oe,w)})).apply(this,arguments)}function Rs(M,w,D){return ii.apply(this,arguments)}function ii(){return(ii=(0,N.Z)(function*(M,{throttleEndTimeMillis:w,backoffCount:D},H,X=Po){const{appId:de,measurementId:we}=M;try{yield Oc(H,w)}catch(Oe){if(we)return R1.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${we} provided in the "measurementId" field in the local Firebase config. [${Oe.message}]`),{appId:de,measurementId:we};throw Oe}try{const Oe=yield Vs(M);return X.deleteThrottleMetadata(de),Oe}catch(Oe){if(!N4(Oe)){if(X.deleteThrottleMetadata(de),we)return R1.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${we} provided in the "measurementId" field in the local Firebase config. [${Oe.message}]`),{appId:de,measurementId:we};throw Oe}const Re=503===Number(Oe.customData.httpStatus)?(0,se.$s)(D,X.intervalMillis,30):(0,se.$s)(D,X.intervalMillis),bt={throttleEndTimeMillis:Date.now()+Re,backoffCount:D+1};return X.setThrottleMetadata(de,bt),R1.debug(`Calling attemptFetch again in ${Re} millis`),Rs(M,bt,H,X)}})).apply(this,arguments)}function Oc(M,w){return new Promise((D,H)=>{const X=Math.max(w-Date.now(),0),de=setTimeout(D,X);M.addEventListener(()=>{clearTimeout(de),H(g2.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}function N4(M){if(!(M instanceof se.ZR&&M.customData))return!1;const w=Number(M.customData.httpStatus);return 429===w||500===w||503===w||504===w}class Ps{constructor(){this.listeners=[]}addEventListener(w){this.listeners.push(w)}abort(){this.listeners.forEach(w=>w())}}function L4(){return V4.apply(this,arguments)}function V4(){return(V4=(0,N.Z)(function*(){if(!(0,se.hl)())return R1.warn(g2.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(M){return R1.warn(g2.create("indexeddb-unavailable",{errorInfo:M}).message),!1}return!0})).apply(this,arguments)}function Yi(){return(Yi=(0,N.Z)(function*(M,w,D,H,X,de,we){var Oe;const Re=ri(M);Re.then(P1=>{D[P1.measurementId]=P1.appId,M.options.measurementId&&P1.measurementId!==M.options.measurementId&&R1.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${P1.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(P1=>R1.error(P1)),w.push(Re);const bt=L4().then(P1=>{if(P1)return H.getId()}),[Ot,hn]=yield Promise.all([Re,bt]);Z0()||x4(de,Ot.measurementId),X("js",new Date);const An=null!==(Oe=null==we?void 0:we.config)&&void 0!==Oe?Oe:{};return An.origin="firebase",An.update=!0,null!=hn&&(An[zs]=hn),X("config",Ot.measurementId,An),Ot.measurementId})).apply(this,arguments)}class S1{constructor(w){this.app=w}_delete(){return delete je[this.app.options.appId],Promise.resolve()}}let je={},Rn=[];const R4={};let mr,J1,Q1="dataLayer",ko=!1;function zt(M,w,D){!function(){const M=[];if((0,se.ru)()&&M.push("This is a browser extension environment."),(0,se.zI)()||M.push("Cookies are not available."),M.length>0){const w=M.map((H,X)=>`(${X+1}) ${H}`).join(" "),D=g2.create("invalid-analytics-context",{errorInfo:w});R1.warn(D.message)}}();const H=M.options.appId;if(!H)throw g2.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw g2.create("no-api-key");R1.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=je[H])throw g2.create("already-exists",{id:H});if(!ko){!function(M){let w=[];Array.isArray(window[M])?w=window[M]:window[M]=w}(Q1);const{wrappedGtag:de,gtagCore:we}=function(M,w,D,H,X){let de=function(...we){window[H].push(arguments)};return window[X]&&"function"==typeof window[X]&&(de=window[X]),window[X]=function(M,w,D,H){function de(){return(de=(0,N.Z)(function*(we,Oe,Re){try{"event"===we?yield D4(M,w,D,Oe,Re):"config"===we?yield Ro(M,w,D,H,Oe,Re):M("set",Oe)}catch(bt){R1.error(bt)}})).apply(this,arguments)}return function(we,Oe,Re){return de.apply(this,arguments)}}(de,M,w,D),{gtagCore:de,wrappedGtag:window[X]}}(je,Rn,R4,Q1,"gtag");J1=de,mr=we,ko=!0}return je[H]=function(M,w,D,H,X,de,we){return Yi.apply(this,arguments)}(M,Rn,R4,w,mr,Q1,D),new S1(M)}function oi(){return(oi=(0,N.Z)(function*(M,w,D,H,X){if(X&&X.global)M("event",D,H);else{const de=yield w;M("event",D,Object.assign(Object.assign({},H),{send_to:de}))}})).apply(this,arguments)}function Q2(){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,N.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(M){return!1}})).apply(this,arguments)}const p6="@firebase/analytics";(0,ce._registerComponent)(new ee.wA(Vo,(w,{options:D})=>zt(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),D),"PUBLIC")),(0,ce._registerComponent)(new ee.wA("analytics-internal",function(w){try{const D=w.getProvider(Vo).getImmediate();return{logEvent:(H,X,de)=>function(M,w,D,H){M=(0,se.m9)(M),function(M,w,D,H,X){return oi.apply(this,arguments)}(J1,je[M.app.options.appId],w,D,H).catch(X=>R1.error(X))}(D,H,X,de)}}catch(D){throw g2.create("interop-component-reg-failed",{reason:D})}},"PRIVATE")),(0,ce.registerVersion)(p6,"0.7.3"),(0,ce.registerVersion)(p6,"0.7.3","esm2017");var g6=R(7771),W0=R(3637),v6=R(7574),Fs=R(3342),Us=R(3101),_6=R(309);const vr=new c.GfV("7.1.1"),_r="__angularfire_symbol__analyticsIsSupported",h1="__angularfire_symbol__remoteConfigIsSupported",T1="__angularfire_symbol__messagingIsSupported";function Ji(M,w,D){if(w){if(1===w.length)return w[0];const de=w.filter(we=>we.app===D);if(1===de.length)return de[0]}return D.container.getProvider(M).getImmediate({optional:!0})}globalThis[_r]||(globalThis[_r]=Q2().then(M=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=M)),globalThis[T1]||(globalThis[T1]=No().then(M=>globalThis.__angularfire_symbol__messagingIsSupportedValue=M)),globalThis[h1]||(globalThis[h1]=i6().then(M=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=M));const Cr=(M,w)=>{const D=w?[w]:(0,U.C6)(),H=[];return D.forEach(X=>{X.container.getProvider(M).instances.forEach(we=>{H.includes(we)||H.push(we)})}),H};function En(){}class jo{constructor(w,D=g6.N){this.zone=w,this.delegate=D}now(){return this.delegate.now()}schedule(w,D,H){const X=this.zone;return this.delegate.schedule(function(we){X.runGuarded(()=>{w.apply(this,[we])})},D,H)}}class F4{constructor(w){this.zone=w,this.task=null}call(w,D){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",En,{},En,En)),D.pipe((0,Fs.b)({next:H,complete:H,error:H})).subscribe(w).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let y6=(()=>{class M{constructor(D){this.ngZone=D,this.outsideAngular=D.runOutsideAngular(()=>new jo(Zone.current)),this.insideAngular=D.run(()=>new jo(Zone.current,W0.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(D){return new(D||M)(c.LFG(c.R0b))},M.\u0275prov=c.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function ai(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function Bs(M){return ai().ngZone.runOutsideAngular(()=>M())}function J2(M){return ai().ngZone.run(()=>M())}function L2(M){return ai(),function(M){return function(D){return(D=D.lift(new F4(M.ngZone))).pipe((0,Us.R)(M.outsideAngular),(0,_6.QV)(M.insideAngular))}}(ai())(M)}const Zo=(M,w)=>{const D=void 0;return function(){return w&&setTimeout(()=>{"scheduled"===w.state&&w.invoke()},10),J2(()=>M.apply(D,arguments))}},$o=(M,w)=>function(){let D;for(let X=0;X<arguments.length;X++)"function"==typeof arguments[X]&&(w&&(D||(D=J2(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",En,{},En,En)))),arguments[X]=Zo(arguments[X],D));const H=Bs(()=>M.apply(this,arguments));if(!w){if(H instanceof v6.y){const X=ai();return H.pipe((0,Us.R)(X.outsideAngular),(0,_6.QV)(X.insideAngular))}return J2(()=>H)}return H instanceof v6.y?H.pipe(L2):H instanceof Promise?J2(()=>new Promise((X,de)=>H.then(we=>J2(()=>X(we)),we=>J2(()=>de(we))))):"function"==typeof H&&D?function(){return setTimeout(()=>{D&&"scheduled"===D.state&&D.invoke()},10),H.apply(this,arguments)}:J2(()=>H)}},7354:(Ue,Ee,R)=>{"use strict";R.d(Ee,{$:()=>j0,A:()=>F2,E:()=>nn,G:()=>G1,I:()=>T2,K:()=>E2,L:()=>Hi,M:()=>a6,N:()=>As,P:()=>H,Q:()=>Kr,R:()=>y6,T:()=>qt,U:()=>qn,V:()=>bn,W:()=>Io,X:()=>Yn,Y:()=>Zi,Z:()=>c6,_:()=>O1,a:()=>mr,a0:()=>Ts,a1:()=>xs,a2:()=>Ds,a3:()=>Do,a4:()=>Gi,a5:()=>l6,a6:()=>S4,a7:()=>fr,a8:()=>u6,a9:()=>I1,aA:()=>Er,aB:()=>V2,aC:()=>tn,aG:()=>Oo,aJ:()=>d1,aa:()=>kc,ab:()=>Vo,ae:()=>ni,af:()=>R1,ag:()=>Ns,aj:()=>Is,ak:()=>$0,am:()=>Rs,an:()=>V4,ao:()=>n6,ap:()=>A1,aq:()=>Vi,ar:()=>A2,as:()=>Ft,at:()=>K4,au:()=>W4,av:()=>Ut,aw:()=>Se,ax:()=>Ve,ay:()=>nt,az:()=>Go,b:()=>Q1,c:()=>An,d:()=>br,e:()=>ci,f:()=>eo,g:()=>Z4,h:()=>on,i:()=>g6,j:()=>Y0,k:()=>Gs,l:()=>dn,m:()=>Q4,o:()=>o2,r:()=>C6,s:()=>J2,u:()=>w,z:()=>s2});var c=R(8239),U=R(3854),N=R(8026);function me(_,h){var g={};for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&h.indexOf(b)<0&&(g[b]=_[b]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(b=Object.getOwnPropertySymbols(_);S<b.length;S++)h.indexOf(b[S])<0&&Object.prototype.propertyIsEnumerable.call(_,b[S])&&(g[b[S]]=_[b[S]])}return g}var Ke=R(5422),Mt=R(3910);const o2={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},F2={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const s2=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},a2=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_n=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),c2=new Ke.Yd("@firebase/auth");function Xt(_,...h){c2.logLevel<=Ke.in.ERROR&&c2.error(`Auth (${N.SDK_VERSION}): ${_}`,...h)}function Ft(_,...h){throw Wn(_,...h)}function Ut(_,...h){return Wn(_,...h)}function b2(_,h,g){const b=Object.assign(Object.assign({},a2()),{[h]:g});return new U.LL("auth","Firebase",b).create(h,{appName:_.name})}function xn(_,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&Ft(_,"argument-error"),b2(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wn(_,...h){if("string"!=typeof _){const g=h[0],b=[...h.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(g,...b)}return _n.create(_,...h)}function Se(_,h,...g){if(!_)throw Wn(h,...g)}function e1(_){const h="INTERNAL ASSERTION FAILED: "+_;throw Xt(h),new Error(h)}function A1(_,h){_||e1(h)}const Dn=new Map;function Ve(_){A1(_ instanceof Function,"Expected a class definition");let h=Dn.get(_);return h?(A1(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,Dn.set(_,h),h)}function b1(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function We(){return"http:"===Ge()||"https:"===Ge()}function Ge(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class M1{constructor(h,g){this.shortDelay=h,this.longDelay=g,A1(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(We()||(0,U.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Bt(_,h){A1(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class De{static initialize(h,g,b){this.fetchImpl=h,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void e1("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void e1("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void e1("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ze={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Li=new M1(3e4,6e4);function Yt(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function $t(_,h,g,b){return kt.apply(this,arguments)}function kt(){return(kt=(0,c.Z)(function*(_,h,g,b,S={}){return Kt(_,S,()=>{let x={},Q={};b&&("GET"===h?Q=b:x={body:JSON.stringify(b)});const _e=(0,U.xO)(Object.assign({key:_.config.apiKey},Q)).slice(1),Pe=new(De.headers());return Pe.set("Content-Type","application/json"),Pe.set("X-Client-Version",_._getSdkClientVersion()),_.languageCode&&Pe.set("X-Firebase-Locale",_.languageCode),De.fetch()(W(_,_.config.apiHost,g,_e),Object.assign({method:h,headers:Pe,referrerPolicy:"no-referrer"},x))})})).apply(this,arguments)}function Kt(_,h,g){return U2.apply(this,arguments)}function U2(){return(U2=(0,c.Z)(function*(_,h,g){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},Ze),h);try{const S=new ye(_),x=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const Q=yield x.json();if("needConfirmation"in Q)throw oe(_,"account-exists-with-different-credential",Q);if(x.ok&&!("errorMessage"in Q))return Q;{const _e=x.ok?Q.errorMessage:Q.error.message,[Pe,ze]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw oe(_,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Pe)throw oe(_,"email-already-in-use",Q);const qe=b[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw b2(_,qe,ze);Ft(_,qe)}}catch(S){if(S instanceof U.ZR)throw S;Ft(_,"network-request-failed")}})).apply(this,arguments)}function $(_,h,g,b){return Z.apply(this,arguments)}function Z(){return(Z=(0,c.Z)(function*(_,h,g,b,S={}){const x=yield $t(_,h,g,b,S);return"mfaPendingCredential"in x&&Ft(_,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function W(_,h,g,b){const S=`${h}${g}?${b}`;return _.config.emulator?Bt(_.config,S):`${_.config.apiScheme}://${S}`}class ye{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(Ut(this.auth,"timeout")),Li.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oe(_,h,g){const b={appName:_.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const S=Ut(_,h,b);return S.customData._tokenResponse=g,S}function Qe(){return(Qe=(0,c.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function xt(_,h){return l1.apply(this,arguments)}function l1(){return(l1=(0,c.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function w1(_,h){return V1.apply(this,arguments)}function V1(){return(V1=(0,c.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function ne(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function Me(){return(Me=(0,c.Z)(function*(_,h=!1){const g=(0,U.m9)(_),b=yield g.getIdToken(h),S=et(b);Se(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const x="object"==typeof S.firebase?S.firebase:void 0,Q=null==x?void 0:x.sign_in_provider;return{claims:S,token:b,authTime:ne(Ne(S.auth_time)),issuedAtTime:ne(Ne(S.iat)),expirationTime:ne(Ne(S.exp)),signInProvider:Q||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function Ne(_){return 1e3*Number(_)}function et(_){const[h,g,b]=_.split(".");if(void 0===h||void 0===g||void 0===b)return Xt("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,U.tV)(g);return S?JSON.parse(S):(Xt("Failed to decode base64 JWT payload"),null)}catch(S){return Xt("Caught error parsing JWT payload as JSON",S),null}}function ut(_,h){return v1.apply(this,arguments)}function v1(){return(v1=(0,c.Z)(function*(_,h,g=!1){if(g)return h;try{return yield h}catch(b){throw b instanceof U.ZR&&Qt(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Qt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class u1{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(h);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),b)}iteration(){var h=this;return(0,c.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&h.schedule(!0))}h.schedule()})()}}class at{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=ne(this.lastLoginAt),this.creationTime=ne(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function f1(_){return B2.apply(this,arguments)}function B2(){return(B2=(0,c.Z)(function*(_){var h;const g=_.auth,b=yield _.getIdToken(),S=yield ut(_,w1(g,{idToken:b}));Se(null==S?void 0:S.users.length,g,"internal-error");const x=S.users[0];_._notifyReloadListener(x);const Q=(null===(h=x.providerUserInfo)||void 0===h?void 0:h.length)?Jt(x.providerUserInfo):[],_e=gt(_.providerData,Q),qe=!!_.isAnonymous&&!(_.email&&x.passwordHash||(null==_e?void 0:_e.length)),Nt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:_e,metadata:new at(x.createdAt,x.lastLoginAt),isAnonymous:qe};Object.assign(_,Nt)})).apply(this,arguments)}function Le(){return(Le=(0,c.Z)(function*(_){const h=(0,U.m9)(_);yield f1(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function gt(_,h){return[..._.filter(b=>!h.some(S=>S.providerId===b.providerId)),...h]}function Jt(_){return _.map(h=>{var{providerId:g}=h,b=me(h,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function M2(){return(M2=(0,c.Z)(function*(_,h){const g=yield Kt(_,{},()=>{const b=(0,U.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:S,apiKey:x}=_.config,Q=W(_,S,"/v1/token",`key=${x}`);return De.fetch()(Q,{method:"POST",headers:{"X-Client-Version":_._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:b})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class C1{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Se(h.idToken,"internal-error"),Se(void 0!==h.idToken,"internal-error"),Se(void 0!==h.refreshToken,"internal-error");const g="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function(_){const h=et(_);return Se(h,"internal-error"),Se(void 0!==h.exp,"internal-error"),Se(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var b=this;return(0,c.Z)(function*(){return Se(!b.accessToken||b.refreshToken,h,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(h,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var b=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:x,expiresIn:Q}=yield function(_,h){return M2.apply(this,arguments)}(h,g);b.updateTokensAndExpiration(S,x,Number(Q))})()}updateTokensAndExpiration(h,g,b){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(h,g){const{refreshToken:b,accessToken:S,expirationTime:x}=g,Q=new C1;return b&&(Se("string"==typeof b,"internal-error",{appName:h}),Q.refreshToken=b),S&&(Se("string"==typeof S,"internal-error",{appName:h}),Q.accessToken=S),x&&(Se("number"==typeof x,"internal-error",{appName:h}),Q.expirationTime=x),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new C1,this.toJSON())}_performRefresh(){return e1("not implemented")}}function W1(_,h){Se("string"==typeof _||void 0===_,"internal-error",{appName:h})}class t1{constructor(h){var{uid:g,auth:b,stsTokenManager:S}=h,x=me(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new u1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.metadata=new at(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,c.Z)(function*(){const b=yield ut(g,g.stsTokenManager.getToken(g.auth,h));return Se(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(h){return function(_){return Me.apply(this,arguments)}(this,h)}reload(){return function(_){return Le.apply(this,arguments)}(this)}_assign(h){this!==h&&(Se(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new t1(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var b=this;return(0,c.Z)(function*(){let S=!1;h.idToken&&h.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(h),S=!0),g&&(yield f1(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var h=this;return(0,c.Z)(function*(){const g=yield h.getIdToken();return yield ut(h,function(_,h){return Qe.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var b,S,x,Q,_e,Pe,ze,qe;const Nt=null!==(b=g.displayName)&&void 0!==b?b:void 0,n1=null!==(S=g.email)&&void 0!==S?S:void 0,sn=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,r1=null!==(Q=g.photoURL)&&void 0!==Q?Q:void 0,es=null!==(_e=g.tenantId)&&void 0!==_e?_e:void 0,J4=null!==(Pe=g._redirectEventId)&&void 0!==Pe?Pe:void 0,X4=null!==(ze=g.createdAt)&&void 0!==ze?ze:void 0,z6=null!==(qe=g.lastLoginAt)&&void 0!==qe?qe:void 0,{uid:ea,emailVerified:e3,isAnonymous:ta,providerData:X2,stsTokenManager:t3}=g;Se(ea&&t3,h,"internal-error");const ts=C1.fromJSON(this.name,t3);Se("string"==typeof ea,h,"internal-error"),W1(Nt,h.name),W1(n1,h.name),Se("boolean"==typeof e3,h,"internal-error"),Se("boolean"==typeof ta,h,"internal-error"),W1(sn,h.name),W1(r1,h.name),W1(es,h.name),W1(J4,h.name),W1(X4,h.name),W1(z6,h.name);const n3=new t1({uid:ea,auth:h,email:n1,emailVerified:e3,displayName:Nt,isAnonymous:ta,photoURL:r1,phoneNumber:sn,tenantId:es,stsTokenManager:ts,createdAt:X4,lastLoginAt:z6});return X2&&Array.isArray(X2)&&(n3.providerData=X2.map(qs=>Object.assign({},qs))),J4&&(n3._redirectEventId=J4),n3}static _fromIdTokenResponse(h,g,b=!1){return(0,c.Z)(function*(){const S=new C1;S.updateFromServerResponse(g);const x=new t1({uid:g.localId,auth:h,stsTokenManager:S,isAnonymous:b});return yield f1(x),x})()}}const E2=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,b){var S=this;return(0,c.Z)(function*(){S.storage[g]=b})()}_get(g){var b=this;return(0,c.Z)(function*(){const S=b.storage[g];return void 0===S?null:S})()}_remove(g){var b=this;return(0,c.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return _.type="NONE",_})();function nt(_,h,g){return`firebase:${_}:${h}:${g}`}class Cn{constructor(h,g,b){this.persistence=h,this.auth=g,this.userKey=b;const{config:S,name:x}=this.auth;this.fullUserKey=nt(this.userKey,S.apiKey,x),this.fullPersistenceKey=nt("persistence",S.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,c.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?t1._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,c.Z)(function*(){if(g.persistence===h)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,b="authUser"){return(0,c.Z)(function*(){if(!g.length)return new Cn(Ve(E2),h,b);const S=(yield Promise.all(g.map(function(){var ze=(0,c.Z)(function*(qe){if(yield qe._isAvailable())return qe});return function(qe){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let x=S[0]||Ve(E2);const Q=nt(b,h.config.apiKey,h.name);let _e=null;for(const ze of g)try{const qe=yield ze._get(Q);if(qe){const Nt=t1._fromJSON(h,qe);ze!==x&&(_e=Nt),x=ze;break}}catch(qe){}const Pe=S.filter(ze=>ze._shouldAllowMigration);return x._shouldAllowMigration&&Pe.length?(x=Pe[0],_e&&(yield x._set(Q,_e.toJSON())),yield Promise.all(g.map(function(){var ze=(0,c.Z)(function*(qe){if(qe!==x)try{yield qe._remove(Q)}catch(Nt){}});return function(qe){return ze.apply(this,arguments)}}())),new Cn(x,h,b)):new Cn(x,h,b)})()}}function j2(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Wr(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(B1(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(zn(h))return"Blackberry";if(Dt(h))return"Webos";if(sr(h))return"Safari";if((h.includes("chrome/")||X1(h))&&!h.includes("edge/"))return"Chrome";if(A2(h))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function B1(_=(0,U.z$)()){return/firefox\//i.test(_)}function sr(_=(0,U.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function X1(_=(0,U.z$)()){return/crios\//i.test(_)}function Wr(_=(0,U.z$)()){return/iemobile/i.test(_)}function A2(_=(0,U.z$)()){return/android/i.test(_)}function zn(_=(0,U.z$)()){return/blackberry/i.test(_)}function Dt(_=(0,U.z$)()){return/webos/i.test(_)}function Vi(_=(0,U.z$)()){return/iphone|ipad|ipod/i.test(_)}function n6(_=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function ar(_=(0,U.z$)()){return Vi(_)||A2(_)||Dt(_)||zn(_)||/windows phone/i.test(_)||Wr(_)}function w2(_,h=[]){let g;switch(_){case"Browser":g=j2((0,U.z$)());break;case"Worker":g=`${j2((0,U.z$)())}-${_}`;break;default:g=_}const b=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${N.SDK_VERSION}/${b}`}class en{constructor(h,g){this.app=h,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I2(this),this.idTokenSubscription=new I2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_n,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(h,g){var b=this;return g&&(this._popupRedirectResolver=Ve(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,x;b._deleted||(b.persistenceManager=yield Cn.create(b,h),!b._deleted&&((null===(S=b._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)&&(yield b._popupRedirectResolver._initialize(b)),yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(x=b.currentUser)||void 0===x?void 0:x.uid)||null,!b._deleted&&(b._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,c.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g)}})()}initializeCurrentUser(h){var g=this;return(0,c.Z)(function*(){var b;let S=yield g.assertedPersistence.getCurrentUser();if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const x=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Q=null==S?void 0:S._redirectEventId,_e=yield g.tryRedirectSignIn(h);(!x||x===Q)&&(null==_e?void 0:_e.user)&&(S=_e.user)}return S?S._redirectEventId?(Se(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var g=this;return(0,c.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch(S){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,c.Z)(function*(){try{yield f1(h)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,c.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,c.Z)(function*(){const b=h?(0,U.m9)(h):null;return b&&Se(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(h){var g=this;return(0,c.Z)(function*(){if(!g._deleted)return h&&Se(g.tenantId===h.tenantId,g,"tenant-id-mismatch"),g.queue((0,c.Z)(function*(){yield g.directlySetCurrentUser(h),g.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,c.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(Ve(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new U.LL("auth","Firebase",h())}onAuthStateChanged(h,g,b){return this.registerStateListener(this.authStateSubscription,h,g,b)}onIdTokenChanged(h,g,b){return this.registerStateListener(this.idTokenSubscription,h,g,b)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var b=this;return(0,c.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(g);return null===h?S.removeCurrentUser():S.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const b=h&&Ve(h)||g._popupRedirectResolver;Se(b,g,"argument-error"),g.redirectPersistenceManager=yield Cn.create(g,[Ve(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,c.Z)(function*(){var b,S;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===h?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,c.Z)(function*(){if(h===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,b,S){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return Se(Q,this,"internal-error"),Q.then(()=>x(this.currentUser)),"function"==typeof g?h.addObserver(g,b,S):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==h&&(g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh()),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=w2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function tn(_){return(0,U.m9)(_)}class I2{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,U.ne)(g=>this.observer=g)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nn(_,h,g){const b=tn(_);Se(b._canInitEmulator,b,"emulator-config-failed"),Se(/^https?:\/\//.test(h),b,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),x=gs(h),{host:Q,port:_e}=function(_){const h=gs(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const x=S[1];return{host:x,port:Ri(b.substr(x.length+1))}}{const[x,Q]=b.split(":");return{host:x,port:Ri(Q)}}}(h);b.config.emulator={url:`${x}//${Q}${null===_e?"":`:${_e}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Q,port:_e,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function(){function _(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function gs(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function Ri(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class G1{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return e1("not implemented")}_getIdTokenResponse(h){return e1("not implemented")}_linkToIdToken(h,g){return e1("not implemented")}_getReauthenticationResolver(h){return e1("not implemented")}}function r6(_,h){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:resetPassword",Yt(_,h))})).apply(this,arguments)}function v4(_,h){return _4.apply(this,arguments)}function _4(){return(_4=(0,c.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function F0(_,h){return y4.apply(this,arguments)}function y4(){return(y4=(0,c.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:update",Yt(_,h))})).apply(this,arguments)}function $2(){return($2=(0,c.Z)(function*(_,h){return $(_,"POST","/v1/accounts:signInWithPassword",Yt(_,h))})).apply(this,arguments)}function ys(_,h){return C4.apply(this,arguments)}function C4(){return(C4=(0,c.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:sendOobCode",Yt(_,h))})).apply(this,arguments)}function U0(_,h){return b4.apply(this,arguments)}function b4(){return(b4=(0,c.Z)(function*(_,h){return ys(_,h)})).apply(this,arguments)}function B0(_,h){return M4.apply(this,arguments)}function M4(){return(M4=(0,c.Z)(function*(_,h){return ys(_,h)})).apply(this,arguments)}function Pc(_,h){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(_,h){return ys(_,h)})).apply(this,arguments)}function i6(_,h){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,c.Z)(function*(_,h){return ys(_,h)})).apply(this,arguments)}function E4(){return(E4=(0,c.Z)(function*(_,h){return $(_,"POST","/v1/accounts:signInWithEmailLink",Yt(_,h))})).apply(this,arguments)}function Eo(){return(Eo=(0,c.Z)(function*(_,h){return $(_,"POST","/v1/accounts:signInWithEmailLink",Yt(_,h))})).apply(this,arguments)}class Nn extends G1{constructor(h,g,b,S=null){super("password",b),this._email=h,this._password=g,this._tenantId=S}static _fromEmailAndPassword(h,g){return new Nn(h,g,"password")}static _fromEmailAndCode(h,g,b=null){return new Nn(h,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function(_,h){return $2.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(_,h){return E4.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:Ft(h,"internal-error")}})()}_linkToIdToken(h,g){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return v4(h,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function(_,h){return Eo.apply(this,arguments)}(h,{idToken:g,email:b._email,oobCode:b._password});default:Ft(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function S2(_,h){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(_,h){return $(_,"POST","/v1/accounts:signInWithIdp",Yt(_,h))})).apply(this,arguments)}class T2 extends G1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new T2(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):Ft("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:b,signInMethod:S}=g,x=me(g,["providerId","signInMethod"]);if(!b||!S)return null;const Q=new T2(b,S);return Q.idToken=x.idToken||void 0,Q.accessToken=x.accessToken||void 0,Q.secret=x.secret,Q.nonce=x.nonce,Q.pendingToken=x.pendingToken||null,Q}_getIdTokenResponse(h){return S2(h,this.buildRequest())}_linkToIdToken(h,g){const b=this.buildRequest();return b.idToken=g,S2(h,b)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,S2(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,U.xO)(g)}return h}}function qr(_,h){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:sendVerificationCode",Yt(_,h))})).apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(_,h){return $(_,"POST","/v1/accounts:signInWithPhoneNumber",Yt(_,h))})).apply(this,arguments)}function Es(){return(Es=(0,c.Z)(function*(_,h){const g=yield $(_,"POST","/v1/accounts:signInWithPhoneNumber",Yt(_,h));if(g.temporaryProof)throw oe(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Gn={USER_NOT_FOUND:"user-not-found"};function Ao(){return(Ao=(0,c.Z)(function*(_,h){return $(_,"POST","/v1/accounts:signInWithPhoneNumber",Yt(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Gn)})).apply(this,arguments)}class f2 extends G1{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new f2({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new f2({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function(_,h){return ki.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function(_,h){return Es.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function(_,h){return Ao.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:b,verificationCode:S}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:b,code:S}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:x}=h;return b||g||S||x?new f2({verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:x}):null}}class Yr{constructor(h){var g,b,S,x,Q,_e;const Pe=(0,U.zd)((0,U.pd)(h)),ze=null!==(g=Pe.apiKey)&&void 0!==g?g:null,qe=null!==(b=Pe.oobCode)&&void 0!==b?b:null,Nt=function(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Pe.mode)&&void 0!==S?S:null);Se(ze&&qe&&Nt,"argument-error"),this.apiKey=ze,this.operation=Nt,this.code=qe,this.continueUrl=null!==(x=Pe.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(Q=Pe.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(_e=Pe.tenantId)&&void 0!==_e?_e:null}static parseLink(h){const g=function(_){const h=(0,U.zd)((0,U.pd)(_)).link,g=h?(0,U.zd)((0,U.pd)(h)).deep_link_id:null,b=(0,U.zd)((0,U.pd)(_)).deep_link_id;return(b?(0,U.zd)((0,U.pd)(b)).link:null)||b||g||h||_}(h);try{return new Yr(g)}catch(b){return null}}}let Hi=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,b){return Nn._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const S=Yr.parseLink(b);return Se(S,"argument-error"),Nn._fromEmailAndCode(g,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class q1{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class G2 extends q1{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class qt extends G2{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return Se("providerId"in g&&"signInMethod"in g,"argument-error"),T2._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Se(h.idToken||h.accessToken,"argument-error"),T2._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return qt.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return qt.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:x,nonce:Q,providerId:_e}=h;if(!b&&!S&&!g&&!x||!_e)return null;try{return new qt(_e)._credential({idToken:g,accessToken:b,nonce:Q,pendingToken:x})}catch(Pe){return null}}}let a6=(()=>{class _ extends G2{constructor(){super("facebook.com")}static credential(g){return T2._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),As=(()=>{class _ extends G2{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return T2._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:S}=g;if(!b&&!S)return null;try{return _.credential(b,S)}catch(x){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Kr=(()=>{class _ extends G2{constructor(){super("github.com")}static credential(g){return T2._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class d1 extends G1{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return S2(h,this.buildRequest())}_linkToIdToken(h,g){const b=this.buildRequest();return b.idToken=g,S2(h,b)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,S2(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:b,signInMethod:S,pendingToken:x}=g;return b&&S&&x&&b===S?new d1(b,x):null}static _create(h,g){return new d1(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qn extends q1{constructor(h){Se(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return qn.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return qn.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=d1.fromJSON(h);return Se(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:b}=h;if(!g||!b)return null;try{return d1._create(b,g)}catch(S){return null}}}let bn=(()=>{class _ extends G2{constructor(){super("twitter.com")}static credential(g,b){return T2._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=g;if(!b||!S)return null;try{return _.credential(b,S)}catch(x){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function wo(_,h){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,c.Z)(function*(_,h){return $(_,"POST","/v1/accounts:signUp",Yt(_,h))})).apply(this,arguments)}class j1{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,b,S=!1){return(0,c.Z)(function*(){const x=yield t1._fromIdTokenResponse(h,b,S),Q=d2(b);return new j1({user:x,providerId:Q,_tokenResponse:b,operationType:g})})()}static _forOperation(h,g,b){return(0,c.Z)(function*(){yield h._updateTokensIfNecessary(b,!0);const S=d2(b);return new j1({user:h,providerId:S,_tokenResponse:b,operationType:g})})()}}function d2(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Io(_){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(_){var h;const g=tn(_);if(yield g._initializationPromise,null===(h=g.currentUser)||void 0===h?void 0:h.isAnonymous)return new j1({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield wo(g,{returnSecureToken:!0}),S=yield j1._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Je extends U.ZR{constructor(h,g,b,S){var x;super(g.code,g.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,Je.prototype),this.customData={appName:h.name,tenantId:null!==(x=h.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(h,g,b,S){return new Je(h,g,b,S)}}function w4(_,h,g,b){return("reauthenticate"===h?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Je._fromErrorAndOperation(_,x,h,b):x})}function I4(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function Is(_,h){return So.apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(_,h){const g=(0,U.m9)(_);yield h2(!0,g,h);const{providerUserInfo:b}=yield xt(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),S=I4(b||[]);return g.providerData=g.providerData.filter(x=>S.has(x.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ui(_,h){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(_,h,g=!1){const b=yield ut(_,h._linkToIdToken(_.auth,yield _.getIdToken()),g);return j1._forOperation(_,"link",b)})).apply(this,arguments)}function h2(_,h,g){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,c.Z)(function*(_,h,g){yield f1(h);const S=!1===_?"provider-already-linked":"no-such-provider";Se(I4(h.providerData).has(g)===_,h.auth,S)})).apply(this,arguments)}function mt(_,h){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,c.Z)(function*(_,h,g=!1){const{auth:b}=_,S="reauthenticate";try{const x=yield ut(_,w4(b,S,h,_),g);Se(x.idToken,b,"internal-error");const Q=et(x.idToken);Se(Q,b,"internal-error");const{sub:_e}=Q;return Se(_.uid===_e,b,"user-mismatch"),j1._forOperation(_,S,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&Ft(b,"user-mismatch"),x}})).apply(this,arguments)}function i1(_,h){return ji.apply(this,arguments)}function ji(){return(ji=(0,c.Z)(function*(_,h,g=!1){const b="signIn",S=yield w4(_,b,h),x=yield j1._fromIdTokenResponse(_,b,S);return g||(yield _._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Yn(_,h){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(_,h){return i1(tn(_),h)})).apply(this,arguments)}function Zi(_,h){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,c.Z)(function*(_,h){const g=(0,U.m9)(_);return yield h2(!1,g,h.providerId),Ui(g,h)})).apply(this,arguments)}function c6(_,h){return To.apply(this,arguments)}function To(){return(To=(0,c.Z)(function*(_,h){return mt((0,U.m9)(_),h)})).apply(this,arguments)}function xo(_,h){return q2.apply(this,arguments)}function q2(){return(q2=(0,c.Z)(function*(_,h){return $(_,"POST","/v1/accounts:signInWithCustomToken",Yt(_,h))})).apply(this,arguments)}function O1(_,h){return fn.apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(_,h){const g=tn(_),b=yield xo(g,{token:h,returnSecureToken:!0}),S=yield j1._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Jr{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?p2._fromServerResponse(h,g):Ft(h,"internal-error")}}class p2 extends Jr{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new p2(g)}}function Y1(_,h,g){var b;Se((null===(b=g.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),Se(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Se(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(Se(g.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function j0(_,h,g){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(_,h,g){const b=(0,U.m9)(_),S={requestType:"PASSWORD_RESET",email:h};g&&Y1(b,S,g),yield B0(b,S)})).apply(this,arguments)}function Ts(_,h,g){return $i.apply(this,arguments)}function $i(){return($i=(0,c.Z)(function*(_,h,g){yield r6((0,U.m9)(_),{oobCode:h,newPassword:g})})).apply(this,arguments)}function xs(_,h){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(_,h){yield F0((0,U.m9)(_),{oobCode:h})})).apply(this,arguments)}function Ds(_,h){return ur.apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*(_,h){const g=(0,U.m9)(_),b=yield r6(g,{oobCode:h}),S=b.requestType;switch(Se(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(b.mfaInfo,g,"internal-error");default:Se(b.email,g,"internal-error")}let x=null;return b.mfaInfo&&(x=Jr._fromServerResponse(tn(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:x},operation:S}})).apply(this,arguments)}function Do(_,h){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,c.Z)(function*(_,h){const{data:g}=yield Ds((0,U.m9)(_),h);return g.email})).apply(this,arguments)}function Gi(_,h,g){return zo.apply(this,arguments)}function zo(){return(zo=(0,c.Z)(function*(_,h,g){const b=tn(_),S=yield wo(b,{returnSecureToken:!0,email:h,password:g}),x=yield j1._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(x.user),x})).apply(this,arguments)}function l6(_,h,g){return Yn((0,U.m9)(_),Hi.credential(h,g))}function S4(_,h,g){return No.apply(this,arguments)}function No(){return(No=(0,c.Z)(function*(_,h,g){const b=(0,U.m9)(_),S={requestType:"EMAIL_SIGNIN",email:h};Se(g.handleCodeInApp,b,"argument-error"),g&&Y1(b,S,g),yield Pc(b,S)})).apply(this,arguments)}function fr(_,h){const g=Yr.parseLink(h);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}function u6(_,h,g){return qi.apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(_,h,g){const b=(0,U.m9)(_),S=Hi.credentialWithLink(h,g||b1());return Se(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Yn(b,S)})).apply(this,arguments)}function K1(_,h){return Y2.apply(this,arguments)}function Y2(){return(Y2=(0,c.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:createAuthUri",Yt(_,h))})).apply(this,arguments)}function I1(_,h){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,c.Z)(function*(_,h){const b={identifier:h,continueUri:We()?b1():"http://localhost"},{signinMethods:S}=yield K1((0,U.m9)(_),b);return S||[]})).apply(this,arguments)}function kc(_,h){return T4.apply(this,arguments)}function T4(){return(T4=(0,c.Z)(function*(_,h){const g=(0,U.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&Y1(g.auth,S,h);const{email:x}=yield U0(g.auth,S);x!==_.email&&(yield _.reload())})).apply(this,arguments)}function Vo(_,h,g){return zs.apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(_,h,g){const b=(0,U.m9)(_),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};g&&Y1(b.auth,x,g);const{email:Q}=yield i6(b.auth,x);Q!==_.email&&(yield _.reload())})).apply(this,arguments)}function ei(_,h){return ti.apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ni(_,h){return dr.apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(_,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const b=(0,U.m9)(_),x={idToken:yield b.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Q=yield ut(b,ei(b.auth,x));b.displayName=Q.displayName||null,b.photoURL=Q.photoUrl||null;const _e=b.providerData.find(({providerId:Pe})=>"password"===Pe);_e&&(_e.displayName=b.displayName,_e.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Q)})).apply(this,arguments)}function R1(_,h){return x4((0,U.m9)(_),h,null)}function Ns(_,h){return x4((0,U.m9)(_),null,h)}function x4(_,h,g){return m2.apply(this,arguments)}function m2(){return(m2=(0,c.Z)(function*(_,h,g){const{auth:b}=_,x={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(x.email=h),g&&(x.password=g);const Q=yield ut(_,v4(b,x));yield _._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class hr{constructor(h,g,b={}){this.isNewUser=h,this.providerId=g,this.profile=b}}class D4 extends hr{constructor(h,g,b,S){super(h,g,b),this.username=S}}class pr extends hr{constructor(h,g){super(h,"facebook.com",g)}}class Ls extends D4{constructor(h,g){super(h,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class f6 extends hr{constructor(h,g){super(h,"google.com",g)}}class Z0 extends D4{constructor(h,g,b){super(h,"twitter.com",g,b)}}function $0(_){const{user:h,_tokenResponse:g}=_;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(_){var h,g;if(!_)return null;const{providerId:b}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},x=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&(null==_?void 0:_.idToken)){const Q=null===(g=null===(h=et(_.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Q)return new hr(x,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!b)return null;switch(b){case"facebook.com":return new pr(x,S);case"github.com":return new Ls(x,S);case"google.com":return new f6(x,S);case"twitter.com":return new Z0(x,S,_.screenName||null);case"custom":case"anonymous":return new hr(x,null);default:return new hr(x,b,S)}}(g)}class ri{constructor(h,g){this.type=h,this.credential=g}static _fromIdtoken(h){return new ri("enroll",h)}static _fromMfaPendingCredential(h){return new ri("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,b;if(null==h?void 0:h.multiFactorSession){if(null===(g=h.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return ri._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(b=h.multiFactorSession)||void 0===b?void 0:b.idToken)return ri._fromIdtoken(h.multiFactorSession.idToken)}return null}}class D2{constructor(h,g,b){this.session=h,this.hints=g,this.signInResolver=b}static _fromError(h,g){const b=tn(h),S=g.customData._serverResponse,x=(S.mfaInfo||[]).map(_e=>Jr._fromServerResponse(b,_e));Se(S.mfaPendingCredential,b,"internal-error");const Q=ri._fromMfaPendingCredential(S.mfaPendingCredential);return new D2(Q,x,function(){var _e=(0,c.Z)(function*(Pe){const ze=yield Pe._process(b,Q);delete S.mfaInfo,delete S.mfaPendingCredential;const qe=Object.assign(Object.assign({},S),{idToken:ze.idToken,refreshToken:ze.refreshToken});switch(g.operationType){case"signIn":const Nt=yield j1._fromIdTokenResponse(b,g.operationType,qe);return yield b._updateCurrentUser(Nt.user),Nt;case"reauthenticate":return Se(g.user,b,"internal-error"),j1._forOperation(g.user,g.operationType,qe);default:Ft(b,"internal-error")}});return function(Pe){return _e.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,c.Z)(function*(){return g.signInResolver(h)})()}}function Rs(_,h){var g;const b=(0,U.m9)(_),S=h;return Se(h.customData.operationType,b,"argument-error"),Se(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),D2._fromError(b,S)}function ii(_,h){return $t(_,"POST","/v2/accounts/mfaEnrollment:start",Yt(_,h))}class Ps{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>Jr._fromServerResponse(h.auth,b)))})}static _fromUser(h){return new Ps(h)}getSession(){var h=this;return(0,c.Z)(function*(){return ri._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,g){var b=this;return(0,c.Z)(function*(){const S=h,x=yield b.getSession(),Q=yield ut(b.user,S._process(b.user.auth,x,g));return yield b.user._updateTokensIfNecessary(Q),b.user.reload()})()}unenroll(h){var g=this;return(0,c.Z)(function*(){const b="string"==typeof h?h:h.uid,S=yield g.user.getIdToken(),x=yield ut(g.user,function(_,h){return $t(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Yt(_,h))}(g.user.auth,{idToken:S,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Q})=>Q!==b),yield g.user._updateTokensIfNecessary(x);try{yield g.user.reload()}catch(Q){if("auth/user-token-expired"!==Q.code)throw Q}})()}}const L4=new WeakMap;function V4(_){const h=(0,U.m9)(_);return L4.has(h)||L4.set(h,Ps._fromUser(h)),L4.get(h)}const K2="__sak";class Yi{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(K2,"1"),this.storage.removeItem(K2),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Q1=(()=>{class _ extends Yi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const _=(0,U.z$)();return sr(_)||Vi(_)}()&&function(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=ar(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),x=this.localCache[b];S!==x&&g(b,x,S)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((_e,Pe,ze)=>{this.notifyListeners(_e,ze)});const S=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(S);if(g.newValue!==_e)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!b)return}const x=()=>{const _e=this.storage.getItem(S);!b&&this.localCache[S]===_e||this.notifyListeners(S,_e)},Q=this.storage.getItem(S);(0,U.w1)()&&10===document.documentMode&&Q!==g.newValue&&g.newValue!==g.oldValue?setTimeout(x,10):x()}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const x of Array.from(S))x(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var S=()=>super._set,x=this;return(0,c.Z)(function*(){yield S().call(x,g,b),x.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,S=this;return(0,c.Z)(function*(){const x=yield b().call(S,g);return S.localCache[g]=JSON.stringify(x),x})()}_remove(g){var b=()=>super._remove,S=this;return(0,c.Z)(function*(){yield b().call(S,g),delete S.localCache[g]})()}}return _.type="LOCAL",_})(),mr=(()=>{class _ extends Yi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return _.type="SESSION",_})();let ko=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(x=>x.isListeningto(g));if(b)return b;const S=new _(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,c.Z)(function*(){const S=g,{eventId:x,eventType:Q,data:_e}=S.data,Pe=b.handlersMap[Q];if(!(null==Pe?void 0:Pe.size))return;S.ports[0].postMessage({status:"ack",eventId:x,eventType:Q});const ze=Array.from(Pe).map(function(){var Nt=(0,c.Z)(function*(n1){return n1(S.origin,_e)});return function(n1){return Nt.apply(this,arguments)}}()),qe=yield function(_){return Promise.all(_.map(function(){var h=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return h.apply(this,arguments)}}()))}(ze);S.ports[0].postMessage({status:"done",eventId:x,eventType:Q,response:qe})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Oo(_="",h=10){let g="";for(let b=0;b<h;b++)g+=Math.floor(10*Math.random());return _+g}class Ho{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,b=50){var S=this;return(0,c.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let Q,_e;return new Promise((Pe,ze)=>{const qe=Oo("",20);x.port1.start();const Nt=setTimeout(()=>{ze(new Error("unsupported_event"))},b);_e={messageChannel:x,onMessage(n1){const sn=n1;if(sn.data.eventId===qe)switch(sn.data.status){case"ack":clearTimeout(Nt),Q=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Pe(sn.data.response);break;default:clearTimeout(Nt),clearTimeout(Q),ze(new Error("invalid_response"))}}},S.handlers.add(_e),x.port1.addEventListener("message",_e.onMessage),S.target.postMessage({eventType:h,eventId:qe,data:g},[x.port2])}).finally(()=>{_e&&S.removeMessageHandler(_e)})})()}}function zt(){return window}function oi(){return void 0!==zt().WorkerGlobalScope&&"function"==typeof zt().importScripts}function v2(){return(v2=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Hs="firebaseLocalStorageDb",Pn="firebaseLocalStorage",z2="fbase_key";class _2{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Mn(_,h){return _.transaction([Pn],h?"readwrite":"readonly").objectStore(Pn)}function Fo(){const _=indexedDB.open(Hs,1);return new Promise((h,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(Pn,{keyPath:z2})}catch(S){g(S)}}),_.addEventListener("success",(0,c.Z)(function*(){const b=_.result;b.objectStoreNames.contains(Pn)?h(b):(b.close(),yield function(){const _=indexedDB.deleteDatabase(Hs);return new _2(_).toPromise()}(),h(yield Fo()))}))})}function St(_,h,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(_,h,g){const b=Mn(_,!0).put({[z2]:h,value:g});return new _2(b).toPromise()})).apply(this,arguments)}function O4(){return(O4=(0,c.Z)(function*(_,h){const g=Mn(_,!1).get(h),b=yield new _2(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function y1(_,h){const g=Mn(_,!0).delete(h);return new _2(g).toPromise()}const g6=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Fo()),g.db})()}_withRetries(g){var b=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const x=yield b._openDb();return yield g(x)}catch(x){if(S++>3)throw x;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return oi()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=ko._getInstance(oi()?self:null),g.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(S,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(S,x){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(S,x){return["keyChanged"]});return function(S,x){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var b,S;if(g.activeServiceWorker=yield function(){return v2.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ho(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);!x||(null===(b=x[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=x[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Fo();return yield St(g,K2,"1"),yield y1(g,K2),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(x=>St(x,g,b)),S.localCache[g]=b,S.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,c.Z)(function*(){const S=yield b._withRetries(x=>function(_,h){return O4.apply(this,arguments)}(x,g));return b.localCache[g]=S,S})()}_remove(g){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(S=>y1(S,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const b=yield g._withRetries(Q=>{const _e=Mn(Q,!1).getAll();return new _2(_e).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const S=[],x=new Set;for(const{fbase_key:Q,value:_e}of b)x.add(Q),JSON.stringify(g.localCache[Q])!==JSON.stringify(_e)&&(g.notifyListeners(Q,_e),S.push(Q));for(const Q of Object.keys(g.localCache))g.localCache[Q]&&!x.has(Q)&&(g.notifyListeners(Q,null),S.push(Q));return S})()}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const x of Array.from(S))x(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function W0(_,h){return $t(_,"POST","/v2/accounts/mfaSignIn:start",Yt(_,h))}function Us(){return(Us=(0,c.Z)(function*(_){return(yield $t(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vr(_){return new Promise((h,g)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=h,b.onerror=S=>{const x=Ut("internal-error");x.customData=S,g(x)},b.type="text/javascript",b.charset="UTF-8",function(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(b)})}function H4(_){return`__${_}${Math.floor(1e6*Math.random())}`}const h1=1e12;class Qi{constructor(h){this.auth=h,this.counter=h1,this._widgets=new Map}render(h,g){const b=this.counter;return this._widgets.set(b,new T1(h,this.auth.name,g||{})),this.counter++,b}reset(h){var g;const b=h||h1;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(h){var g;return(null===(g=this._widgets.get(h||h1))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,c.Z)(function*(){var b;return null===(b=g._widgets.get(h||h1))||void 0===b||b.execute(),""})()}}class T1{constructor(h,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof h?document.getElementById(h):h;Se(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(_){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<50;b++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}();const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bo=H4("rcb"),Jn=new M1(3e4,6e4);class Ji{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!zt().grecaptcha}load(h,g=""){return Se((_=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_),h,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(zt().grecaptcha):new Promise((b,S)=>{const x=zt().setTimeout(()=>{S(Ut(h,"network-request-failed"))},Jn.get());zt()[Bo]=()=>{zt().clearTimeout(x),delete zt()[Bo];const _e=zt().grecaptcha;if(!_e)return void S(Ut(h,"internal-error"));const Pe=_e.render;_e.render=(ze,qe)=>{const Nt=Pe(ze,qe);return this.counter++,Nt},this.hostLanguage=g,b(_e)},vr(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Bo,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),S(Ut(h,"internal-error"))})});var _}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!zt().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class En{load(h){return(0,c.Z)(function*(){return new Qi(h)})()}clearedOneInstance(){}}const jo="recaptcha",F4={theme:"light",type:"image"};class y6{constructor(h,g=Object.assign({},F4),b){this.parameters=g,this.type=jo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tn(b),this.isInvisible="invisible"===this.parameters.size,Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof h?document.getElementById(h):h;Se(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new En:new Ji,this.validateStartingState()}verify(){var h=this;return(0,c.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),b=h.getAssertedRecaptcha();return b.getResponse(g)||new Promise(x=>{const Q=_e=>{!_e||(h.tokenChangeListeners.delete(Q),x(_e))};h.tokenChangeListeners.add(Q),h.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof h)h(g);else if("string"==typeof h){const b=zt()[h];"function"==typeof b&&b(g)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,c.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,c.Z)(function*(){Se(We()&&!oi(),h.auth,"internal-error"),yield function(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function(_){return Us.apply(this,arguments)}(h.auth);Se(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bs{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=f2._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function J2(_,h,g){return x1.apply(this,arguments)}function x1(){return(x1=(0,c.Z)(function*(_,h,g){const b=tn(_),S=yield $o(b,h,(0,U.m9)(g));return new Bs(S,x=>Yn(b,x))})).apply(this,arguments)}function dn(_,h,g){return L2.apply(this,arguments)}function L2(){return(L2=(0,c.Z)(function*(_,h,g){const b=(0,U.m9)(_);yield h2(!1,b,"phone");const S=yield $o(b.auth,h,(0,U.m9)(g));return new Bs(S,x=>Zi(b,x))})).apply(this,arguments)}function C6(_,h,g){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(_,h,g){const b=(0,U.m9)(_),S=yield $o(b.auth,h,(0,U.m9)(g));return new Bs(S,x=>c6(b,x))})).apply(this,arguments)}function $o(_,h,g){return M.apply(this,arguments)}function M(){return(M=(0,c.Z)(function*(_,h,g){var b;const S=yield g.verify();try{let x;if(Se("string"==typeof S,_,"argument-error"),Se(g.type===jo,_,"argument-error"),x="string"==typeof h?{phoneNumber:h}:h,"session"in x){const Q=x.session;if("phoneNumber"in x)return Se("enroll"===Q.type,_,"internal-error"),(yield ii(_,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Se("signin"===Q.type,_,"internal-error");const _e=(null===(b=x.multiFactorHint)||void 0===b?void 0:b.uid)||x.multiFactorUid;return Se(_e,_,"missing-multi-factor-info"),(yield W0(_,{mfaPendingCredential:Q.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield qr(_,{phoneNumber:x.phoneNumber,recaptchaToken:S});return Q}}finally{g._reset()}})).apply(this,arguments)}function w(_,h){return D.apply(this,arguments)}function D(){return(D=(0,c.Z)(function*(_,h){yield Ui((0,U.m9)(_),h)})).apply(this,arguments)}let H=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=tn(g)}verifyPhoneNumber(g,b){return $o(this.auth,g,(0,U.m9)(b))}static credential(g,b){return f2._fromVerification(g,b)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:S}=g;return b&&S?f2._fromTokenResponse(b,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function X(_,h){return h?Ve(h):(Se(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class de extends G1{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return S2(h,this._buildIdpRequest())}_linkToIdToken(h,g){return S2(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return S2(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function we(_){return i1(_.auth,new de(_),_.bypassAuthState)}function Oe(_){const{auth:h,user:g}=_;return Se(g,h,"internal-error"),mt(g,new de(_),_.bypassAuthState)}function Re(_){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(_){const{auth:h,user:g}=_;return Se(g,h,"internal-error"),Ui(g,new de(_),_.bypassAuthState)})).apply(this,arguments)}class Ot{constructor(h,g,b,S,x=!1){this.auth=h,this.resolver=b,this.user=S,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,c.Z)(function*(b,S){h.pendingPromise={resolve:b,reject:S};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(x){h.reject(x)}});return function(b,S){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:x,tenantId:Q,error:_e,type:Pe}=h;if(_e)return void g.reject(_e);const ze={auth:g.auth,requestUri:b,sessionId:S,tenantId:Q||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Pe)(ze))}catch(qe){g.reject(qe)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return we;case"linkViaPopup":case"linkViaRedirect":return Re;case"reauthViaPopup":case"reauthViaRedirect":return Oe;default:Ft(this.auth,"internal-error")}}resolve(h){A1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){A1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hn=new M1(2e3,1e4);function An(_,h,g){return P1.apply(this,arguments)}function P1(){return(P1=(0,c.Z)(function*(_,h,g){const b=tn(_);xn(_,h,q1);const S=X(b,g);return new Xe(b,"signInViaPopup",h,S).executeNotNull()})).apply(this,arguments)}function ci(_,h,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,c.Z)(function*(_,h,g){const b=(0,U.m9)(_);xn(b.auth,h,q1);const S=X(b.auth,g);return new Xe(b.auth,"reauthViaPopup",h,S,b).executeNotNull()})).apply(this,arguments)}function br(_,h,g){return pn.apply(this,arguments)}function pn(){return(pn=(0,c.Z)(function*(_,h,g){const b=(0,U.m9)(_);xn(b.auth,h,q1);const S=X(b.auth,g);return new Xe(b.auth,"linkViaPopup",h,S,b).executeNotNull()})).apply(this,arguments)}let Xe=(()=>{class _ extends Ot{constructor(g,b,S,x,Q){super(g,b,x,Q),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const b=yield g.execute();return Se(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,c.Z)(function*(){A1(1===g.filter.length,"Popup operations only handle one event");const b=Oo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(Ut(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ut(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,S;this.pollId=(null===(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ut(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,hn.get())};g()}}return _.currentPopupAction=null,_})();const o1=new Map;class b6 extends Ot{constructor(h,g,b=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,c.Z)(function*(){let b=o1.get(g.auth._key());if(!b){try{const x=(yield function(_,h){return Mr.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;b=()=>Promise.resolve(x)}catch(S){b=()=>Promise.reject(S)}o1.set(g.auth._key(),b)}return g.bypassAuthState||o1.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(b,h);if("unknown"!==h.type){if(h.eventId){const S=yield b.auth._redirectUserForId(h.eventId);if(S)return b.user=S,g().call(b,h);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Mr(){return(Mr=(0,c.Z)(function*(_,h){const g=q0(h),b=B4(_);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(g));return yield b._remove(g),S})).apply(this,arguments)}function Xi(_,h){return M6.apply(this,arguments)}function M6(){return(M6=(0,c.Z)(function*(_,h){return B4(_)._set(q0(h),"true")})).apply(this,arguments)}function V2(){o1.clear()}function B4(_){return Ve(_._redirectPersistence)}function q0(_){return nt("pendingRedirect",_.config.apiKey,_.name)}function eo(_,h,g){return function(_,h,g){return D1.apply(this,arguments)}(_,h,g)}function D1(){return(D1=(0,c.Z)(function*(_,h,g){const b=tn(_);xn(_,h,q1);const S=X(b,g);return yield Xi(S,b),S._openRedirect(b,h,"signInViaRedirect")})).apply(this,arguments)}function on(_,h,g){return function(_,h,g){return j4.apply(this,arguments)}(_,h,g)}function j4(){return(j4=(0,c.Z)(function*(_,h,g){const b=(0,U.m9)(_);xn(b.auth,h,q1);const S=X(b.auth,g);yield Xi(S,b.auth);const x=yield Zs(b);return S._openRedirect(b.auth,h,"reauthViaRedirect",x)})).apply(this,arguments)}function Z4(_,h,g){return function(_,h,g){return $4.apply(this,arguments)}(_,h,g)}function $4(){return($4=(0,c.Z)(function*(_,h,g){const b=(0,U.m9)(_);xn(b.auth,h,q1);const S=X(b.auth,g);yield h2(!1,b,h.providerId),yield Xi(S,b.auth);const x=yield Zs(b);return S._openRedirect(b.auth,h,"linkViaRedirect",x)})).apply(this,arguments)}function Y0(_,h){return E6.apply(this,arguments)}function E6(){return(E6=(0,c.Z)(function*(_,h){return yield tn(_)._initializationPromise,Er(_,h,!1)})).apply(this,arguments)}function Er(_,h){return ui.apply(this,arguments)}function ui(){return(ui=(0,c.Z)(function*(_,h,g=!1){const b=tn(_),S=X(b,h),Q=yield new b6(b,S,g).execute();return Q&&!g&&(delete Q.user._redirectEventId,yield b._persistUserIfCurrent(Q.user),yield b._setRedirectUser(null,h)),Q})).apply(this,arguments)}function Zs(_){return fi.apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(_){const h=Oo(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class Go{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(h,b)&&(g=!0,this.sendToConsumer(h,b),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return di(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var b;if(h.error&&!di(h)){const S=(null===(b=h.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(Ut(this.auth,S))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const b=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&b}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fc(h))}saveEventToCache(h){this.cachedEventUids.add(Fc(h)),this.lastProcessedEventTime=Date.now()}}function Fc(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function di({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===(null==h?void 0:h.code)}function W4(_){return to.apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(_,h={}){return $t(_,"GET","/v1/projects",h)})).apply(this,arguments)}const A6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ar=/^https?/;function G4(){return(G4=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield W4(_);for(const g of h)try{if(w6(g))return}catch(b){}Ft(_,"unauthorized-domain")})).apply(this,arguments)}function w6(_){const h=b1(),{protocol:g,hostname:b}=new URL(h);if(_.startsWith("chrome-extension://")){const Q=new URL(_);return""===Q.hostname&&""===b?"chrome-extension:"===g&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Q.hostname===b}if(!Ar.test(g))return!1;if(A6.test(_))return b===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const q4=new M1(3e4,6e4);function qo(){const _=zt().___jsl;if(null==_?void 0:_.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Yo=null;function I6(_){return Yo=Yo||function(_){return new Promise((h,g)=>{var b,S,x;function Q(){qo(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{qo(),g(Ut(_,"network-request-failed"))},timeout:q4.get()})}if(null===(S=null===(b=zt().gapi)||void 0===b?void 0:b.iframes)||void 0===S?void 0:S.Iframe)h(gapi.iframes.getContext());else{if(!(null===(x=zt().gapi)||void 0===x?void 0:x.load)){const _e=H4("iframefcb");return zt()[_e]=()=>{gapi.load?Q():g(Ut(_,"network-request-failed"))},vr(`https://apis.google.com/js/api.js?onload=${_e}`)}Q()}}).catch(h=>{throw Yo=null,h})}(_),Yo}const no=new M1(5e3,15e3),Y4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true"},Zc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $c(_){const h=_.config;Se(h.authDomain,_,"auth-domain-config-required");const g=h.emulator?Bt(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:h.apiKey,appName:_.name,v:N.SDK_VERSION},S=Zc.get(_.config.apiHost);S&&(b.eid=S);const x=_._getFrameworks();return x.length&&(b.fw=x.join(",")),`${g}?${(0,U.xO)(b).slice(1)}`}function hi(){return(hi=(0,c.Z)(function*(_){const h=yield I6(_),g=zt().gapi;return Se(g,_,"internal-error"),h.open({where:document.body,url:$c(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y4,dontclear:!0},b=>new Promise(function(){var S=(0,c.Z)(function*(x,Q){yield b.restyle({setHideOnLeave:!1});const _e=Ut(_,"network-request-failed"),Pe=zt().setTimeout(()=>{Q(_e)},no.get());function ze(){zt().clearTimeout(Pe),x(b)}b.ping(ze).then(ze,()=>{Q(_e)})});return function(x,Q){return S.apply(this,arguments)}}()))})).apply(this,arguments)}const K0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ko{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function K4(_,h,g,b,S,x){Se(_.config.authDomain,_,"auth-domain-config-required"),Se(_.config.apiKey,_,"invalid-api-key");const Q={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:b,v:N.SDK_VERSION,eventId:S};if(h instanceof q1){h.setDefaultLanguage(_.languageCode),Q.providerId=h.providerId||"",(0,U.xb)(h.getCustomParameters())||(Q.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Pe,ze]of Object.entries(x||{}))Q[Pe]=ze}if(h instanceof G2){const Pe=h.getScopes().filter(ze=>""!==ze);Pe.length>0&&(Q.scopes=Pe.join(","))}_.tenantId&&(Q.tid=_.tenantId);const _e=Q;for(const Pe of Object.keys(_e))void 0===_e[Pe]&&delete _e[Pe];return`${function({config:_}){return _.emulator?Bt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,U.xO)(_e).slice(1)}`}const Qo="webStorageSupport",Gs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mr,this._completeRedirectFn=Er}_openPopup(h,g,b,S){var x=this;return(0,c.Z)(function*(){var Q;A1(null===(Q=x.eventManagers[h._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const _e=K4(h,g,b,b1(),S);return function(_,h,g,b=500,S=600){const x=Math.max((window.screen.availHeight-S)/2,0).toString(),Q=Math.max((window.screen.availWidth-b)/2,0).toString();let _e="";const Pe=Object.assign(Object.assign({},K0),{width:b.toString(),height:S.toString(),top:x,left:Q}),ze=(0,U.z$)().toLowerCase();g&&(_e=X1(ze)?"_blank":g),B1(ze)&&(h=h||"http://localhost",Pe.scrollbars="yes");const qe=Object.entries(Pe).reduce((n1,[sn,r1])=>`${n1}${sn}=${r1},`,"");if(function(_=(0,U.z$)()){var h;return Vi(_)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(ze)&&"_self"!==_e)return function(_,h){const g=document.createElement("a");g.href=_,g.target=h;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(h||"",_e),new Ko(null);const Nt=window.open(h||"",_e,qe);Se(Nt,_,"popup-blocked");try{Nt.focus()}catch(n1){}return new Ko(Nt)}(h,_e,Oo())})()}_openRedirect(h,g,b,S){var x=this;return(0,c.Z)(function*(){return yield x._originValidation(h),_=K4(h,g,b,b1(),S),zt().location.href=_,new Promise(()=>{});var _})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:S,promise:x}=this.eventManagers[g];return S?Promise.resolve(S):(A1(x,"If manager is not set, promise should be"),x)}const b=this.initAndGetManager(h);return this.eventManagers[g]={promise:b},b}initAndGetManager(h){var g=this;return(0,c.Z)(function*(){const b=yield function(_){return hi.apply(this,arguments)}(h),S=new Go(h);return b.register("authEvent",x=>(Se(null==x?void 0:x.authEvent,h,"invalid-auth-event"),{status:S.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:S},g.iframes[h._key()]=b,S})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Qo,{type:Qo},S=>{var x;const Q=null===(x=null==S?void 0:S[0])||void 0===x?void 0:x[Qo];void 0!==Q&&g(!!Q),Ft(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return G4.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return ar()||sr()||Vi()}};class Tr extends class{constructor(h){this.factorId=h}_process(h,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,b);case"signin":return this._finalizeSignIn(h,g.credential);default:return e1("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Tr(h)}_finalizeEnroll(h,g,b){return function(_,h){return $t(_,"POST","/v2/accounts/mfaEnrollment:finalize",Yt(_,h))}(h,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function(_,h){return $t(_,"POST","/v2/accounts/mfaSignIn:finalize",Yt(_,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Q4=(()=>{class _{constructor(){}static assertion(g){return Tr._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var _,D6="@firebase/auth";class Gc{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(b=>{var S;h((null===(S=b)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}_="Browser",(0,N._registerComponent)(new Mt.wA("auth",(h,{options:g})=>{const b=h.getProvider("app").getImmediate(),{apiKey:S,authDomain:x}=b.options;return(Q=>{Se(S&&!S.includes(":"),"invalid-api-key",{appName:Q.name}),Se(!(null==x?void 0:x.includes(":")),"argument-error",{appName:Q.name});const _e={apiKey:S,authDomain:x,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w2(_)},Pe=new en(Q,_e);return function(_,h){const g=(null==h?void 0:h.persistence)||[],b=(Array.isArray(g)?g:[g]).map(Ve);(null==h?void 0:h.errorMap)&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(b,null==h?void 0:h.popupRedirectResolver)}(Pe,g),Pe})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,b)=>{h.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new Mt.wA("auth-internal",h=>{const g=tn(h.getProvider("auth").getImmediate());return new Gc(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(D6,"0.19.1",void 0),(0,N.registerVersion)(D6,"0.19.1","esm2017")},3854:(Ue,Ee,R)=>{"use strict";R.d(Ee,{BH:()=>ae,LL:()=>Be,ZR:()=>Mt,gQ:()=>e1,zI:()=>it,hu:()=>U,g5:()=>N,US:()=>ee,tV:()=>te,h$:()=>me,$s:()=>$t,r3:()=>Gt,Sg:()=>fe,ne:()=>A1,p$:()=>k,vZ:()=>Ut,ZB:()=>F,gK:()=>We,pd:()=>Se,m9:()=>U2,z$:()=>Ce,GJ:()=>_n,jU:()=>ie,ru:()=>le,xb:()=>Xt,w1:()=>He,hl:()=>c1,uI:()=>ge,UG:()=>pe,Yr:()=>Ct,b$:()=>ve,w9:()=>a2,cI:()=>$n,UI:()=>Ft,xO:()=>xn,zd:()=>Wn,DV:()=>c2,ug:()=>Bt,dS:()=>M1,Pz:()=>F2,Dv:()=>b1,Wj:()=>dt,lb:()=>pt,eu:()=>ct});const U=function($,Z){if(!$)throw N(Z)},N=function($){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+$)},ce=function($){const Z=[];let W=0;for(let ye=0;ye<$.length;ye++){let oe=$.charCodeAt(ye);oe<128?Z[W++]=oe:oe<2048?(Z[W++]=oe>>6|192,Z[W++]=63&oe|128):55296==(64512&oe)&&ye+1<$.length&&56320==(64512&$.charCodeAt(ye+1))?(oe=65536+((1023&oe)<<10)+(1023&$.charCodeAt(++ye)),Z[W++]=oe>>18|240,Z[W++]=oe>>12&63|128,Z[W++]=oe>>6&63|128,Z[W++]=63&oe|128):(Z[W++]=oe>>12|224,Z[W++]=oe>>6&63|128,Z[W++]=63&oe|128)}return Z},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,Z){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let oe=0;oe<$.length;oe+=3){const ke=$[oe],Qe=oe+1<$.length,xt=Qe?$[oe+1]:0,l1=oe+2<$.length,w1=l1?$[oe+2]:0;let q=(15&xt)<<2|w1>>6,G=63&w1;l1||(G=64,Qe||(q=64)),ye.push(W[ke>>2],W[(3&ke)<<4|xt>>4],W[q],W[G])}return ye.join("")},encodeString($,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa($):this.encodeByteArray(ce($),Z)},decodeString($,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob($):function($){const Z=[];let W=0,ye=0;for(;W<$.length;){const oe=$[W++];if(oe<128)Z[ye++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const ke=$[W++];Z[ye++]=String.fromCharCode((31&oe)<<6|63&ke)}else if(oe>239&&oe<365){const l1=((7&oe)<<18|(63&$[W++])<<12|(63&$[W++])<<6|63&$[W++])-65536;Z[ye++]=String.fromCharCode(55296+(l1>>10)),Z[ye++]=String.fromCharCode(56320+(1023&l1))}else{const ke=$[W++],Qe=$[W++];Z[ye++]=String.fromCharCode((15&oe)<<12|(63&ke)<<6|63&Qe)}}return Z.join("")}(this.decodeStringToByteArray($,Z))},decodeStringToByteArray($,Z){this.init_();const W=Z?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let oe=0;oe<$.length;){const ke=W[$.charAt(oe++)],xt=oe<$.length?W[$.charAt(oe)]:0;++oe;const w1=oe<$.length?W[$.charAt(oe)]:64;++oe;const ne=oe<$.length?W[$.charAt(oe)]:64;if(++oe,null==ke||null==xt||null==w1||null==ne)throw Error();ye.push(ke<<2|xt>>4),64!==w1&&(ye.push(xt<<4&240|w1>>2),64!==ne&&ye.push(w1<<6&192|ne))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},me=function($){const Z=ce($);return ee.encodeByteArray(Z,!0)},J=function($){return me($).replace(/\./g,"")},te=function($){try{return ee.decodeString($,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function k($){return F(void 0,$)}function F($,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return Z}for(const W in Z)!Z.hasOwnProperty(W)||!j(W)||($[W]=F($[W],Z[W]));return $}function j($){return"__proto__"!==$}class ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,W)=>{this.resolve=Z,this.reject=W})}wrapCallback(Z){return(W,ye)=>{W?this.reject(W):this.resolve(ye),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(W):Z(W,ye))}}}function fe($,Z){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=Z||"demo-project",oe=$.iat||0,ke=$.sub||$.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qe=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:oe,exp:oe+3600,auth_time:oe,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},$);return[J(JSON.stringify({alg:"none",type:"JWT"})),J(JSON.stringify(Qe)),""].join(".")}function Ce(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function ie(){return"object"==typeof self&&self.self===self}function le(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function He(){const $=Ce();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Ct(){return!1}function c1(){return"object"==typeof indexedDB}function ct(){return new Promise(($,Z)=>{try{let W=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(ye);oe.onsuccess=()=>{oe.result.close(),W||self.indexedDB.deleteDatabase(ye),$(!0)},oe.onupgradeneeded=()=>{W=!1},oe.onerror=()=>{var ke;Z((null===(ke=oe.error)||void 0===ke?void 0:ke.message)||"")}}catch(W){Z(W)}})}function it(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Mt extends Error{constructor(Z,W,ye){super(W),this.code=Z,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,Mt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(Z,W,ye){this.service=Z,this.serviceName=W,this.errors=ye}create(Z,...W){const ye=W[0]||{},oe=`${this.service}/${Z}`,ke=this.errors[Z],Qe=ke?function($,Z){return $.replace(Ni,(W,ye)=>{const oe=Z[ye];return null!=oe?String(oe):`<${ye}?>`})}(ke,ye):"Error";return new Mt(oe,`${this.serviceName}: ${Qe} (${oe}).`,ye)}}const Ni=/\{\$([^}]+)}/g;function $n($){return JSON.parse($)}function F2($){return JSON.stringify($)}const Zt=function($){let Z={},W={},ye={},oe="";try{const ke=$.split(".");Z=$n(te(ke[0])||""),W=$n(te(ke[1])||""),oe=ke[2],ye=W.d||{},delete W.d}catch(ke){}return{header:Z,claims:W,data:ye,signature:oe}},a2=function($){const W=Zt($).claims;return!!W&&"object"==typeof W&&W.hasOwnProperty("iat")},_n=function($){const Z=Zt($).claims;return"object"==typeof Z&&!0===Z.admin};function Gt($,Z){return Object.prototype.hasOwnProperty.call($,Z)}function c2($,Z){if(Object.prototype.hasOwnProperty.call($,Z))return $[Z]}function Xt($){for(const Z in $)if(Object.prototype.hasOwnProperty.call($,Z))return!1;return!0}function Ft($,Z,W){const ye={};for(const oe in $)Object.prototype.hasOwnProperty.call($,oe)&&(ye[oe]=Z.call(W,$[oe],oe,$));return ye}function Ut($,Z){if($===Z)return!0;const W=Object.keys($),ye=Object.keys(Z);for(const oe of W){if(!ye.includes(oe))return!1;const ke=$[oe],Qe=Z[oe];if(b2(ke)&&b2(Qe)){if(!Ut(ke,Qe))return!1}else if(ke!==Qe)return!1}for(const oe of ye)if(!W.includes(oe))return!1;return!0}function b2($){return null!==$&&"object"==typeof $}function xn($){const Z=[];for(const[W,ye]of Object.entries($))Array.isArray(ye)?ye.forEach(oe=>{Z.push(encodeURIComponent(W)+"="+encodeURIComponent(oe))}):Z.push(encodeURIComponent(W)+"="+encodeURIComponent(ye));return Z.length?"&"+Z.join("&"):""}function Wn($){const Z={};return $.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[oe,ke]=ye.split("=");Z[decodeURIComponent(oe)]=decodeURIComponent(ke)}}),Z}function Se($){const Z=$.indexOf("?");if(!Z)return"";const W=$.indexOf("#",Z);return $.substring(Z,W>0?W:void 0)}class e1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Z=1;Z<this.blockSize;++Z)this.pad_[Z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Z,W){W||(W=0);const ye=this.W_;if("string"==typeof Z)for(let ne=0;ne<16;ne++)ye[ne]=Z.charCodeAt(W)<<24|Z.charCodeAt(W+1)<<16|Z.charCodeAt(W+2)<<8|Z.charCodeAt(W+3),W+=4;else for(let ne=0;ne<16;ne++)ye[ne]=Z[W]<<24|Z[W+1]<<16|Z[W+2]<<8|Z[W+3],W+=4;for(let ne=16;ne<80;ne++){const q=ye[ne-3]^ye[ne-8]^ye[ne-14]^ye[ne-16];ye[ne]=4294967295&(q<<1|q>>>31)}let w1,V1,oe=this.chain_[0],ke=this.chain_[1],Qe=this.chain_[2],xt=this.chain_[3],l1=this.chain_[4];for(let ne=0;ne<80;ne++){ne<40?ne<20?(w1=xt^ke&(Qe^xt),V1=1518500249):(w1=ke^Qe^xt,V1=1859775393):ne<60?(w1=ke&Qe|xt&(ke|Qe),V1=2400959708):(w1=ke^Qe^xt,V1=3395469782);const q=(oe<<5|oe>>>27)+w1+l1+V1+ye[ne]&4294967295;l1=xt,xt=Qe,Qe=4294967295&(ke<<30|ke>>>2),ke=oe,oe=q}this.chain_[0]=this.chain_[0]+oe&4294967295,this.chain_[1]=this.chain_[1]+ke&4294967295,this.chain_[2]=this.chain_[2]+Qe&4294967295,this.chain_[3]=this.chain_[3]+xt&4294967295,this.chain_[4]=this.chain_[4]+l1&4294967295}update(Z,W){if(null==Z)return;void 0===W&&(W=Z.length);const ye=W-this.blockSize;let oe=0;const ke=this.buf_;let Qe=this.inbuf_;for(;oe<W;){if(0===Qe)for(;oe<=ye;)this.compress_(Z,oe),oe+=this.blockSize;if("string"==typeof Z){for(;oe<W;)if(ke[Qe]=Z.charCodeAt(oe),++Qe,++oe,Qe===this.blockSize){this.compress_(ke),Qe=0;break}}else for(;oe<W;)if(ke[Qe]=Z[oe],++Qe,++oe,Qe===this.blockSize){this.compress_(ke),Qe=0;break}}this.inbuf_=Qe,this.total_+=W}digest(){const Z=[];let W=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let oe=this.blockSize-1;oe>=56;oe--)this.buf_[oe]=255&W,W/=256;this.compress_(this.buf_);let ye=0;for(let oe=0;oe<5;oe++)for(let ke=24;ke>=0;ke-=8)Z[ye]=this.chain_[oe]>>ke&255,++ye;return Z}}function A1($,Z){const W=new Dn($,Z);return W.subscribe.bind(W)}class Dn{constructor(Z,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{Z(this)}).catch(ye=>{this.error(ye)})}next(Z){this.forEachObserver(W=>{W.next(Z)})}error(Z){this.forEachObserver(W=>{W.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,W,ye){let oe;if(void 0===Z&&void 0===W&&void 0===ye)throw new Error("Missing Observer.");oe=function($,Z){if("object"!=typeof $||null===$)return!1;for(const W of["next","error","complete"])if(W in $&&"function"==typeof $[W])return!0;return!1}(Z)?Z:{next:Z,error:W,complete:ye},void 0===oe.next&&(oe.next=U1),void 0===oe.error&&(oe.error=U1),void 0===oe.complete&&(oe.complete=U1);const ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch(Qe){}}),this.observers.push(oe),ke}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,Z)}sendOne(Z,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{W(this.observers[Z])}catch(ye){"undefined"!=typeof console&&console.error&&console.error(ye)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U1(){}const b1=function($,Z,W,ye){let oe;if(ye<Z?oe="at least "+Z:ye>W&&(oe=0===W?"none":"no more than "+W),oe)throw new Error($+" failed: Was called with "+ye+(1===ye?" argument.":" arguments.")+" Expects "+oe+".")};function We($,Z){return`${$} failed: ${Z} argument `}function dt($,Z,W,ye){if((!ye||W)&&"function"!=typeof W)throw new Error(We($,Z)+"must be a valid function.")}function pt($,Z,W,ye){if((!ye||W)&&("object"!=typeof W||null===W))throw new Error(We($,Z)+"must be a valid context object.")}const M1=function($){const Z=[];let W=0;for(let ye=0;ye<$.length;ye++){let oe=$.charCodeAt(ye);if(oe>=55296&&oe<=56319){const ke=oe-55296;ye++,U(ye<$.length,"Surrogate pair missing trail surrogate."),oe=65536+(ke<<10)+($.charCodeAt(ye)-56320)}oe<128?Z[W++]=oe:oe<2048?(Z[W++]=oe>>6|192,Z[W++]=63&oe|128):oe<65536?(Z[W++]=oe>>12|224,Z[W++]=oe>>6&63|128,Z[W++]=63&oe|128):(Z[W++]=oe>>18|240,Z[W++]=oe>>12&63|128,Z[W++]=oe>>6&63|128,Z[W++]=63&oe|128)}return Z},Bt=function($){let Z=0;for(let W=0;W<$.length;W++){const ye=$.charCodeAt(W);ye<128?Z++:ye<2048?Z+=2:ye>=55296&&ye<=56319?(Z+=4,W++):Z+=3}return Z};function $t($,Z=1e3,W=2){const ye=Z*Math.pow(W,$),oe=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+oe)}function U2($){return $&&$._delegate?$._delegate:$}},2329:(Ue,Ee,R)=>{"use strict";R.d(Ee,{Mq:()=>c.getApp,C6:()=>c.getApps,ZF:()=>c.initializeApp,KN:()=>c.registerVersion});var c=R(8026);(0,c.registerVersion)("firebase","9.3.0","app")},7841:(Ue,Ee,R)=>{"use strict";R.d(Ee,{Z:()=>c.Z});var c=R(3394);c.Z.registerVersion("firebase","9.3.0","app-compat")},4828:(Ue,Ee,R)=>{"use strict";R.r(Ee);var c=R(8239),U=R(3394),N=R(7354),ce=R(3854),me=(R(8026),R(5422),R(3910));function J(){return window}function F(){return(F=(0,c.Z)(function*(ne,q,G){var Me;const{BuildInfo:Ne}=J();(0,N.ap)(q.sessionId,"AuthEvent did not contain a session ID");const et=yield ie(q.sessionId),vt={};return(0,N.aq)()?vt.ibi=Ne.packageName:(0,N.ar)()?vt.apn=Ne.packageName:(0,N.as)(ne,"operation-not-supported-in-this-environment"),Ne.displayName&&(vt.appDisplayName=Ne.displayName),vt.sessionId=et,(0,N.at)(ne,G,q.type,void 0,null!==(Me=q.eventId)&&void 0!==Me?Me:void 0,vt)})).apply(this,arguments)}function ae(){return(ae=(0,c.Z)(function*(ne){const{BuildInfo:q}=J(),G={};(0,N.aq)()?G.iosBundleId=q.packageName:(0,N.ar)()?G.androidPackageName=q.packageName:(0,N.as)(ne,"operation-not-supported-in-this-environment"),yield(0,N.au)(ne,G)})).apply(this,arguments)}function ge(){return(ge=(0,c.Z)(function*(ne,q,G){const{cordova:Me}=J();let Ne=()=>{};try{yield new Promise((et,vt)=>{let ut=null;function v1(){var at;et();const f1=null===(at=Me.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof f1&&f1(),"function"==typeof(null==G?void 0:G.close)&&G.close()}function Qt(){ut||(ut=window.setTimeout(()=>{vt((0,N.av)(ne,"redirect-cancelled-by-user"))},2e3))}function u1(){"visible"===(null==document?void 0:document.visibilityState)&&Qt()}q.addPassiveListener(v1),document.addEventListener("resume",Qt,!1),(0,N.ar)()&&document.addEventListener("visibilitychange",u1,!1),Ne=()=>{q.removePassiveListener(v1),document.removeEventListener("resume",Qt,!1),document.removeEventListener("visibilitychange",u1,!1),ut&&window.clearTimeout(ut)}})}finally{Ne()}})).apply(this,arguments)}function ie(ne){return le.apply(this,arguments)}function le(){return(le=(0,c.Z)(function*(ne){const q=ve(ne),G=yield crypto.subtle.digest("SHA-256",q);return Array.from(new Uint8Array(G)).map(Ne=>Ne.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ve(ne){if((0,N.ap)(/[0-9a-zA-Z]+/.test(ne),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ne);const q=new ArrayBuffer(ne.length),G=new Uint8Array(q);for(let Me=0;Me<ne.length;Me++)G[Me]=ne.charCodeAt(Me);return G}class He extends N.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(q=>{this.resolveInialized=q})}addPassiveListener(q){this.passiveListeners.add(q)}removePassiveListener(q){this.passiveListeners.delete(q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(q){return this.resolveInialized(),this.passiveListeners.forEach(G=>G(q)),super.onEvent(q)}initialized(){var q=this;return(0,c.Z)(function*(){yield q.initPromise})()}}function st(ne){return c1.apply(this,arguments)}function c1(){return(c1=(0,c.Z)(function*(ne){const q=yield wt()._get(Ke(ne));return q&&(yield wt()._remove(Ke(ne))),q})).apply(this,arguments)}function it(){const ne=[],q="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let G=0;G<20;G++){const Me=Math.floor(Math.random()*q.length);ne.push(q.charAt(Me))}return ne.join("")}function wt(){return(0,N.ax)(N.b)}function Ke(ne){return(0,N.ay)("authEvent",ne.config.apiKey,ne.name)}function o2(ne){if(!(null==ne?void 0:ne.includes("?")))return{};const[q,...G]=ne.split("?");return(0,ce.zd)(G.join("?"))}function Zt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.av)("no-auth-event")}}function Gt(){var ne;return(null===(ne=null==self?void 0:self.location)||void 0===ne?void 0:ne.protocol)||null}function Xt(ne=(0,ce.z$)()){return!("file:"!==Gt()&&"ionic:"!==Gt()||!ne.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wn(){try{const ne=self.localStorage,q=N.aG();if(ne)return ne.setItem(q,"1"),ne.removeItem(q),!function(ne=(0,ce.z$)()){return(0,ce.w1)()&&11===(null==document?void 0:document.documentMode)||function(ne=(0,ce.z$)()){return/Edge\/\d+/.test(ne)}(ne)}()||(0,ce.hl)()}catch(ne){return Se()&&(0,ce.hl)()}return!1}function Se(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function e1(){return("http:"===Gt()||"https:"===Gt()||(0,ce.ru)()||Xt())&&!((0,ce.b$)()||(0,ce.UG)())&&Wn()&&!Se()}function A1(){return Xt()&&"undefined"!=typeof document}function Ve(){return(Ve=(0,c.Z)(function*(){return!!A1()&&new Promise(ne=>{const q=setTimeout(()=>{ne(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(q),ne(!0)})})})).apply(this,arguments)}const It={LOCAL:"local",NONE:"none",SESSION:"session"},U1=N.aw,b1="persistence";function Ge(ne){return dt.apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(ne){yield ne._initializationPromise;const q=M1(),G=N.ay(b1,ne.config.apiKey,ne.name);(null==q?void 0:q.sessionStorage)&&q.sessionStorage.setItem(G,ne._getPersistence())})).apply(this,arguments)}function M1(){return"undefined"!=typeof window?window:null}const Bt=N.aw;class De{constructor(){this.browserResolver=N.ax(N.k),this.cordovaResolver=N.ax(class{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aA}_initialize(q){var G=this;return(0,c.Z)(function*(){const Me=q._key();let Ne=G.eventManagers.get(Me);return Ne||(Ne=new He(q),G.eventManagers.set(Me,Ne),G.attachCallbackListeners(q,Ne)),Ne})()}_openPopup(q){(0,N.as)(q,"operation-not-supported-in-this-environment")}_openRedirect(q,G,Me,Ne){var et=this;return(0,c.Z)(function*(){!function(ne){var q,G,Me,Ne,et,vt,ut,v1,Qt,u1;const at=J();(0,N.aw)("function"==typeof(null===(q=null==at?void 0:at.universalLinks)||void 0===q?void 0:q.subscribe),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aw)(void 0!==(null===(G=null==at?void 0:at.BuildInfo)||void 0===G?void 0:G.packageName),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aw)("function"==typeof(null===(et=null===(Ne=null===(Me=null==at?void 0:at.cordova)||void 0===Me?void 0:Me.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===et?void 0:et.openUrl),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aw)("function"==typeof(null===(v1=null===(ut=null===(vt=null==at?void 0:at.cordova)||void 0===vt?void 0:vt.plugins)||void 0===ut?void 0:ut.browsertab)||void 0===v1?void 0:v1.isAvailable),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aw)("function"==typeof(null===(u1=null===(Qt=null==at?void 0:at.cordova)||void 0===Qt?void 0:Qt.InAppBrowser)||void 0===u1?void 0:u1.open),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(q);const vt=yield et._initialize(q);yield vt.initialized(),vt.resetRedirect(),(0,N.aB)(),yield et._originValidation(q);const ut=function(ne,q,G=null){return{type:q,eventId:G,urlResponse:null,sessionId:it(),postBody:null,tenantId:ne.tenantId,error:(0,N.av)(ne,"no-auth-event")}}(q,Me,Ne);yield function(ne,q){return wt()._set(Ke(ne),q)}(q,ut);const v1=yield function(ne,q,G){return F.apply(this,arguments)}(q,ut,G),Qt=yield function(ne){const{cordova:q}=J();return new Promise(G=>{q.plugins.browsertab.isAvailable(Me=>{let Ne=null;Me?q.plugins.browsertab.openUrl(ne):Ne=q.InAppBrowser.open(ne,(0,N.ao)()?"_blank":"_system","location=yes"),G(Ne)})})}(v1);return function(ne,q,G){return ge.apply(this,arguments)}(q,vt,Qt)})()}_isIframeWebStorageSupported(q,G){throw new Error("Method not implemented.")}_originValidation(q){const G=q._key();return this.originValidationPromises[G]||(this.originValidationPromises[G]=function(ne){return ae.apply(this,arguments)}(q)),this.originValidationPromises[G]}attachCallbackListeners(q,G){const{universalLinks:Me,handleOpenURL:Ne,BuildInfo:et}=J(),vt=setTimeout((0,c.Z)(function*(){yield st(q),G.onEvent(Zt())}),500),ut=function(){var u1=(0,c.Z)(function*(at){clearTimeout(vt);const f1=yield st(q);let B2=null;f1&&(null==at?void 0:at.url)&&(B2=function(ne,q){var G,Me;const Ne=function(ne){const q=o2(ne),G=q.link?decodeURIComponent(q.link):void 0,Me=o2(G).link,Ne=q.deep_link_id?decodeURIComponent(q.deep_link_id):void 0;return o2(Ne).link||Ne||Me||G||ne}(q);if(Ne.includes("/__/auth/callback")){const et=o2(Ne),vt=et.firebaseError?function(ne){try{return JSON.parse(ne)}catch(q){return null}}(decodeURIComponent(et.firebaseError)):null,ut=null===(Me=null===(G=null==vt?void 0:vt.code)||void 0===G?void 0:G.split("auth/"))||void 0===Me?void 0:Me[1],v1=ut?(0,N.av)(ut):null;return v1?{type:ne.type,eventId:ne.eventId,tenantId:ne.tenantId,error:v1,urlResponse:null,sessionId:null,postBody:null}:{type:ne.type,eventId:ne.eventId,tenantId:ne.tenantId,sessionId:ne.sessionId,urlResponse:Ne,postBody:null}}return null}(f1,at.url)),G.onEvent(B2||Zt())});return function(f1){return u1.apply(this,arguments)}}();void 0!==Me&&"function"==typeof Me.subscribe&&Me.subscribe(null,ut);const v1=Ne,Qt=`${et.packageName.toLowerCase()}://`;J().handleOpenURL=function(){var u1=(0,c.Z)(function*(at){if(at.toLowerCase().startsWith(Qt)&&ut({url:at}),"function"==typeof v1)try{v1(at)}catch(f1){console.error(f1)}});return function(at){return u1.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aA}_initialize(q){var G=this;return(0,c.Z)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._initialize(q)})()}_openPopup(q,G,Me,Ne){var et=this;return(0,c.Z)(function*(){return yield et.selectUnderlyingResolver(),et.assertedUnderlyingResolver._openPopup(q,G,Me,Ne)})()}_openRedirect(q,G,Me,Ne){var et=this;return(0,c.Z)(function*(){return yield et.selectUnderlyingResolver(),et.assertedUnderlyingResolver._openRedirect(q,G,Me,Ne)})()}_isIframeWebStorageSupported(q,G){this.assertedUnderlyingResolver._isIframeWebStorageSupported(q,G)}_originValidation(q){return this.assertedUnderlyingResolver._originValidation(q)}get _shouldInitProactively(){return A1()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var q=this;return(0,c.Z)(function*(){if(q.underlyingResolver)return;const G=yield function(){return Ve.apply(this,arguments)}();q.underlyingResolver=G?q.cordovaResolver:q.browserResolver})()}}function Ze(ne){return ne.unwrap()}function Yt(ne){return kt(ne)}function kt(ne){const{_tokenResponse:q}=ne instanceof ce.ZR?ne.customData:ne;if(!q)return null;if(!(ne instanceof ce.ZR)&&"temporaryProof"in q&&"phoneNumber"in q)return N.P.credentialFromResult(ne);const G=q.providerId;if(!G||G===N.o.PASSWORD)return null;let Me;switch(G){case N.o.GOOGLE:Me=N.N;break;case N.o.FACEBOOK:Me=N.M;break;case N.o.GITHUB:Me=N.Q;break;case N.o.TWITTER:Me=N.V;break;default:const{oauthIdToken:Ne,oauthAccessToken:et,oauthTokenSecret:vt,pendingToken:ut,nonce:v1}=q;return et||vt||Ne||ut?ut?G.startsWith("saml.")?N.aJ._create(G,ut):N.I._fromParams({providerId:G,signInMethod:G,pendingToken:ut,idToken:Ne,accessToken:et}):new N.T(G).credential({idToken:Ne,accessToken:et,rawNonce:v1}):null}return ne instanceof ce.ZR?Me.credentialFromError(ne):Me.credentialFromResult(ne)}function Kt(ne,q){return q.catch(G=>{throw G instanceof ce.ZR&&function(ne,q){var G;const Me=null===(G=q.customData)||void 0===G?void 0:G._tokenResponse;if("auth/multi-factor-auth-required"===q.code)q.resolver=new Z(ne,N.am(ne,q));else if(Me){const Ne=kt(q),et=q;Ne&&(et.credential=Ne,et.tenantId=Me.tenantId||void 0,et.email=Me.email||void 0,et.phoneNumber=Me.phoneNumber||void 0)}}(ne,G),G}).then(G=>{const Ne=G.user;return{operationType:G.operationType,credential:Yt(G),additionalUserInfo:N.ak(G),user:W.getOrCreate(Ne)}})}function U2(ne,q){return $.apply(this,arguments)}function $(){return($=(0,c.Z)(function*(ne,q){const G=yield q;return{verificationId:G.verificationId,confirm:Me=>Kt(ne,G.confirm(Me))}})).apply(this,arguments)}class Z{constructor(q,G){this.resolver=G,this.auth=q.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(q){return Kt(Ze(this.auth),this.resolver.resolveSignIn(q))}}class W{constructor(q){this._delegate=q,this.multiFactor=N.an(q)}static getOrCreate(q){return W.USER_MAP.has(q)||W.USER_MAP.set(q,new W(q)),W.USER_MAP.get(q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(q){return this._delegate.getIdTokenResult(q)}getIdToken(q){return this._delegate.getIdToken(q)}linkAndRetrieveDataWithCredential(q){return this.linkWithCredential(q)}linkWithCredential(q){var G=this;return(0,c.Z)(function*(){return Kt(G.auth,N.Y(G._delegate,q))})()}linkWithPhoneNumber(q,G){var Me=this;return(0,c.Z)(function*(){return U2(Me.auth,N.l(Me._delegate,q,G))})()}linkWithPopup(q){var G=this;return(0,c.Z)(function*(){return Kt(G.auth,N.d(G._delegate,q,De))})()}linkWithRedirect(q){var G=this;return(0,c.Z)(function*(){return yield Ge(N.aC(G.auth)),N.g(G._delegate,q,De)})()}reauthenticateAndRetrieveDataWithCredential(q){return this.reauthenticateWithCredential(q)}reauthenticateWithCredential(q){var G=this;return(0,c.Z)(function*(){return Kt(G.auth,N.Z(G._delegate,q))})()}reauthenticateWithPhoneNumber(q,G){return U2(this.auth,N.r(this._delegate,q,G))}reauthenticateWithPopup(q){return Kt(this.auth,N.e(this._delegate,q,De))}reauthenticateWithRedirect(q){var G=this;return(0,c.Z)(function*(){return yield Ge(N.aC(G.auth)),N.h(G._delegate,q,De)})()}sendEmailVerification(q){return N.aa(this._delegate,q)}unlink(q){var G=this;return(0,c.Z)(function*(){return yield N.aj(G._delegate,q),G})()}updateEmail(q){return N.af(this._delegate,q)}updatePassword(q){return N.ag(this._delegate,q)}updatePhoneNumber(q){return N.u(this._delegate,q)}updateProfile(q){return N.ae(this._delegate,q)}verifyBeforeUpdateEmail(q,G){return N.ab(this._delegate,q,G)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}W.USER_MAP=new WeakMap;const ye=N.aw;let oe=(()=>{class ne{constructor(G,Me){if(this.app=G,Me.isInitialized())return this._delegate=Me.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ne}=G.options;ye(Ne,"invalid-api-key",{appName:G.name});let et=[N.K];if("undefined"!=typeof window){et=function(ne,q){const G=M1();if(!(null==G?void 0:G.sessionStorage))return[];const Me=N.ay(b1,ne,q);switch(G.sessionStorage.getItem(Me)){case It.NONE:return[N.K];case It.LOCAL:return[N.i,N.a];case It.SESSION:return[N.a];default:return[]}}(Ne,G.name);for(const ut of[N.i,N.b,N.a])et.includes(ut)||et.push(ut)}ye(Ne,"invalid-api-key",{appName:G.name});const vt="undefined"!=typeof window?De:void 0;this._delegate=Me.initialize({options:{persistence:et,popupRedirectResolver:vt}}),this._delegate._updateErrorMap(N.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?W.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(G){this._delegate.languageCode=G}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(G){this._delegate.tenantId=G}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(G,Me){N.E(this._delegate,G,Me)}applyActionCode(G){return N.a1(this._delegate,G)}checkActionCode(G){return N.a2(this._delegate,G)}confirmPasswordReset(G,Me){return N.a0(this._delegate,G,Me)}createUserWithEmailAndPassword(G,Me){var Ne=this;return(0,c.Z)(function*(){return Kt(Ne._delegate,N.a4(Ne._delegate,G,Me))})()}fetchProvidersForEmail(G){return this.fetchSignInMethodsForEmail(G)}fetchSignInMethodsForEmail(G){return N.a9(this._delegate,G)}isSignInWithEmailLink(G){return N.a7(this._delegate,G)}getRedirectResult(){var G=this;return(0,c.Z)(function*(){ye(e1(),G._delegate,"operation-not-supported-in-this-environment");const Me=yield N.j(G._delegate,De);return Me?Kt(G._delegate,Promise.resolve(Me)):{credential:null,user:null}})()}addFrameworkForLogging(G){!function(ne,q){(0,N.aC)(ne)._logFramework(q)}(this._delegate,G)}onAuthStateChanged(G,Me,Ne){const{next:et,error:vt,complete:ut}=ke(G,Me,Ne);return this._delegate.onAuthStateChanged(et,vt,ut)}onIdTokenChanged(G,Me,Ne){const{next:et,error:vt,complete:ut}=ke(G,Me,Ne);return this._delegate.onIdTokenChanged(et,vt,ut)}sendSignInLinkToEmail(G,Me){return N.a6(this._delegate,G,Me)}sendPasswordResetEmail(G,Me){return N.$(this._delegate,G,Me||void 0)}setPersistence(G){var Me=this;return(0,c.Z)(function*(){let Ne;switch(function(ne,q){U1(Object.values(It).includes(q),ne,"invalid-persistence-type"),(0,ce.b$)()?U1(q!==It.SESSION,ne,"unsupported-persistence-type"):(0,ce.UG)()?U1(q===It.NONE,ne,"unsupported-persistence-type"):Se()?U1(q===It.NONE||q===It.LOCAL&&(0,ce.hl)(),ne,"unsupported-persistence-type"):U1(q===It.NONE||Wn(),ne,"unsupported-persistence-type")}(Me._delegate,G),G){case It.SESSION:Ne=N.a;break;case It.LOCAL:Ne=(yield N.ax(N.i)._isAvailable())?N.i:N.b;break;case It.NONE:Ne=N.K;break;default:return N.as("argument-error",{appName:Me._delegate.name})}return Me._delegate.setPersistence(Ne)})()}signInAndRetrieveDataWithCredential(G){return this.signInWithCredential(G)}signInAnonymously(){return Kt(this._delegate,N.W(this._delegate))}signInWithCredential(G){return Kt(this._delegate,N.X(this._delegate,G))}signInWithCustomToken(G){return Kt(this._delegate,N._(this._delegate,G))}signInWithEmailAndPassword(G,Me){return Kt(this._delegate,N.a5(this._delegate,G,Me))}signInWithEmailLink(G,Me){return Kt(this._delegate,N.a8(this._delegate,G,Me))}signInWithPhoneNumber(G,Me){return U2(this._delegate,N.s(this._delegate,G,Me))}signInWithPopup(G){var Me=this;return(0,c.Z)(function*(){return ye(e1(),Me._delegate,"operation-not-supported-in-this-environment"),Kt(Me._delegate,N.c(Me._delegate,G,De))})()}signInWithRedirect(G){var Me=this;return(0,c.Z)(function*(){return ye(e1(),Me._delegate,"operation-not-supported-in-this-environment"),yield Ge(Me._delegate),N.f(Me._delegate,G,De)})()}updateCurrentUser(G){return this._delegate.updateCurrentUser(G)}verifyPasswordResetCode(G){return N.a3(this._delegate,G)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ne.Persistence=It,ne})();function ke(ne,q,G){let Me=ne;"function"!=typeof ne&&({next:Me,error:q,complete:G}=ne);const Ne=Me;return{next:vt=>Ne(vt&&W.getOrCreate(vt)),error:q,complete:G}}class Qe{constructor(){this.providerId="phone",this._delegate=new N.P(Ze(U.Z.auth()))}static credential(q,G){return N.P.credential(q,G)}verifyPhoneNumber(q,G){return this._delegate.verifyPhoneNumber(q,G)}unwrap(){return this._delegate}}Qe.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,Qe.PROVIDER_ID=N.P.PROVIDER_ID;const xt=N.aw;var ne;(ne=U.Z).INTERNAL.registerComponent(new me.wA("auth-compat",q=>{const G=q.getProvider("app-compat").getImmediate(),Me=q.getProvider("auth");return new oe(G,Me)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.L,FacebookAuthProvider:N.M,GithubAuthProvider:N.Q,GoogleAuthProvider:N.N,OAuthProvider:N.T,SAMLAuthProvider:N.U,PhoneAuthProvider:Qe,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:class{constructor(q,G,Me=U.Z.app()){var Ne;xt(null===(Ne=Me.options)||void 0===Ne?void 0:Ne.apiKey,"invalid-api-key",{appName:Me.name}),this._delegate=new N.R(q,G,Me.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:N.V,Auth:oe,AuthCredential:N.G,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ne.registerVersion("@firebase/auth-compat","0.2.1")},6676:function(Ue,Ee){!function(R){"use strict";function c(pe){return Array.prototype.slice.call(pe)}function U(pe){return new Promise(function(ie,le){pe.onsuccess=function(){ie(pe.result)},pe.onerror=function(){le(pe.error)}})}function N(pe,ie,le){var ve,Ie=new Promise(function(He,ht){U(ve=pe[ie].apply(pe,le)).then(He,ht)});return Ie.request=ve,Ie}function ce(pe,ie,le){var ve=N(pe,ie,le);return ve.then(function(Ie){if(Ie)return new k(Ie,ve.request)})}function se(pe,ie,le){le.forEach(function(ve){Object.defineProperty(pe.prototype,ve,{get:function(){return this[ie][ve]},set:function(Ie){this[ie][ve]=Ie}})})}function ee(pe,ie,le,ve){ve.forEach(function(Ie){Ie in le.prototype&&(pe.prototype[Ie]=function(){return N(this[ie],Ie,arguments)})})}function me(pe,ie,le,ve){ve.forEach(function(Ie){Ie in le.prototype&&(pe.prototype[Ie]=function(){return this[ie][Ie].apply(this[ie],arguments)})})}function J(pe,ie,le,ve){ve.forEach(function(Ie){Ie in le.prototype&&(pe.prototype[Ie]=function(){return ce(this[ie],Ie,arguments)})})}function te(pe){this._index=pe}function k(pe,ie){this._cursor=pe,this._request=ie}function F(pe){this._store=pe}function j(pe){this._tx=pe,this.complete=new Promise(function(ie,le){pe.oncomplete=function(){ie()},pe.onerror=function(){le(pe.error)},pe.onabort=function(){le(pe.error)}})}function ae(pe,ie,le){this._db=pe,this.oldVersion=ie,this.transaction=new j(le)}function fe(pe){this._db=pe}se(te,"_index",["name","keyPath","multiEntry","unique"]),ee(te,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),J(te,"_index",IDBIndex,["openCursor","openKeyCursor"]),se(k,"_cursor",["direction","key","primaryKey","value"]),ee(k,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(pe){pe in IDBCursor.prototype&&(k.prototype[pe]=function(){var ie=this,le=arguments;return Promise.resolve().then(function(){return ie._cursor[pe].apply(ie._cursor,le),U(ie._request).then(function(ve){if(ve)return new k(ve,ie._request)})})})}),F.prototype.createIndex=function(){return new te(this._store.createIndex.apply(this._store,arguments))},F.prototype.index=function(){return new te(this._store.index.apply(this._store,arguments))},se(F,"_store",["name","keyPath","indexNames","autoIncrement"]),ee(F,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),J(F,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),me(F,"_store",IDBObjectStore,["deleteIndex"]),j.prototype.objectStore=function(){return new F(this._tx.objectStore.apply(this._tx,arguments))},se(j,"_tx",["objectStoreNames","mode"]),me(j,"_tx",IDBTransaction,["abort"]),ae.prototype.createObjectStore=function(){return new F(this._db.createObjectStore.apply(this._db,arguments))},se(ae,"_db",["name","version","objectStoreNames"]),me(ae,"_db",IDBDatabase,["deleteObjectStore","close"]),fe.prototype.transaction=function(){return new j(this._db.transaction.apply(this._db,arguments))},se(fe,"_db",["name","version","objectStoreNames"]),me(fe,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(pe){[F,te].forEach(function(ie){pe in ie.prototype&&(ie.prototype[pe.replace("open","iterate")]=function(){var le=c(arguments),ve=le[le.length-1],Ie=this._store||this._index,He=Ie[pe].apply(Ie,le.slice(0,-1));He.onsuccess=function(){ve(He.result)}})})}),[te,F].forEach(function(pe){pe.prototype.getAll||(pe.prototype.getAll=function(ie,le){var ve=this,Ie=[];return new Promise(function(He){ve.iterateCursor(ie,function(ht){ht?(Ie.push(ht.value),void 0===le||Ie.length!=le?ht.continue():He(Ie)):He(Ie)})})})}),R.openDb=function(pe,ie,le){var ve=N(indexedDB,"open",[pe,ie]),Ie=ve.request;return Ie&&(Ie.onupgradeneeded=function(He){le&&le(new ae(Ie.result,He.oldVersion,Ie.transaction))}),ve.then(function(He){return new fe(He)})},R.deleteDb=function(pe){return N(indexedDB,"deleteDatabase",[pe])},Object.defineProperty(R,"__esModule",{value:!0})}(Ee)},7574:(Ue,Ee,R)=>{"use strict";R.d(Ee,{y:()=>F});var c=R(7393),N=R(9181),ce=R(6490),ee=R(6554),me=R(4487);var k=R(2494);let F=(()=>{class ae{constructor(Ce){this._isScalar=!1,Ce&&(this._subscribe=Ce)}lift(Ce){const ge=new ae;return ge.source=this,ge.operator=Ce,ge}subscribe(Ce,ge,pe){const{operator:ie}=this,le=function(ae,fe,Ce){if(ae){if(ae instanceof c.L)return ae;if(ae[N.b])return ae[N.b]()}return ae||fe||Ce?new c.L(ae,fe,Ce):new c.L(ce.c)}(Ce,ge,pe);if(le.add(ie?ie.call(le,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!le.syncErrorThrowable?this._subscribe(le):this._trySubscribe(le)),k.v.useDeprecatedSynchronousErrorHandling&&le.syncErrorThrowable&&(le.syncErrorThrowable=!1,le.syncErrorThrown))throw le.syncErrorValue;return le}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(ge){k.v.useDeprecatedSynchronousErrorHandling&&(Ce.syncErrorThrown=!0,Ce.syncErrorValue=ge),function(ae){for(;ae;){const{closed:fe,destination:Ce,isStopped:ge}=ae;if(fe||ge)return!1;ae=Ce&&Ce instanceof c.L?Ce:null}return!0}(Ce)?Ce.error(ge):console.warn(ge)}}forEach(Ce,ge){return new(ge=j(ge))((pe,ie)=>{let le;le=this.subscribe(ve=>{try{Ce(ve)}catch(Ie){ie(Ie),le&&le.unsubscribe()}},ie,pe)})}_subscribe(Ce){const{source:ge}=this;return ge&&ge.subscribe(Ce)}[ee.L](){return this}pipe(...Ce){return 0===Ce.length?this:function(ae){return 0===ae.length?me.y:1===ae.length?ae[0]:function(Ce){return ae.reduce((ge,pe)=>pe(ge),Ce)}}(Ce)(this)}toPromise(Ce){return new(Ce=j(Ce))((ge,pe)=>{let ie;this.subscribe(le=>ie=le,le=>pe(le),()=>ge(ie))})}}return ae.create=fe=>new ae(fe),ae})();function j(ae){if(ae||(ae=k.v.Promise||Promise),!ae)throw new Error("no Promise impl found");return ae}},6490:(Ue,Ee,R)=>{"use strict";R.d(Ee,{c:()=>N});var c=R(2494),U=R(4449);const N={closed:!0,next(ce){},error(ce){if(c.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,U.z)(ce)},complete(){}}},9765:(Ue,Ee,R)=>{"use strict";R.d(Ee,{Yc:()=>me,xQ:()=>J});var c=R(7574),U=R(7393),N=R(5319),ce=R(7971),se=R(8858),ee=R(9181);class me extends U.L{constructor(F){super(F),this.destination=F}}let J=(()=>{class k extends c.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ee.b](){return new me(this)}lift(j){const ae=new te(this,this);return ae.operator=j,ae}next(j){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:ae}=this,fe=ae.length,Ce=ae.slice();for(let ge=0;ge<fe;ge++)Ce[ge].next(j)}}error(j){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=j,this.isStopped=!0;const{observers:ae}=this,fe=ae.length,Ce=ae.slice();for(let ge=0;ge<fe;ge++)Ce[ge].error(j);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:j}=this,ae=j.length,fe=j.slice();for(let Ce=0;Ce<ae;Ce++)fe[Ce].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(j){if(this.closed)throw new ce.N;return super._trySubscribe(j)}_subscribe(j){if(this.closed)throw new ce.N;return this.hasError?(j.error(this.thrownError),N.w.EMPTY):this.isStopped?(j.complete(),N.w.EMPTY):(this.observers.push(j),new se.W(this,j))}asObservable(){const j=new c.y;return j.source=this,j}}return k.create=(F,j)=>new te(F,j),k})();class te extends J{constructor(F,j){super(),this.destination=F,this.source=j}next(F){const{destination:j}=this;j&&j.next&&j.next(F)}error(F){const{destination:j}=this;j&&j.error&&this.destination.error(F)}complete(){const{destination:F}=this;F&&F.complete&&this.destination.complete()}_subscribe(F){const{source:j}=this;return j?this.source.subscribe(F):N.w.EMPTY}}},8858:(Ue,Ee,R)=>{"use strict";R.d(Ee,{W:()=>U});var c=R(5319);class U extends c.w{constructor(ce,se){super(),this.subject=ce,this.subscriber=se,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,se=ce.observers;if(this.subject=null,!se||0===se.length||ce.isStopped||ce.closed)return;const ee=se.indexOf(this.subscriber);-1!==ee&&se.splice(ee,1)}}},7393:(Ue,Ee,R)=>{"use strict";R.d(Ee,{L:()=>me});var c=R(9105),U=R(6490),N=R(5319),ce=R(9181),se=R(2494),ee=R(4449);class me extends N.w{constructor(k,F,j){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=U.c;break;case 1:if(!k){this.destination=U.c;break}if("object"==typeof k){k instanceof me?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new J(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new J(this,k,F,j)}}[ce.b](){return this}static create(k,F,j){const ae=new me(k,F,j);return ae.syncErrorThrowable=!1,ae}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class J extends me{constructor(k,F,j,ae){super(),this._parentSubscriber=k;let fe,Ce=this;(0,c.m)(F)?fe=F:F&&(fe=F.next,j=F.error,ae=F.complete,F!==U.c&&(Ce=Object.create(F),(0,c.m)(Ce.unsubscribe)&&this.add(Ce.unsubscribe.bind(Ce)),Ce.unsubscribe=this.unsubscribe.bind(this))),this._context=Ce,this._next=fe,this._error=j,this._complete=ae}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:F}=this;se.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?this.__tryOrSetError(F,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:F}=this,{useDeprecatedSynchronousErrorHandling:j}=se.v;if(this._error)j&&F.syncErrorThrowable?(this.__tryOrSetError(F,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(F.syncErrorThrowable)j?(F.syncErrorValue=k,F.syncErrorThrown=!0):(0,ee.z)(k),this.unsubscribe();else{if(this.unsubscribe(),j)throw k;(0,ee.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const F=()=>this._complete.call(this._context);se.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,F),this.unsubscribe()):(this.__tryOrUnsub(F),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,F){try{k.call(this._context,F)}catch(j){if(this.unsubscribe(),se.v.useDeprecatedSynchronousErrorHandling)throw j;(0,ee.z)(j)}}__tryOrSetError(k,F,j){if(!se.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{F.call(this._context,j)}catch(ae){return se.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=ae,k.syncErrorThrown=!0,!0):((0,ee.z)(ae),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},5319:(Ue,Ee,R)=>{"use strict";R.d(Ee,{w:()=>ee});var c=R(9796),U=R(1555),N=R(9105);const se=(()=>{function J(te){return Error.call(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((k,F)=>`${F+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te,this}return J.prototype=Object.create(Error.prototype),J})();class ee{constructor(te){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,te&&(this._ctorUnsubscribe=!0,this._unsubscribe=te)}unsubscribe(){let te;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:F,_unsubscribe:j,_subscriptions:ae}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof ee)k.remove(this);else if(null!==k)for(let fe=0;fe<k.length;++fe)k[fe].remove(this);if((0,N.m)(j)){F&&(this._unsubscribe=void 0);try{j.call(this)}catch(fe){te=fe instanceof se?me(fe.errors):[fe]}}if((0,c.k)(ae)){let fe=-1,Ce=ae.length;for(;++fe<Ce;){const ge=ae[fe];if((0,U.K)(ge))try{ge.unsubscribe()}catch(pe){te=te||[],pe instanceof se?te=te.concat(me(pe.errors)):te.push(pe)}}}if(te)throw new se(te)}add(te){let k=te;if(!te)return ee.EMPTY;switch(typeof te){case"function":k=new ee(te);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof ee)){const ae=k;k=new ee,k._subscriptions=[ae]}break;default:throw new Error("unrecognized teardown "+te+" added to Subscription.")}let{_parentOrParents:F}=k;if(null===F)k._parentOrParents=this;else if(F instanceof ee){if(F===this)return k;k._parentOrParents=[F,this]}else{if(-1!==F.indexOf(this))return k;F.push(this)}const j=this._subscriptions;return null===j?this._subscriptions=[k]:j.push(k),k}remove(te){const k=this._subscriptions;if(k){const F=k.indexOf(te);-1!==F&&k.splice(F,1)}}}var J;function me(J){return J.reduce((te,k)=>te.concat(k instanceof se?k.errors:k),[])}ee.EMPTY=((J=new ee).closed=!0,J)},2494:(Ue,Ee,R)=>{"use strict";R.d(Ee,{v:()=>U});let c=!1;const U={Promise:void 0,set useDeprecatedSynchronousErrorHandling(N){if(N){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else c&&console.log("RxJS: Back to a better error behavior. Thank you. <3");c=N},get useDeprecatedSynchronousErrorHandling(){return c}}},5345:(Ue,Ee,R)=>{"use strict";R.d(Ee,{IY:()=>ce,Ds:()=>ee,ft:()=>J});var c=R(7393),U=R(7574),N=R(7444);class ce extends c.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ee extends c.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function J(te,k){if(k.closed)return;if(te instanceof U.y)return te.subscribe(k);let F;try{F=(0,N.s)(te)(k)}catch(j){k.error(j)}return F}},2441:(Ue,Ee,R)=>{"use strict";R.d(Ee,{c:()=>se,N:()=>ee});var c=R(9765),U=R(7574),N=R(5319),ce=R(1307);class se extends U.y{constructor(F,j){super(),this.source=F,this.subjectFactory=j,this._refCount=0,this._isComplete=!1}_subscribe(F){return this.getSubject().subscribe(F)}getSubject(){const F=this._subject;return(!F||F.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let F=this._connection;return F||(this._isComplete=!1,F=this._connection=new N.w,F.add(this.source.subscribe(new me(this.getSubject(),this))),F.closed&&(this._connection=null,F=N.w.EMPTY)),F}refCount(){return(0,ce.x)()(this)}}const ee=(()=>{const k=se.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class me extends c.Yc{constructor(F,j){super(F),this.connectable=j}_error(F){this._unsubscribe(),super._error(F)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const F=this.connectable;if(F){this.connectable=null;const j=F._connection;F._refCount=0,F._subject=null,F._connection=null,j&&j.unsubscribe()}}}},9193:(Ue,Ee,R)=>{"use strict";R.d(Ee,{E:()=>U,c:()=>N});var c=R(7574);const U=new c.y(se=>se.complete());function N(se){return se?function(se){return new c.y(ee=>se.schedule(()=>ee.complete()))}(se):U}},4402:(Ue,Ee,R)=>{"use strict";R.d(Ee,{D:()=>Ce});var c=R(7574),U=R(7444),N=R(5319),ce=R(6554),me=R(4087),J=R(377),F=R(4072),j=R(9489);function Ce(ge,pe){return pe?function(ge,pe){if(null!=ge){if(function(ge){return ge&&"function"==typeof ge[ce.L]}(ge))return function(ge,pe){return new c.y(ie=>{const le=new N.w;return le.add(pe.schedule(()=>{const ve=ge[ce.L]();le.add(ve.subscribe({next(Ie){le.add(pe.schedule(()=>ie.next(Ie)))},error(Ie){le.add(pe.schedule(()=>ie.error(Ie)))},complete(){le.add(pe.schedule(()=>ie.complete()))}}))})),le})}(ge,pe);if((0,F.t)(ge))return function(ge,pe){return new c.y(ie=>{const le=new N.w;return le.add(pe.schedule(()=>ge.then(ve=>{le.add(pe.schedule(()=>{ie.next(ve),le.add(pe.schedule(()=>ie.complete()))}))},ve=>{le.add(pe.schedule(()=>ie.error(ve)))}))),le})}(ge,pe);if((0,j.z)(ge))return(0,me.r)(ge,pe);if(function(ge){return ge&&"function"==typeof ge[J.hZ]}(ge)||"string"==typeof ge)return function(ge,pe){if(!ge)throw new Error("Iterable cannot be null");return new c.y(ie=>{const le=new N.w;let ve;return le.add(()=>{ve&&"function"==typeof ve.return&&ve.return()}),le.add(pe.schedule(()=>{ve=ge[J.hZ](),le.add(pe.schedule(function(){if(ie.closed)return;let Ie,He;try{const ht=ve.next();Ie=ht.value,He=ht.done}catch(ht){return void ie.error(ht)}He?ie.complete():(ie.next(Ie),this.schedule())}))})),le})}(ge,pe)}throw new TypeError((null!==ge&&typeof ge||ge)+" is not observable")}(ge,pe):ge instanceof c.y?ge:new c.y((0,U.s)(ge))}},6693:(Ue,Ee,R)=>{"use strict";R.d(Ee,{n:()=>ce});var c=R(7574),U=R(5015),N=R(4087);function ce(se,ee){return ee?(0,N.r)(se,ee):new c.y((0,U.V)(se))}},6682:(Ue,Ee,R)=>{"use strict";R.d(Ee,{T:()=>se});var c=R(7574),U=R(4869),N=R(3282),ce=R(6693);function se(...ee){let me=Number.POSITIVE_INFINITY,J=null,te=ee[ee.length-1];return(0,U.K)(te)?(J=ee.pop(),ee.length>1&&"number"==typeof ee[ee.length-1]&&(me=ee.pop())):"number"==typeof te&&(me=ee.pop()),null===J&&1===ee.length&&ee[0]instanceof c.y?ee[0]:(0,N.J)(me)((0,ce.n)(ee,J))}},5917:(Ue,Ee,R)=>{"use strict";R.d(Ee,{of:()=>ce});var c=R(4869),U=R(6693),N=R(4087);function ce(...se){let ee=se[se.length-1];return(0,c.K)(ee)?(se.pop(),(0,N.r)(se,ee)):(0,U.n)(se)}},8002:(Ue,Ee,R)=>{"use strict";R.d(Ee,{U:()=>U});var c=R(7393);function U(se,ee){return function(J){if("function"!=typeof se)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return J.lift(new N(se,ee))}}class N{constructor(ee,me){this.project=ee,this.thisArg=me}call(ee,me){return me.subscribe(new ce(ee,this.project,this.thisArg))}}class ce extends c.L{constructor(ee,me,J){super(ee),this.project=me,this.count=0,this.thisArg=J||this}_next(ee){let me;try{me=this.project.call(this.thisArg,ee,this.count++)}catch(J){return void this.destination.error(J)}this.destination.next(me)}}},3282:(Ue,Ee,R)=>{"use strict";R.d(Ee,{J:()=>N});var c=R(9773),U=R(4487);function N(ce=Number.POSITIVE_INFINITY){return(0,c.zg)(U.y,ce)}},9773:(Ue,Ee,R)=>{"use strict";R.d(Ee,{zg:()=>ce});var c=R(8002),U=R(4402),N=R(5345);function ce(J,te,k=Number.POSITIVE_INFINITY){return"function"==typeof te?F=>F.pipe(ce((j,ae)=>(0,U.D)(J(j,ae)).pipe((0,c.U)((fe,Ce)=>te(j,fe,ae,Ce))),k)):("number"==typeof te&&(k=te),F=>F.lift(new se(J,k)))}class se{constructor(te,k=Number.POSITIVE_INFINITY){this.project=te,this.concurrent=k}call(te,k){return k.subscribe(new ee(te,this.project,this.concurrent))}}class ee extends N.Ds{constructor(te,k,F=Number.POSITIVE_INFINITY){super(te),this.project=k,this.concurrent=F,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(te){this.active<this.concurrent?this._tryNext(te):this.buffer.push(te)}_tryNext(te){let k;const F=this.index++;try{k=this.project(te,F)}catch(j){return void this.destination.error(j)}this.active++,this._innerSub(k)}_innerSub(te){const k=new N.IY(this),F=this.destination;F.add(k);const j=(0,N.ft)(te,k);j!==k&&F.add(j)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(te){this.destination.next(te)}notifyComplete(){const te=this.buffer;this.active--,te.length>0?this._next(te.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ue,Ee,R)=>{"use strict";R.d(Ee,{ht:()=>F,QV:()=>te});var c=R(7393),U=R(9193),N=R(5917),ce=R(7574);class J{constructor(fe,Ce,ge){this.kind=fe,this.value=Ce,this.error=ge,this.hasValue="N"===fe}observe(fe){switch(this.kind){case"N":return fe.next&&fe.next(this.value);case"E":return fe.error&&fe.error(this.error);case"C":return fe.complete&&fe.complete()}}do(fe,Ce,ge){switch(this.kind){case"N":return fe&&fe(this.value);case"E":return Ce&&Ce(this.error);case"C":return ge&&ge()}}accept(fe,Ce,ge){return fe&&"function"==typeof fe.next?this.observe(fe):this.do(fe,Ce,ge)}toObservable(){switch(this.kind){case"N":return(0,N.of)(this.value);case"E":return ae=this.error,new ce.y(Ce=>Ce.error(ae));case"C":return(0,U.c)()}var ae;throw new Error("unexpected notification kind value")}static createNext(fe){return void 0!==fe?new J("N",fe):J.undefinedValueNotification}static createError(fe){return new J("E",void 0,fe)}static createComplete(){return J.completeNotification}}function te(ae,fe=0){return function(ge){return ge.lift(new k(ae,fe))}}J.completeNotification=new J("C"),J.undefinedValueNotification=new J("N",void 0);class k{constructor(fe,Ce=0){this.scheduler=fe,this.delay=Ce}call(fe,Ce){return Ce.subscribe(new F(fe,this.scheduler,this.delay))}}class F extends c.L{constructor(fe,Ce,ge=0){super(fe),this.scheduler=Ce,this.delay=ge}static dispatch(fe){const{notification:Ce,destination:ge}=fe;Ce.observe(ge),this.unsubscribe()}scheduleMessage(fe){this.destination.add(this.scheduler.schedule(F.dispatch,this.delay,new j(fe,this.destination)))}_next(fe){this.scheduleMessage(J.createNext(fe))}_error(fe){this.scheduleMessage(J.createError(fe)),this.unsubscribe()}_complete(){this.scheduleMessage(J.createComplete()),this.unsubscribe()}}class j{constructor(fe,Ce){this.notification=fe,this.destination=Ce}}},1307:(Ue,Ee,R)=>{"use strict";R.d(Ee,{x:()=>U});var c=R(7393);function U(){return function(ee){return ee.lift(new N(ee))}}class N{constructor(ee){this.connectable=ee}call(ee,me){const{connectable:J}=this;J._refCount++;const te=new ce(ee,J),k=me.subscribe(te);return te.closed||(te.connection=J.connect()),k}}class ce extends c.L{constructor(ee,me){super(ee),this.connectable=me}_unsubscribe(){const{connectable:ee}=this;if(!ee)return void(this.connection=null);this.connectable=null;const me=ee._refCount;if(me<=0)return void(this.connection=null);if(ee._refCount=me-1,me>1)return void(this.connection=null);const{connection:J}=this,te=ee._connection;this.connection=null,te&&(!J||te===J)&&te.unsubscribe()}}},8819:(Ue,Ee,R)=>{"use strict";R.d(Ee,{B:()=>me});var c=R(2441);var ce=R(1307),se=R(9765);function ee(){return new se.xQ}function me(){return J=>(0,ce.x)()(function(J,te){return function(F){let j;j="function"==typeof J?J:function(){return J};const ae=Object.create(F,c.N);return ae.source=F,ae.subjectFactory=j,ae}}(ee)(J))}},3101:(Ue,Ee,R)=>{"use strict";R.d(Ee,{R:()=>pe});var c=R(7574);let U=1;const N=Promise.resolve(),ce={};function se(le){return le in ce&&(delete ce[le],!0)}const ee={setImmediate(le){const ve=U++;return ce[ve]=!0,N.then(()=>se(ve)&&le()),ve},clearImmediate(le){se(le)}};var J=R(6465),k=R(6102);const ae=new class extends k.v{flush(ve){this.active=!0,this.scheduled=void 0;const{actions:Ie}=this;let He,ht=-1,Ct=Ie.length;ve=ve||Ie.shift();do{if(He=ve.execute(ve.state,ve.delay))break}while(++ht<Ct&&(ve=Ie.shift()));if(this.active=!1,He){for(;++ht<Ct&&(ve=Ie.shift());)ve.unsubscribe();throw He}}}(class extends J.o{constructor(ve,Ie){super(ve,Ie),this.scheduler=ve,this.work=Ie}requestAsyncId(ve,Ie,He=0){return null!==He&&He>0?super.requestAsyncId(ve,Ie,He):(ve.actions.push(this),ve.scheduled||(ve.scheduled=ee.setImmediate(ve.flush.bind(ve,null))))}recycleAsyncId(ve,Ie,He=0){if(null!==He&&He>0||null===He&&this.delay>0)return super.recycleAsyncId(ve,Ie,He);0===ve.actions.length&&(ee.clearImmediate(Ie),ve.scheduled=void 0)}});var fe=R(9796);class ge extends c.y{constructor(ve,Ie=0,He=ae){var le;super(),this.source=ve,this.delayTime=Ie,this.scheduler=He,(!(!(0,fe.k)(le=Ie)&&le-parseFloat(le)+1>=0)||Ie<0)&&(this.delayTime=0),(!He||"function"!=typeof He.schedule)&&(this.scheduler=ae)}static create(ve,Ie=0,He=ae){return new ge(ve,Ie,He)}static dispatch(ve){const{source:Ie,subscriber:He}=ve;return this.add(Ie.subscribe(He))}_subscribe(ve){return this.scheduler.schedule(ge.dispatch,this.delayTime,{source:this.source,subscriber:ve})}}function pe(le,ve=0){return function(He){return He.lift(new ie(le,ve))}}class ie{constructor(ve,Ie){this.scheduler=ve,this.delay=Ie}call(ve,Ie){return new ge(Ie,this.delay,this.scheduler).subscribe(ve)}}},3342:(Ue,Ee,R)=>{"use strict";R.d(Ee,{b:()=>ce});var c=R(7393);function U(){}var N=R(9105);function ce(me,J,te){return function(F){return F.lift(new se(me,J,te))}}class se{constructor(J,te,k){this.nextOrObserver=J,this.error=te,this.complete=k}call(J,te){return te.subscribe(new ee(J,this.nextOrObserver,this.error,this.complete))}}class ee extends c.L{constructor(J,te,k,F){super(J),this._tapNext=U,this._tapError=U,this._tapComplete=U,this._tapError=k||U,this._tapComplete=F||U,(0,N.m)(te)?(this._context=this,this._tapNext=te):te&&(this._context=te,this._tapNext=te.next||U,this._tapError=te.error||U,this._tapComplete=te.complete||U)}_next(J){try{this._tapNext.call(this._context,J)}catch(te){return void this.destination.error(te)}this.destination.next(J)}_error(J){try{this._tapError.call(this._context,J)}catch(te){return void this.destination.error(te)}this.destination.error(J)}_complete(){try{this._tapComplete.call(this._context)}catch(J){return void this.destination.error(J)}return this.destination.complete()}}},4087:(Ue,Ee,R)=>{"use strict";R.d(Ee,{r:()=>N});var c=R(7574),U=R(5319);function N(ce,se){return new c.y(ee=>{const me=new U.w;let J=0;return me.add(se.schedule(function(){J!==ce.length?(ee.next(ce[J++]),ee.closed||me.add(this.schedule())):ee.complete()})),me})}},6465:(Ue,Ee,R)=>{"use strict";R.d(Ee,{o:()=>N});var c=R(5319);class U extends c.w{constructor(se,ee){super()}schedule(se,ee=0){return this}}class N extends U{constructor(se,ee){super(se,ee),this.scheduler=se,this.work=ee,this.pending=!1}schedule(se,ee=0){if(this.closed)return this;this.state=se;const me=this.id,J=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(J,me,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(J,this.id,ee),this}requestAsyncId(se,ee,me=0){return setInterval(se.flush.bind(se,this),me)}recycleAsyncId(se,ee,me=0){if(null!==me&&this.delay===me&&!1===this.pending)return ee;clearInterval(ee)}execute(se,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(se,ee);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,ee){let J,me=!1;try{this.work(se)}catch(te){me=!0,J=!!te&&te||new Error(te)}if(me)return this.unsubscribe(),J}_unsubscribe(){const se=this.id,ee=this.scheduler,me=ee.actions,J=me.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==J&&me.splice(J,1),null!=se&&(this.id=this.recycleAsyncId(ee,se,null)),this.delay=null}}},6102:(Ue,Ee,R)=>{"use strict";R.d(Ee,{v:()=>U});let c=(()=>{class N{constructor(se,ee=N.now){this.SchedulerAction=se,this.now=ee}schedule(se,ee=0,me){return new this.SchedulerAction(this,se).schedule(me,ee)}}return N.now=()=>Date.now(),N})();class U extends c{constructor(ce,se=c.now){super(ce,()=>U.delegate&&U.delegate!==this?U.delegate.now():se()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,se=0,ee){return U.delegate&&U.delegate!==this?U.delegate.schedule(ce,se,ee):super.schedule(ce,se,ee)}flush(ce){const{actions:se}=this;if(this.active)return void se.push(ce);let ee;this.active=!0;do{if(ee=ce.execute(ce.state,ce.delay))break}while(ce=se.shift());if(this.active=!1,ee){for(;ce=se.shift();)ce.unsubscribe();throw ee}}}},3637:(Ue,Ee,R)=>{"use strict";R.d(Ee,{z:()=>N});var c=R(6465);const N=new(R(6102).v)(c.o)},7771:(Ue,Ee,R)=>{"use strict";R.d(Ee,{c:()=>ee,N:()=>se});var c=R(6465),N=R(6102);const se=new class extends N.v{}(class extends c.o{constructor(J,te){super(J,te),this.scheduler=J,this.work=te}schedule(J,te=0){return te>0?super.schedule(J,te):(this.delay=te,this.state=J,this.scheduler.flush(this),this)}execute(J,te){return te>0||this.closed?super.execute(J,te):this._execute(J,te)}requestAsyncId(J,te,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(J,te,k):J.flush(this)}}),ee=se},377:(Ue,Ee,R)=>{"use strict";R.d(Ee,{hZ:()=>U});const U="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ue,Ee,R)=>{"use strict";R.d(Ee,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ue,Ee,R)=>{"use strict";R.d(Ee,{b:()=>c});const c="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ue,Ee,R)=>{"use strict";R.d(Ee,{N:()=>U});const U=(()=>{function N(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return N.prototype=Object.create(Error.prototype),N})()},4449:(Ue,Ee,R)=>{"use strict";function c(U){setTimeout(()=>{throw U},0)}R.d(Ee,{z:()=>c})},4487:(Ue,Ee,R)=>{"use strict";function c(U){return U}R.d(Ee,{y:()=>c})},9796:(Ue,Ee,R)=>{"use strict";R.d(Ee,{k:()=>c});const c=Array.isArray||(U=>U&&"number"==typeof U.length)},9489:(Ue,Ee,R)=>{"use strict";R.d(Ee,{z:()=>c});const c=U=>U&&"number"==typeof U.length&&"function"!=typeof U},9105:(Ue,Ee,R)=>{"use strict";function c(U){return"function"==typeof U}R.d(Ee,{m:()=>c})},1555:(Ue,Ee,R)=>{"use strict";function c(U){return null!==U&&"object"==typeof U}R.d(Ee,{K:()=>c})},4072:(Ue,Ee,R)=>{"use strict";function c(U){return!!U&&"function"!=typeof U.subscribe&&"function"==typeof U.then}R.d(Ee,{t:()=>c})},4869:(Ue,Ee,R)=>{"use strict";function c(U){return U&&"function"==typeof U.schedule}R.d(Ee,{K:()=>c})},7444:(Ue,Ee,R)=>{"use strict";R.d(Ee,{s:()=>F});var c=R(5015),U=R(4449),ce=R(377),ee=R(6554),J=R(9489),te=R(4072),k=R(1555);const F=j=>{if(j&&"function"==typeof j[ee.L])return(j=>ae=>{const fe=j[ee.L]();if("function"!=typeof fe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return fe.subscribe(ae)})(j);if((0,J.z)(j))return(0,c.V)(j);if((0,te.t)(j))return(j=>ae=>(j.then(fe=>{ae.closed||(ae.next(fe),ae.complete())},fe=>ae.error(fe)).then(null,U.z),ae))(j);if(j&&"function"==typeof j[ce.hZ])return(j=>ae=>{const fe=j[ce.hZ]();for(;;){let Ce;try{Ce=fe.next()}catch(ge){return ae.error(ge),ae}if(Ce.done){ae.complete();break}if(ae.next(Ce.value),ae.closed)break}return"function"==typeof fe.return&&ae.add(()=>{fe.return&&fe.return()}),ae})(j);{const fe=`You provided ${(0,k.K)(j)?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(fe)}}},5015:(Ue,Ee,R)=>{"use strict";R.d(Ee,{V:()=>c});const c=U=>N=>{for(let ce=0,se=U.length;ce<se&&!N.closed;ce++)N.next(U[ce]);N.complete()}},9875:(Ue,Ee,R)=>{"use strict";var c=R(7716);let U=null;function N(){return U}const me=new c.OlP("DocumentToken");let J=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,c.Yz7)({factory:te,token:n,providedIn:"platform"}),n})();function te(){return(0,c.LFG)(F)}const k=new c.OlP("Location Initialized");let F=(()=>{class n extends J{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const o=N().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=N().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,l){j()?this._history.pushState(e,o,l):this.location.hash=l}replaceState(e,o,l){j()?this._history.replaceState(e,o,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(me))},n.\u0275prov=(0,c.Yz7)({factory:ae,token:n,providedIn:"platform"}),n})();function j(){return!!window.history.pushState}function ae(){return new F((0,c.LFG)(me))}function fe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ce(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ge(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,c.Yz7)({factory:ie,token:n,providedIn:"root"}),n})();function ie(n){const t=(0,c.LFG)(me).location;return new ve((0,c.LFG)(J),t&&t.origin||"")}const le=new c.OlP("appBaseHref");let ve=(()=>{class n extends pe{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return fe(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+ge(this._platformLocation.search),l=this._platformLocation.hash;return l&&e?`${o}${l}`:o}pushState(e,o,l,d){const m=this.prepareExternalUrl(l+ge(d));this._platformLocation.pushState(e,o,m)}replaceState(e,o,l,d){const m=this.prepareExternalUrl(l+ge(d));this._platformLocation.replaceState(e,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J),c.LFG(le,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends pe{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=fe(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,l,d){let m=this.prepareExternalUrl(l+ge(d));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(e,o,m)}replaceState(e,o,l,d){let m=this.prepareExternalUrl(l+ge(d));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J),c.LFG(le,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n{constructor(e,o){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const l=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Ce(st(l)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+ge(o))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,st(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",l=null){this._platformStrategy.pushState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ge(o)),l)}replaceState(e,o="",l=null){this._platformStrategy.replaceState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ge(o)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformStrategy).historyGo)||void 0===l||l.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(l=>l(e,o))}subscribe(e,o,l){return this._subject.subscribe({next:e,error:o,complete:l})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(pe),c.LFG(J))},n.normalizeQueryParams=ge,n.joinWithSlash=fe,n.stripTrailingSlash=Ce,n.\u0275prov=(0,c.Yz7)({factory:ht,token:n,providedIn:"root"}),n})();function ht(){return new He((0,c.LFG)(pe),(0,c.LFG)(J))}function st(n){return n.replace(/\/index.html$/,"")}var it=(()=>((it=it||{})[it.Zero=0]="Zero",it[it.One=1]="One",it[it.Two=2]="Two",it[it.Few=3]="Few",it[it.Many=4]="Many",it[it.Other=5]="Other",it))();const Se=c.kL8;class Cn{}let B1=(()=>{class n extends Cn{constructor(e){super(),this.locale=e}getPluralCategory(e,o){switch(Se(o||this.locale)(e)){case it.Zero:return"zero";case it.One:return"one";case it.Two:return"two";case it.Few:return"few";case it.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.soG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class zn{constructor(t,e,o,l){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dt=(()=>{class n{constructor(e,o,l){this._viewContainer=e,this._template=o,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=[];e.forEachOperation((l,d,m)=>{if(null==l.previousIndex){const y=this._viewContainer.createEmbeddedView(this._template,new zn(null,this._ngForOf,-1,-1),null===m?void 0:m),A=new Vi(l,y);o.push(A)}else if(null==m)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const y=this._viewContainer.get(d);this._viewContainer.move(y,m);const A=new Vi(l,y);o.push(A)}});for(let l=0;l<o.length;l++)this._perViewChange(o[l].view,o[l].record);for(let l=0,d=this._viewContainer.length;l<d;l++){const m=this._viewContainer.get(l);m.context.index=l,m.context.count=d,m.context.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(e,o){e.context.$implicit=o.item}static ngTemplateContextGuard(e,o){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Vi{constructor(t,e){this.record=t,this.view=e}}let l2=(()=>{class n{constructor(e,o){this._viewContainer=e,this._context=new ms,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ar("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ar("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ms{constructor(){this.$implicit=null,this.ngIf=null}}function ar(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}let Pi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:Cn,useClass:B1}]}),n})(),Oi=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Ao((0,c.LFG)(me),window)}),n})();class Ao{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const o=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let l=o.currentNode;for(;l;){const d=l.shadowRoot;if(d){const m=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(m)return m}l=o.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),o=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(o-d[0],l-d[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=f2(this.window.history)||f2(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function f2(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Hi extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Hi,U||(U=n)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(q1=q1||document.querySelector("base"),q1?q1.getAttribute("href"):null);return null==e?null:function(n){qt=qt||document.createElement("a"),qt.setAttribute("href",n);const t=qt.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){q1=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const o=e.indexOf("="),[l,d]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(l.trim()===t)return decodeURIComponent(d)}return null}(document.cookie,t)}}let qt,q1=null;const As=new c.OlP("TRANSITION_ID"),Vn=[{provide:c.ip1,useFactory:function(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const o=N(),l=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<l.length;d++)o.remove(l[d])})}},deps:[As,me,c.zs3],multi:!0}];class d1{static init(){(0,c.VLi)(new d1)}addToWindow(t){c.dqk.getAngularTestability=(o,l=!0)=>{const d=t.findTestabilityInTree(o,l);if(null==d)throw new Error("Could not find testability for element.");return d},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(o=>{const l=c.dqk.getAllAngularTestabilities();let d=l.length,m=!1;const y=function(A){m=m||A,d--,0==d&&o(m)};l.forEach(function(A){A.whenStable(y)})})}findTestabilityInTree(t,e,o){if(null==e)return null;const l=t.getTestability(e);return null!=l?l:o?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let ws=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const h2=new c.OlP("EventManagerPlugins");let Ae=(()=>{class n{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(l=>l.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,l){return this._findPluginFor(o).addEventListener(e,o,l)}addGlobalEventListener(e,o,l){return this._findPluginFor(o).addGlobalEventListener(e,o,l)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const l=this._plugins;for(let d=0;d<l.length;d++){const m=l[d];if(m.supports(e))return this._eventNameToPlugin.set(e,m),m}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(h2),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class mt{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const l=N().getGlobalEventTarget(this._doc,t);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,o)}}let Bi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),o.add(l))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),i1=(()=>{class n extends Bi{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,l){e.forEach(d=>{const m=this._doc.createElement("style");m.textContent=d,l.push(o.appendChild(m))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(ji),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,l)=>{this._addStylesToHost(e,l,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ji))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(me))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function ji(n){N().remove(n)}const Yn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},un=/%COMP%/g;function O1(n,t,e){for(let o=0;o<t.length;o++){let l=t[o];Array.isArray(l)?O1(n,l,e):(l=l.replace(un,n),e.push(l))}return e}function fn(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let p2=(()=>{class n{constructor(e,o,l){this.eventManager=e,this.sharedStylesHost=o,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new Y1(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case c.ifc.Emulated:{let l=this.rendererByCompId.get(o.id);return l||(l=new $i(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,l)),l.applyToHost(e),l}case 1:case c.ifc.ShadowDom:return new xs(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const l=O1(o.id,o.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ae),c.LFG(i1),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Y1{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Yn[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,o){t&&t.insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,l){if(l){e=l+":"+e;const d=Yn[l];d?t.setAttributeNS(d,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const l=Yn[o];l?t.removeAttributeNS(l,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,l){l&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,o,l&c.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,fn(o)):this.eventManager.addEventListener(t,e,fn(o))}}class $i extends Y1{constructor(t,e,o,l){super(t),this.component=o;const d=O1(l+"-"+o.id,o.styles,[]);e.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(un,l+"-"+o.id),this.hostAttr="_nghost-%COMP%".replace(un,l+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}class xs extends Y1{constructor(t,e,o,l){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=O1(l.id,l.styles,[]);for(let m=0;m<d.length;m++){const y=document.createElement("style");y.textContent=d[m],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let lr=(()=>{class n extends mt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,l){return e.addEventListener(o,l,!1),()=>this.removeEventListener(e,o,l)}removeEventListener(e,o,l){return e.removeEventListener(o,l)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(me))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fr=["alt","control","meta","shift"],qi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},K1={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},T4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vo=(()=>{class n extends mt{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,o,l){const d=n.parseEventName(o),m=n.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,d.domEventName,m))}static parseEventName(e){const o=e.toLowerCase().split("."),l=o.shift();if(0===o.length||"keydown"!==l&&"keyup"!==l)return null;const d=n._normalizeKey(o.pop());let m="";if(fr.forEach(A=>{const T=o.indexOf(A);T>-1&&(o.splice(T,1),m+=A+".")}),m+=d,0!=o.length||0===d.length)return null;const y={};return y.domEventName=l,y.fullKey=m,y}static getEventFullKey(e){let o="",l=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&K1.hasOwnProperty(t)&&(t=K1[t]))}return qi[t]||t}(e);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),fr.forEach(d=>{d!=l&&T4[d](e)&&(o+=d+".")}),o+=l,o}static eventCallback(e,o,l){return d=>{n.getEventFullKey(d)===e&&l.runGuarded(()=>o(d))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(me))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ei=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,c.Yz7)({factory:function(){return(0,c.LFG)(ni)},token:n,providedIn:"root"}),n})(),ni=(()=>{class n extends ei{constructor(e){super(),this._doc=e}sanitize(e,o){if(null==o)return null;switch(e){case c.q3G.NONE:return o;case c.q3G.HTML:return(0,c.qzn)(o,"HTML")?(0,c.z3N)(o):(0,c.EiD)(this._doc,String(o)).toString();case c.q3G.STYLE:return(0,c.qzn)(o,"Style")?(0,c.z3N)(o):o;case c.q3G.SCRIPT:if((0,c.qzn)(o,"Script"))return(0,c.z3N)(o);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(o),(0,c.qzn)(o,"URL")?(0,c.z3N)(o):(0,c.mCW)(String(o));case c.q3G.RESOURCE_URL:if((0,c.qzn)(o,"ResourceURL"))return(0,c.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,c.JVY)(e)}bypassSecurityTrustStyle(e){return(0,c.L6k)(e)}bypassSecurityTrustScript(e){return(0,c.eBb)(e)}bypassSecurityTrustUrl(e){return(0,c.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,c.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(me))},n.\u0275prov=(0,c.Yz7)({factory:function(){return function(n){return new ni(n.get(me))}((0,c.LFG)(c.gxx))},token:n,providedIn:"root"}),n})();const pr=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function(){Hi.makeCurrent(),d1.init()},multi:!0},{provide:me,useFactory:function(){return(0,c.RDi)(document),document},deps:[]}]),Ls=[[],{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function(){return new c.qLn},deps:[]},{provide:h2,useClass:lr,multi:!0,deps:[me,c.R0b,c.Lbi]},{provide:h2,useClass:Vo,multi:!0,deps:[me]},[],{provide:p2,useClass:p2,deps:[Ae,i1,c.AFp]},{provide:c.FYo,useExisting:p2},{provide:Bi,useExisting:i1},{provide:i1,useClass:i1,deps:[me]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Ae,useClass:Ae,deps:[h2,c.R0b]},{provide:class{},useClass:ws,deps:[]},[]];let f6=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:As,useExisting:c.AFp},Vn]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Ls,imports:[Pi,c.hGG]}),n})();"undefined"!=typeof window&&window;var S1=R(4402),je=R(5917),Rn=R(9765),R4=R(7971);class Q1 extends Rn.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new R4.N;return this._value}next(t){super.next(this._value=t)}}var ks=R(4869),mr=R(9796),J1=R(7393);class ko extends J1.L{notifyNext(t,e,o,l,d){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Oo extends J1.L{constructor(t,e,o){super(),this.parent=t,this.outerValue=e,this.outerIndex=o,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ho=R(7444),zt=R(7574);function P4(n,t,e,o,l=new Oo(n,e,o)){if(!l.closed)return t instanceof zt.y?t.subscribe(l):(0,Ho.s)(t)(l)}var oi=R(6693);const Os={};class k4{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ki(t,this.resultSelector))}}class Ki extends ko{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Os),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let o=0;o<e;o++)this.add(P4(this,t[o],void 0,o))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,o){const l=this.values,m=this.toRespond?l[o]===Os?--this.toRespond:this.toRespond:0;l[o]=e,0===m&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}const Qn=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Pn=R(3282);function _2(...n){return(0,Pn.J)(1)((0,je.of)(...n))}var Mn=R(9193);function Q2(n){return new zt.y(t=>{let e;try{e=n()}catch(l){return void t.error(l)}return(e?(0,S1.D)(e):(0,Mn.c)()).subscribe(t)})}var Fo=R(2441),St=R(8002),gr=R(5345);function rn(n,t){return"function"==typeof t?e=>e.pipe(rn((o,l)=>(0,S1.D)(n(o,l)).pipe((0,St.U)((d,m)=>t(o,d,l,m))))):e=>e.lift(new O4(n))}class O4{constructor(t){this.project=t}call(t,e){return e.subscribe(new y1(t,this.project))}}class y1 extends gr.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const o=this.index++;try{e=this.project(t,o)}catch(l){return void this.destination.error(l)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const o=new gr.IY(this),l=this.destination;l.add(o),this.innerSubscription=(0,gr.ft)(t,o),this.innerSubscription!==o&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Uo=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function m6(n){return t=>0===n?(0,Mn.c)():t.lift(new g6(n))}class g6{constructor(t){if(this.total=t,this.total<0)throw new Uo}call(t,e){return e.subscribe(new W0(t,this.total))}}class W0 extends J1.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,o=++this.count;o<=e&&(this.destination.next(t),o===e&&(this.destination.complete(),this.unsubscribe()))}}function Fs(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(l){return l.lift(new Us(n,t,e))}}class Us{constructor(t,e,o=!1){this.accumulator=t,this.seed=e,this.hasSeed=o}call(t,e){return e.subscribe(new _6(t,this.accumulator,this.seed,this.hasSeed))}}class _6 extends J1.L{constructor(t,e,o,l){super(t),this.accumulator=e,this._seed=o,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let o;try{o=this.accumulator(this.seed,t,e)}catch(l){this.destination.error(l)}this.seed=o,this.destination.next(o)}}function vr(n,t){return function(o){return o.lift(new H4(n,t))}}class H4{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new _r(t,this.predicate,this.thisArg))}}class _r extends J1.L{constructor(t,e,o){super(t),this.predicate=e,this.thisArg=o,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(o){return void this.destination.error(o)}e&&this.destination.next(t)}}function yr(n){return function(e){const o=new h1(n),l=e.lift(o);return o.caught=l}}class h1{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Qi(t,this.selector,this.caught))}}class Qi extends gr.Ds{constructor(t,e,o){super(t),this.selector=e,this.caught=o}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const o=new gr.IY(this);this.add(o);const l=(0,gr.ft)(e,o);l!==o&&this.add(l)}}}var T1=R(9773);function si(n,t){return(0,T1.zg)(n,t,1)}function Bo(n){return function(e){return 0===n?(0,Mn.c)():e.lift(new Jn(n))}}class Jn{constructor(t){if(this.total=t,this.total<0)throw new Uo}call(t,e){return e.subscribe(new N2(t,this.total))}}class N2 extends J1.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,o=this.total,l=this.count++;e.length<o?e.push(t):e[l%o]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const o=this.count>=this.total?this.total:this.count,l=this.ring;for(let d=0;d<o;d++){const m=e++%o;t.next(l[m])}}t.complete()}}function Ji(n=jo){return t=>t.lift(new Cr(n))}class Cr{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new En(t,this.errorFactory))}}class En extends J1.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function jo(){return new Qn}function F4(n=null){return t=>t.lift(new y6(n))}class y6{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ai(t,this.defaultValue))}}class ai extends J1.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Bs=R(4487);function x1(n,t){const e=arguments.length>=2;return o=>o.pipe(n?vr((l,d)=>n(l,d,o)):Bs.y,m6(1),e?F4(t):Ji(()=>new Qn))}var dn=R(3342),L2=R(1307),C6=R(5319);class $o{constructor(t){this.callback=t}call(t,e){return e.subscribe(new M(t,this.callback))}}class M extends J1.L{constructor(t,e){super(t),this.add(new C6.w(e))}}class w{constructor(t,e){this.id=t,this.url=e}}class D extends w{constructor(t,e,o="imperative",l=null){super(t,e),this.navigationTrigger=o,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class H extends w{constructor(t,e,o){super(t,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class X extends w{constructor(t,e,o){super(t,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class de extends w{constructor(t,e,o){super(t,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class we extends w{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oe extends w{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re extends w{constructor(t,e,o,l,d){super(t,e),this.urlAfterRedirects=o,this.state=l,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bt extends w{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ot extends w{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hn{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class An{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class P1{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ci{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wo{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class br{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pn{constructor(t,e,o){this.routerEvent=t,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Xe="primary";class U4{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function o1(n){return new U4(n)}const b6="ngNavigationCancelingError";function G0(n){const t=Error("NavigationCancelingError: "+n);return t[b6]=!0,t}function Xi(n,t,e){const o=e.path.split("/");if(o.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||o.length<n.length))return null;const l={};for(let d=0;d<o.length;d++){const m=o[d],y=n[d];if(m.startsWith(":"))l[m.substring(1)]=y;else if(m!==y.path)return null}return{consumed:n.slice(0,o.length),posParams:l}}function V2(n,t){const e=n?Object.keys(n):void 0,o=t?Object.keys(t):void 0;if(!e||!o||e.length!=o.length)return!1;let l;for(let d=0;d<e.length;d++)if(l=e[d],!B4(n[l],t[l]))return!1;return!0}function B4(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),o=[...t].sort();return e.every((l,d)=>o[d]===l)}return n===t}function q0(n){return Array.prototype.concat.apply([],n)}function eo(n){return n.length>0?n[n.length-1]:null}function D1(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function on(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,S1.D)(Promise.resolve(n)):(0,je.of)(n)}const j4={exact:function Y0(n,t,e){if(!di(n.segments,t.segments)||!Zs(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children)if(!n.children[o]||!Y0(n.children[o],t.children[o],e))return!1;return!0},subset:Er},Z4={exact:function(n,t){return V2(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>B4(n[e],t[e]))},ignored:()=>!0};function js(n,t,e){return j4[e.paths](n.root,t.root,e.matrixParams)&&Z4[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Er(n,t,e){return ui(n,t,t.segments,e)}function ui(n,t,e,o){if(n.segments.length>e.length){const l=n.segments.slice(0,e.length);return!(!di(l,e)||t.hasChildren()||!Zs(l,e,o))}if(n.segments.length===e.length){if(!di(n.segments,e)||!Zs(n.segments,e,o))return!1;for(const l in t.children)if(!n.children[l]||!Er(n.children[l],t.children[l],o))return!1;return!0}{const l=e.slice(0,n.segments.length),d=e.slice(n.segments.length);return!!(di(n.segments,l)&&Zs(n.segments,l,o)&&n.children[Xe])&&ui(n.children[Xe],t,d,o)}}function Zs(n,t,e){return t.every((o,l)=>Z4[e](n[l].parameters,o.parameters))}class fi{constructor(t,e,o){this.root=t,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=o1(this.queryParams)),this._queryParamMap}toString(){return A6.serialize(this)}}class At{constructor(t,e){this.segments=t,this.children=e,this.parent=null,D1(e,(o,l)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ar(this)}}class Go{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=o1(this.parameters)),this._parameterMap}toString(){return I6(this)}}function di(n,t){return n.length===t.length&&n.every((e,o)=>e.path===t[o].path)}class W4{}class to{parse(t){const e=new K0(t);return new fi(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${$s(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const o=n[e];return Array.isArray(o)?o.map(l=>`${w6(e)}=${w6(l)}`).join("&"):`${w6(e)}=${w6(o)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const A6=new to;function Ar(n){return n.segments.map(t=>I6(t)).join("/")}function $s(n,t){if(!n.hasChildren())return Ar(n);if(t){const e=n.children[Xe]?$s(n.children[Xe],!1):"",o=[];return D1(n.children,(l,d)=>{d!==Xe&&o.push(`${d}:${$s(l,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function(n,t){let e=[];return D1(n.children,(o,l)=>{l===Xe&&(e=e.concat(t(o,l)))}),D1(n.children,(o,l)=>{l!==Xe&&(e=e.concat(t(o,l)))}),e}(n,(o,l)=>l===Xe?[$s(n.children[Xe],!1)]:[`${l}:${$s(o,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Xe]?`${Ar(n)}/${e[0]}`:`${Ar(n)}/(${e.join("//")})`}}function G4(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function w6(n){return G4(n).replace(/%3B/gi,";")}function qo(n){return G4(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ws(n){return decodeURIComponent(n)}function Yo(n){return Ws(n.replace(/\+/g,"%20"))}function I6(n){return`${qo(n.path)}${function(n){return Object.keys(n).map(t=>`;${qo(t)}=${qo(n[t])}`).join("")}(n.parameters)}`}const jc=/^[^\/()?;=#]+/;function Y4(n){const t=n.match(jc);return t?t[0]:""}const Zc=/^[^=?&#]+/,wr=/^[^?&#]+/;class K0{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new At([],{}):new At([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(o[Xe]=new At(t,e)),o}parseSegment(){const t=Y4(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Go(Ws(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Y4(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const l=Y4(this.remaining);l&&(o=l,this.capture(o))}t[Ws(e)]=Ws(o)}parseQueryParam(t){const e=function(n){const t=n.match(Zc);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const m=function(n){const t=n.match(wr);return t?t[0]:""}(this.remaining);m&&(o=m,this.capture(o))}const l=Yo(e),d=Yo(o);if(t.hasOwnProperty(l)){let m=t[l];Array.isArray(m)||(m=[m],t[l]=m),m.push(d)}else t[l]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Y4(this.remaining),l=this.remaining[o.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let d;o.indexOf(":")>-1?(d=o.substr(0,o.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=Xe);const m=this.parseChildren();e[d]=1===Object.keys(m).length?m[Xe]:new At([],m),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Q0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=S6(t,this._root);return e?e.children.map(o=>o.value):[]}firstChild(t){const e=S6(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=T6(t,this._root);return e.length<2?[]:e[e.length-2].children.map(l=>l.value).filter(l=>l!==t)}pathFromRoot(t){return T6(t,this._root).map(e=>e.value)}}function S6(n,t){if(n===t.value)return t;for(const e of t.children){const o=S6(n,e);if(o)return o}return null}function T6(n,t){if(n===t.value)return[t];for(const e of t.children){const o=T6(n,e);if(o.length)return o.unshift(t),o}return[]}class Ir{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ko(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class x6 extends Q0{constructor(t,e){super(t),this.snapshot=e,Gs(this,t)}toString(){return this.snapshot.toString()}}function J0(n,t){const e=function(n,t){const m=new Qo([],{},{},"",{},Xe,t,null,n.root,-1,{});return new Jo("",new Ir(m,[]))}(n,t),o=new Q1([new Go("",{})]),l=new Q1({}),d=new Q1({}),m=new Q1({}),y=new Q1(""),A=new Sr(o,l,m,y,d,Xe,t,e.root);return A.snapshot=e.root,new x6(new Ir(A,[]),e)}class Sr{constructor(t,e,o,l,d,m,y,A){this.url=t,this.params=e,this.queryParams=o,this.fragment=l,this.data=d,this.outlet=m,this.component=y,this._futureSnapshot=A}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.U)(t=>o1(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.U)(t=>o1(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function K4(n,t="emptyOnly"){const e=n.pathFromRoot;let o=0;if("always"!==t)for(o=e.length-1;o>=1;){const l=e[o],d=e[o-1];if(l.routeConfig&&""===l.routeConfig.path)o--;else{if(d.component)break;o--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class Qo{constructor(t,e,o,l,d,m,y,A,T,P,V){this.url=t,this.params=e,this.queryParams=o,this.fragment=l,this.data=d,this.outlet=m,this.component=y,this.routeConfig=A,this._urlSegment=T,this._lastPathIndex=P,this._resolve=V}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=o1(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=o1(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jo extends Q0{constructor(t,e){super(e),this.url=t,Gs(this,e)}toString(){return R2(this._root)}}function Gs(n,t){t.value._routerState=n,t.children.forEach(e=>Gs(n,e))}function R2(n){const t=n.children.length>0?` { ${n.children.map(R2).join(", ")} } `:"";return`${n.value}${t}`}function Tr(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,V2(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),V2(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!V2(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),V2(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Q4(n,t){return V2(n.params,t.params)&&function(n,t){return di(n,t)&&n.every((e,o)=>V2(e.parameters,t[o].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||Q4(n.parent,t.parent))}function Xo(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=t.value;const l=function(n,t,e){return t.children.map(o=>{for(const l of e.children)if(n.shouldReuseRoute(o.value,l.value.snapshot))return Xo(n,o,l);return Xo(n,o)})}(n,t,e);return new Ir(o,l)}{if(n.shouldAttach(t.value)){const d=n.retrieve(t.value);if(null!==d){const m=d.route;return Gc(t,m),m}}const o=function(n){return new Sr(new Q1(n.url),new Q1(n.params),new Q1(n.queryParams),new Q1(n.fragment),new Q1(n.data),n.outlet,n.component,n)}(t.value),l=t.children.map(d=>Xo(n,d));return new Ir(o,l)}}function Gc(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)Gc(n.children[e],t.children[e])}function _(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function h(n){return"object"==typeof n&&null!=n&&n.outlets}function g(n,t,e,o,l){let d={};return o&&D1(o,(m,y)=>{d[y]=Array.isArray(m)?m.map(A=>`${A}`):`${m}`}),new fi(e.root===n?t:b(e.root,n,t),d,l)}function b(n,t,e){const o={};return D1(n.children,(l,d)=>{o[d]=l===t?e:b(l,t,e)}),new At(n.segments,o)}class S{constructor(t,e,o){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=o,t&&o.length>0&&_(o[0]))throw new Error("Root segment cannot have matrix parameters");const l=o.find(h);if(l&&l!==eo(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Q{constructor(t,e,o){this.segmentGroup=t,this.processChildren=e,this.index=o}}function qe(n,t,e){if(n||(n=new At([],{})),0===n.segments.length&&n.hasChildren())return Nt(n,t,e);const o=function(n,t,e){let o=0,l=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;l<n.segments.length;){if(o>=e.length)return d;const m=n.segments[l],y=e[o];if(h(y))break;const A=`${y}`,T=o<e.length-1?e[o+1]:null;if(l>0&&void 0===A)break;if(A&&T&&"object"==typeof T&&void 0===T.outlets){if(!J4(A,T,m))return d;o+=2}else{if(!J4(A,{},m))return d;o++}l++}return{match:!0,pathIndex:l,commandIndex:o}}(n,t,e),l=e.slice(o.commandIndex);if(o.match&&o.pathIndex<n.segments.length){const d=new At(n.segments.slice(0,o.pathIndex),{});return d.children[Xe]=new At(n.segments.slice(o.pathIndex),n.children),Nt(d,0,l)}return o.match&&0===l.length?new At(n.segments,{}):o.match&&!n.hasChildren()?sn(n,t,e):o.match?Nt(n,0,l):sn(n,t,e)}function Nt(n,t,e){if(0===e.length)return new At(n.segments,{});{const o=function(n){return h(n[0])?n[0].outlets:{[Xe]:n}}(e),l={};return D1(o,(d,m)=>{"string"==typeof d&&(d=[d]),null!==d&&(l[m]=qe(n.children[m],t,d))}),D1(n.children,(d,m)=>{void 0===o[m]&&(l[m]=d)}),new At(n.segments,l)}}function sn(n,t,e){const o=n.segments.slice(0,t);let l=0;for(;l<e.length;){const d=e[l];if(h(d)){const A=r1(d.outlets);return new At(o,A)}if(0===l&&_(e[0])){o.push(new Go(n.segments[t].path,es(e[0]))),l++;continue}const m=h(d)?d.outlets[Xe]:`${d}`,y=l<e.length-1?e[l+1]:null;m&&y&&_(y)?(o.push(new Go(m,es(y))),l+=2):(o.push(new Go(m,{})),l++)}return new At(o,{})}function r1(n){const t={};return D1(n,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[o]=sn(new At([],{}),0,e))}),t}function es(n){const t={};return D1(n,(e,o)=>t[o]=`${e}`),t}function J4(n,t,e){return n==e.path&&V2(t,e.parameters)}class z6{constructor(t,e,o,l){this.routeReuseStrategy=t,this.futureState=e,this.currState=o,this.forwardEvent=l}activate(t){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,t),Tr(this.futureState.root),this.activateChildRoutes(e,o,t)}deactivateChildRoutes(t,e,o){const l=Ko(e);t.children.forEach(d=>{const m=d.value.outlet;this.deactivateRoutes(d,l[m],o),delete l[m]}),D1(l,(d,m)=>{this.deactivateRouteAndItsChildren(d,o)})}deactivateRoutes(t,e,o){const l=t.value,d=e?e.value:null;if(l===d)if(l.component){const m=o.getContext(l.outlet);m&&this.deactivateChildRoutes(t,e,m.children)}else this.deactivateChildRoutes(t,e,o);else d&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const o=e.getContext(t.value.outlet);if(o&&o.outlet){const l=o.outlet.detach(),d=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const o=e.getContext(t.value.outlet),l=o&&t.value.component?o.children:e,d=Ko(t);for(const m of Object.keys(d))this.deactivateRouteAndItsChildren(d[m],l);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(t,e,o){const l=Ko(e);t.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],o),this.forwardEvent(new br(d.value.snapshot))}),t.children.length&&this.forwardEvent(new ci(t.value.snapshot))}activateRoutes(t,e,o){const l=t.value,d=e?e.value:null;if(Tr(l),l===d)if(l.component){const m=o.getOrCreateContext(l.outlet);this.activateChildRoutes(t,e,m.children)}else this.activateChildRoutes(t,e,o);else if(l.component){const m=o.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const y=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),m.children.onOutletReAttached(y.contexts),m.attachRef=y.componentRef,m.route=y.route.value,m.outlet&&m.outlet.attach(y.componentRef,y.route.value),ea(y.route)}else{const y=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(l.snapshot),A=y?y.module.componentFactoryResolver:null;m.attachRef=null,m.route=l,m.resolver=A,m.outlet&&m.outlet.activateWith(l,A),this.activateChildRoutes(t,null,m.children)}}else this.activateChildRoutes(t,null,o)}}function ea(n){Tr(n.value),n.children.forEach(ea)}class ta{constructor(t,e){this.routes=t,this.module=e}}function X2(n){return"function"==typeof n}function ts(n){return n instanceof fi}const na=Symbol("INITIAL_VALUE");function ra(){return rn(n=>function(...n){let t,e;return(0,ks.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,mr.k)(n[0])&&(n=n[0]),(0,oi.n)(n,e).lift(new k4(t))}(n.map(t=>t.pipe(m6(1),function(...n){const t=n[n.length-1];return(0,ks.K)(t)?(n.pop(),e=>_2(n,e,t)):e=>_2(n,e)}(na)))).pipe(Fs((t,e)=>{let o=!1;return e.reduce((l,d,m)=>l!==na?l:(d===na&&(o=!0),o||!1!==d&&m!==e.length-1&&!ts(d)?l:d),t)},na),vr(t=>t!==na),(0,St.U)(t=>ts(t)?t:!0===t),m6(1)))}let wn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&c._UZ(0,"router-outlet")},directives:function(){return[la]},encapsulation:2}),n})();function ia(n,t=""){for(let e=0;e<n.length;e++){const o=n[e];Yc(o,Ip(t,o))}}function Yc(n,t){n.children&&ia(n.children,t)}function Ip(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Kc(n){const t=n.children&&n.children.map(Kc),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Xe&&(e.component=wn),e}function P2(n){return n.outlet||Xe}function ru(n,t){const e=n.filter(o=>P2(o)===t);return e.push(...n.filter(o=>P2(o)!==t)),e}const Qc={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function r3(n,t,e){var o;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Qc):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(t.matcher||Xi)(e,n,t);if(!d)return Object.assign({},Qc);const m={};D1(d.posParams,(A,T)=>{m[T]=A.path});const y=d.consumed.length>0?Object.assign(Object.assign({},m),d.consumed[d.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:y,positionalParamSegments:null!==(o=d.posParams)&&void 0!==o?o:{}}}function N6(n,t,e,o,l="corrected"){if(e.length>0&&function(n,t,e){return e.some(o=>oa(n,t,o)&&P2(o)!==Xe)}(n,e,o)){const m=new At(t,function(n,t,e,o){const l={};l[Xe]=o,o._sourceSegment=n,o._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&P2(d)!==Xe){const m=new At([],{});m._sourceSegment=n,m._segmentIndexShift=t.length,l[P2(d)]=m}return l}(n,t,o,new At(e,n.children)));return m._sourceSegment=n,m._segmentIndexShift=t.length,{segmentGroup:m,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(o=>oa(n,t,o))}(n,e,o)){const m=new At(n.segments,function(n,t,e,o,l,d){const m={};for(const y of o)if(oa(n,e,y)&&!l[P2(y)]){const A=new At([],{});A._sourceSegment=n,A._segmentIndexShift="legacy"===d?n.segments.length:t.length,m[P2(y)]=A}return Object.assign(Object.assign({},l),m)}(n,t,e,o,n.children,l));return m._sourceSegment=n,m._segmentIndexShift=t.length,{segmentGroup:m,slicedSegments:e}}const d=new At(n.segments,n.children);return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}function oa(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Jc(n,t,e,o){return!!(P2(n)===o||o!==Xe&&oa(t,e,n))&&("**"===n.path||r3(t,n,e).matched)}function ou(n,t,e){return 0===t.length&&!n.children[e]}class i3{constructor(t){this.segmentGroup=t||null}}class Xc{constructor(t){this.urlTree=t}}function Ys(n){return new zt.y(t=>t.error(new i3(n)))}function su(n){return new zt.y(t=>t.error(new Xc(n)))}function Dp(n){return new zt.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Np{constructor(t,e,o,l,d){this.configLoader=e,this.urlSerializer=o,this.urlTree=l,this.config=d,this.allowRedirects=!0,this.ngModule=t.get(c.h0i)}apply(){const t=N6(this.urlTree.root,[],[],this.config).segmentGroup,e=new At(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Xe).pipe((0,St.U)(d=>this.createUrlTree(e8(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yr(d=>{if(d instanceof Xc)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof i3?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Xe).pipe((0,St.U)(l=>this.createUrlTree(e8(l),t.queryParams,t.fragment))).pipe(yr(l=>{throw l instanceof i3?this.noMatchError(l):l}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,o){const l=t.segments.length>0?new At([],{[Xe]:t}):t;return new fi(l,e,o)}expandSegmentGroup(t,e,o,l){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(t,e,o).pipe((0,St.U)(d=>new At([],d))):this.expandSegment(t,o,e,o.segments,l,!0)}expandChildren(t,e,o){const l=[];for(const d of Object.keys(o.children))"primary"===d?l.unshift(d):l.push(d);return(0,S1.D)(l).pipe(si(d=>{const m=o.children[d],y=ru(e,d);return this.expandSegmentGroup(t,y,m,d).pipe((0,St.U)(A=>({segment:A,outlet:d})))}),Fs((d,m)=>(d[m.outlet]=m.segment,d),{}),function(n,t){const e=arguments.length>=2;return o=>o.pipe(n?vr((l,d)=>n(l,d,o)):Bs.y,Bo(1),e?F4(t):Ji(()=>new Qn))}())}expandSegment(t,e,o,l,d,m){return(0,S1.D)(o).pipe(si(y=>this.expandSegmentAgainstRoute(t,e,o,y,l,d,m).pipe(yr(T=>{if(T instanceof i3)return(0,je.of)(null);throw T}))),x1(y=>!!y),yr((y,A)=>{if(y instanceof Qn||"EmptyError"===y.name){if(ou(e,l,d))return(0,je.of)(new At([],{}));throw new i3(e)}throw y}))}expandSegmentAgainstRoute(t,e,o,l,d,m,y){return Jc(l,e,d,m)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(t,e,l,d,m):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,o,l,d,m):Ys(e):Ys(e)}expandSegmentAgainstRouteUsingRedirect(t,e,o,l,d,m){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,o,l,m):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,l,d,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,o,l){const d=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?su(d):this.lineralizeSegments(o,d).pipe((0,T1.zg)(m=>{const y=new At(m,{});return this.expandSegment(t,y,e,m,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,l,d,m){const{matched:y,consumedSegments:A,lastChild:T,positionalParamSegments:P}=r3(e,l,d);if(!y)return Ys(e);const V=this.applyRedirectCommands(A,l.redirectTo,P);return l.redirectTo.startsWith("/")?su(V):this.lineralizeSegments(l,V).pipe((0,T1.zg)(Y=>this.expandSegment(t,e,o,Y.concat(d.slice(T)),m,!1)))}matchSegmentAgainstRoute(t,e,o,l,d){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,je.of)(o._loadedConfig):this.configLoader.load(t.injector,o)).pipe((0,St.U)(Y=>(o._loadedConfig=Y,new At(l,{})))):(0,je.of)(new At(l,{}));const{matched:m,consumedSegments:y,lastChild:A}=r3(e,o,l);if(!m)return Ys(e);const T=l.slice(A);return this.getChildConfig(t,o,l).pipe((0,T1.zg)(V=>{const Y=V.module,he=V.routes,{segmentGroup:xe,slicedSegments:Fe}=N6(e,y,T,he),Ye=new At(xe.segments,xe.children);if(0===Fe.length&&Ye.hasChildren())return this.expandChildren(Y,he,Ye).pipe((0,St.U)(Pt=>new At(y,Pt)));if(0===he.length&&0===Fe.length)return(0,je.of)(new At(y,{}));const jt=P2(o)===d;return this.expandSegment(Y,Ye,he,Fe,jt?Xe:d,!0).pipe((0,St.U)(g1=>new At(y.concat(g1.segments),g1.children)))}))}getChildConfig(t,e,o){return e.children?(0,je.of)(new ta(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,je.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,o).pipe((0,T1.zg)(l=>{return l?this.configLoader.load(t.injector,e).pipe((0,St.U)(d=>(e._loadedConfig=d,d))):(n=e,new zt.y(t=>t.error(G0(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,je.of)(new ta([],t))}runCanLoadGuards(t,e,o){const l=e.canLoad;if(!l||0===l.length)return(0,je.of)(!0);const d=l.map(m=>{const y=t.get(m);let A;if((n=y)&&X2(n.canLoad))A=y.canLoad(e,o);else{if(!X2(y))throw new Error("Invalid CanLoad guard");A=y(e,o)}var n;return on(A)});return(0,je.of)(d).pipe(ra(),(0,dn.b)(m=>{if(!ts(m))return;const y=G0(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw y.url=m,y}),(0,St.U)(m=>!0===m))}lineralizeSegments(t,e){let o=[],l=e.root;for(;;){if(o=o.concat(l.segments),0===l.numberOfChildren)return(0,je.of)(o);if(l.numberOfChildren>1||!l.children[Xe])return Dp(t.redirectTo);l=l.children[Xe]}}applyRedirectCommands(t,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,o)}applyRedirectCreatreUrlTree(t,e,o,l){const d=this.createSegmentGroup(t,e.root,o,l);return new fi(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const o={};return D1(t,(l,d)=>{if("string"==typeof l&&l.startsWith(":")){const y=l.substring(1);o[d]=e[y]}else o[d]=l}),o}createSegmentGroup(t,e,o,l){const d=this.createSegments(t,e.segments,o,l);let m={};return D1(e.children,(y,A)=>{m[A]=this.createSegmentGroup(t,y,o,l)}),new At(d,m)}createSegments(t,e,o,l){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,l):this.findOrReturn(d,o))}findPosParam(t,e,o){const l=o[e.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return l}findOrReturn(t,e){let o=0;for(const l of e){if(l.path===t.path)return e.splice(o),l;o++}return t}}function e8(n){const t={};for(const o of Object.keys(n.children)){const d=e8(n.children[o]);(d.segments.length>0||d.hasChildren())&&(t[o]=d)}return function(n){if(1===n.numberOfChildren&&n.children[Xe]){const t=n.children[Xe];return new At(n.segments.concat(t.segments),t.children)}return n}(new At(n.segments,t))}class L6{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class e2{constructor(t,e){this.component=t,this.route=e}}function au(n,t,e){const o=n._root;return s3(o,t?t._root:null,e,[o.value])}function o3(n,t,e){const o=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(o?o.module.injector:e).get(n)}function s3(n,t,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=Ko(t);return n.children.forEach(m=>{(function(n,t,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,m=t?t.value:null,y=e?e.getContext(n.value.outlet):null;if(m&&d.routeConfig===m.routeConfig){const A=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!di(n.url,t.url);case"pathParamsOrQueryParamsChange":return!di(n.url,t.url)||!V2(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Q4(n,t)||!V2(n.queryParams,t.queryParams);case"paramsChange":default:return!Q4(n,t)}}(m,d,d.routeConfig.runGuardsAndResolvers);A?l.canActivateChecks.push(new L6(o)):(d.data=m.data,d._resolvedData=m._resolvedData),s3(n,t,d.component?y?y.children:null:e,o,l),A&&y&&y.outlet&&y.outlet.isActivated&&l.canDeactivateChecks.push(new e2(y.outlet.component,m))}else m&&V6(t,y,l),l.canActivateChecks.push(new L6(o)),s3(n,null,d.component?y?y.children:null:e,o,l)})(m,d[m.value.outlet],e,o.concat([m.value]),l),delete d[m.value.outlet]}),D1(d,(m,y)=>V6(m,e.getContext(y),l)),l}function V6(n,t,e){const o=Ko(n),l=n.value;D1(o,(d,m)=>{V6(d,l.component?t?t.children.getContext(m):null:t,e)}),e.canDeactivateChecks.push(new e2(l.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,l))}class t8{}function a3(n){return new zt.y(t=>t.error(n))}class fu{constructor(t,e,o,l,d,m){this.rootComponentType=t,this.config=e,this.urlTree=o,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=m}recognize(){const t=N6(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Xe);if(null===e)return null;const o=new Qo([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Xe,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Ir(o,e),d=new Jo(this.url,l);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(t){const e=t.value,o=K4(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),t.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(t,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,o)}processChildren(t,e){const o=[];for(const d of Object.keys(e.children)){const m=e.children[d],y=ru(t,d),A=this.processSegmentGroup(y,m,d);if(null===A)return null;o.push(...A)}const l=c3(o);return l.sort((t,e)=>t.value.outlet===Xe?-1:e.value.outlet===Xe?1:t.value.outlet.localeCompare(e.value.outlet)),l}processSegment(t,e,o,l){for(const d of t){const m=this.processSegmentAgainstRoute(d,e,o,l);if(null!==m)return m}return ou(e,o,l)?[]:null}processSegmentAgainstRoute(t,e,o,l){if(t.redirectTo||!Jc(t,e,o,l))return null;let d,m=[],y=[];if("**"===t.path){const he=o.length>0?eo(o).parameters:{};d=new Qo(o,he,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ks(t),P2(t),t.component,t,n8(e),Hp(e)+o.length,l3(t))}else{const he=r3(e,t,o);if(!he.matched)return null;m=he.consumedSegments,y=o.slice(he.lastChild),d=new Qo(m,he.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ks(t),P2(t),t.component,t,n8(e),Hp(e)+m.length,l3(t))}const A=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:T,slicedSegments:P}=N6(e,m,y,A.filter(he=>void 0===he.redirectTo),this.relativeLinkResolution);var n;if(0===P.length&&T.hasChildren()){const he=this.processChildren(A,T);return null===he?null:[new Ir(d,he)]}if(0===A.length&&0===P.length)return[new Ir(d,[])];const V=P2(t)===l,Y=this.processSegment(A,T,P,V?Xe:l);return null===Y?null:[new Ir(d,Y)]}}function hu(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function c3(n){const t=[],e=new Set;for(const o of n){if(!hu(o)){t.push(o);continue}const l=t.find(d=>o.value.routeConfig===d.value.routeConfig);void 0!==l?(l.children.push(...o.children),e.add(l)):t.push(o)}for(const o of e){const l=c3(o.children);t.push(new Ir(o.value,l))}return t.filter(o=>!e.has(o))}function n8(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Hp(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Ks(n){return n.data||{}}function l3(n){return n.resolve||{}}function i8(n){return rn(t=>{const e=n(t);return e?(0,S1.D)(e).pipe((0,St.U)(()=>t)):(0,je.of)(t)})}class $p extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const u3=new c.OlP("ROUTES");class f3{constructor(t,e,o,l){this.loader=t,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=l}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const l=this.loadModuleFactory(e.loadChildren).pipe((0,St.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e);const m=d.create(t);return new ta(q0(m.injector.get(u3,void 0,c.XFs.Self|c.XFs.Optional)).map(Kc),m)}),yr(d=>{throw e._loader$=void 0,d}));return e._loader$=new Fo.c(l,()=>new Rn.xQ).pipe((0,L2.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,S1.D)(this.loader.load(t)):on(t()).pipe((0,T1.zg)(e=>e instanceof c.YKP?(0,je.of)(e):(0,S1.D)(this.compiler.compileModuleAsync(e))))}}class gu{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ns,this.attachRef=null}}class ns{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const o=this.getOrCreateContext(t);o.outlet=e,this.contexts.set(t,o)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new gu,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Gp{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function vu(n){throw n}function _u(n,t,e){return t.parse("/")}function rs(n,t){return(0,je.of)(null)}const yu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let In=(()=>{class n{constructor(e,o,l,d,m,y,A,T){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=l,this.location=d,this.config=T,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Rn.xQ,this.errorHandler=vu,this.malformedUriErrorHandler=_u,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:rs,afterPreactivation:rs},this.urlHandlingStrategy=new Gp,this.routeReuseStrategy=new $p,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(c.h0i),this.console=m.get(c.c2e);const Y=m.get(c.R0b);this.isNgZoneEnabled=Y instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(T),this.currentUrlTree=new fi(new At([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new f3(y,A,he=>this.triggerEvent(new hn(he)),he=>this.triggerEvent(new An(he))),this.routerState=J0(this.currentUrlTree,this.rootComponentType),this.transitions=new Q1({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(vr(l=>0!==l.id),(0,St.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),rn(l=>{let d=!1,m=!1;return(0,je.of)(l).pipe((0,dn.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),rn(y=>{const A=this.browserUrlTree.toString(),T=!this.navigated||y.extractedUrl.toString()!==A||A!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return h3(y.source)&&(this.browserUrlTree=y.extractedUrl),(0,je.of)(y).pipe(rn(V=>{const Y=this.transitions.getValue();return o.next(new D(V.id,this.serializeUrl(V.extractedUrl),V.source,V.restoredState)),Y!==this.transitions.getValue()?Mn.E:Promise.resolve(V)}),function(n,t,e,o){return rn(l=>function(n,t,e,o,l){return new Np(n,t,e,o,l).apply()}(n,t,e,l.extractedUrl,o).pipe((0,St.U)(d=>Object.assign(Object.assign({},l),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,dn.b)(V=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:V.urlAfterRedirects})}),function(n,t,e,o,l){return(0,T1.zg)(d=>function(n,t,e,o,l="emptyOnly",d="legacy"){try{const m=new fu(n,t,e,o,l,d).recognize();return null===m?a3(new t8):(0,je.of)(m)}catch(m){return a3(m)}}(n,t,d.urlAfterRedirects,e(d.urlAfterRedirects),o,l).pipe((0,St.U)(m=>Object.assign(Object.assign({},d),{targetSnapshot:m}))))}(this.rootComponentType,this.config,V=>this.serializeUrl(V),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,dn.b)(V=>{"eager"===this.urlUpdateStrategy&&(V.extras.skipLocationChange||this.setBrowserUrl(V.urlAfterRedirects,V),this.browserUrlTree=V.urlAfterRedirects);const Y=new we(V.id,this.serializeUrl(V.extractedUrl),this.serializeUrl(V.urlAfterRedirects),V.targetSnapshot);o.next(Y)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Y,extractedUrl:he,source:xe,restoredState:Fe,extras:Ye}=y,jt=new D(Y,this.serializeUrl(he),xe,Fe);o.next(jt);const Tt=J0(he,this.rootComponentType).snapshot;return(0,je.of)(Object.assign(Object.assign({},y),{targetSnapshot:Tt,urlAfterRedirects:he,extras:Object.assign(Object.assign({},Ye),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,this.browserUrlTree=y.urlAfterRedirects,y.resolve(null),Mn.E}),i8(y=>{const{targetSnapshot:A,id:T,extractedUrl:P,rawUrl:V,extras:{skipLocationChange:Y,replaceUrl:he}}=y;return this.hooks.beforePreactivation(A,{navigationId:T,appliedUrlTree:P,rawUrlTree:V,skipLocationChange:!!Y,replaceUrl:!!he})}),(0,dn.b)(y=>{const A=new Oe(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(A)}),(0,St.U)(y=>Object.assign(Object.assign({},y),{guards:au(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function(n,t){return(0,T1.zg)(e=>{const{targetSnapshot:o,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:m}}=e;return 0===m.length&&0===d.length?(0,je.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,o){return(0,S1.D)(n).pipe((0,T1.zg)(l=>function(n,t,e,o,l){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,je.of)(!0);const m=d.map(y=>{const A=o3(y,t,l);let T;if(function(n){return n&&X2(n.canDeactivate)}(A))T=on(A.canDeactivate(n,t,e,o));else{if(!X2(A))throw new Error("Invalid CanDeactivate guard");T=on(A(n,t,e,o))}return T.pipe(x1())});return(0,je.of)(m).pipe(ra())}(l.component,l.route,e,t,o)),x1(l=>!0!==l,!0))}(m,o,l,n).pipe((0,T1.zg)(y=>y&&function(n){return"boolean"==typeof n}(y)?function(n,t,e,o){return(0,S1.D)(t).pipe(si(l=>_2(function(n,t){return null!==n&&t&&t(new P1(n)),(0,je.of)(!0)}(l.route.parent,o),function(n,t){return null!==n&&t&&t(new Wo(n)),(0,je.of)(!0)}(l.route,o),function(n,t,e){const o=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(m=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(m)).filter(m=>null!==m).map(m=>Q2(()=>{const y=m.guards.map(A=>{const T=o3(A,m.node,e);let P;if(function(n){return n&&X2(n.canActivateChild)}(T))P=on(T.canActivateChild(o,n));else{if(!X2(T))throw new Error("Invalid CanActivateChild guard");P=on(T(o,n))}return P.pipe(x1())});return(0,je.of)(y).pipe(ra())}));return(0,je.of)(d).pipe(ra())}(n,l.path,e),function(n,t,e){const o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||0===o.length)return(0,je.of)(!0);const l=o.map(d=>Q2(()=>{const m=o3(d,t,e);let y;if(function(n){return n&&X2(n.canActivate)}(m))y=on(m.canActivate(t,n));else{if(!X2(m))throw new Error("Invalid CanActivate guard");y=on(m(t,n))}return y.pipe(x1())}));return(0,je.of)(l).pipe(ra())}(n,l.route,e))),x1(l=>!0!==l,!0))}(o,d,n,t):(0,je.of)(y)),(0,St.U)(y=>Object.assign(Object.assign({},e),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,dn.b)(y=>{if(ts(y.guardsResult)){const T=G0(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw T.url=y.guardsResult,T}const A=new Re(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(A)}),vr(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),i8(y=>{if(y.guards.canActivateChecks.length)return(0,je.of)(y).pipe((0,dn.b)(A=>{const T=new bt(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);this.triggerEvent(T)}),rn(A=>{let T=!1;return(0,je.of)(A).pipe(function(n,t){return(0,T1.zg)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:l}}=e;if(!l.length)return(0,je.of)(e);let d=0;return(0,S1.D)(l).pipe(si(m=>function(n,t,e,o){return function(n,t,e,o){const l=Object.keys(n);if(0===l.length)return(0,je.of)({});const d={};return(0,S1.D)(l).pipe((0,T1.zg)(m=>function(n,t,e,o){const l=o3(n,t,o);return on(l.resolve?l.resolve(t,e):l(t,e))}(n[m],t,e,o).pipe((0,dn.b)(y=>{d[m]=y}))),Bo(1),(0,T1.zg)(()=>Object.keys(d).length===l.length?(0,je.of)(d):Mn.E))}(n._resolve,n,t,o).pipe((0,St.U)(d=>(n._resolvedData=d,n.data=Object.assign(Object.assign({},n.data),K4(n,e).resolve),null)))}(m.route,o,n,t)),(0,dn.b)(()=>d++),Bo(1),(0,T1.zg)(m=>d===l.length?(0,je.of)(e):Mn.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,dn.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(A),this.cancelNavigationTransition(A,"At least one route resolver didn't emit any value."))}}))}),(0,dn.b)(A=>{const T=new Ot(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);this.triggerEvent(T)}))}),i8(y=>{const{targetSnapshot:A,id:T,extractedUrl:P,rawUrl:V,extras:{skipLocationChange:Y,replaceUrl:he}}=y;return this.hooks.afterPreactivation(A,{navigationId:T,appliedUrlTree:P,rawUrlTree:V,skipLocationChange:!!Y,replaceUrl:!!he})}),(0,St.U)(y=>{const A=function(n,t,e){const o=Xo(n,t._root,e?e._root:void 0);return new x6(o,t)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:A})}),(0,dn.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,t,e)=>(0,St.U)(o=>(new z6(t,o.targetRouterState,o.currentRouterState,e).activate(n),o)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,dn.b)({next(){d=!0},complete(){d=!0}}),function(n){return t=>t.lift(new $o(n))}(()=>{if(!d&&!m){const y=`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(l),this.cancelNavigationTransition(l,y)):this.cancelNavigationTransition(l,y)}this.currentNavigation=null}),yr(y=>{if(m=!0,function(n){return n&&n[b6]}(y)){const A=ts(y.url);A||(this.navigated=!0,this.restoreHistory(l,!0));const T=new X(l.id,this.serializeUrl(l.extractedUrl),y.message);o.next(T),A?setTimeout(()=>{const P=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),V={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||h3(l.source)};this.scheduleNavigation(P,"imperative",null,V,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const A=new de(l.id,this.serializeUrl(l.extractedUrl),y);o.next(A);try{l.resolve(this.errorHandler(y))}catch(T){l.reject(T)}}return Mn.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:l,state:d,urlTree:m}=o,y={replaceUrl:!0};if(d){const A=Object.assign({},d);delete A.navigationId,delete A.\u0275routerPageId,0!==Object.keys(A).length&&(y.state=A)}this.scheduleNavigation(m,l,d,y)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(e){var o;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,o){if(!e)return!0;const l=o.urlTree.toString()===e.urlTree.toString();return o.transitionId!==e.transitionId||!l||!("hashchange"===o.source&&"popstate"===e.source||"popstate"===o.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ia(e),this.config=e.map(Kc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:l,queryParams:d,fragment:m,queryParamsHandling:y,preserveFragment:A}=o,T=l||this.routerState.root,P=A?this.currentUrlTree.fragment:m;let V=null;switch(y){case"merge":V=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":V=this.currentUrlTree.queryParams;break;default:V=d||null}return null!==V&&(V=this.removeEmptyProps(V)),function(n,t,e,o,l){if(0===e.length)return g(t.root,t.root,t,o,l);const d=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new S(!0,0,n);let t=0,e=!1;const o=n.reduce((l,d,m)=>{if("object"==typeof d&&null!=d){if(d.outlets){const y={};return D1(d.outlets,(A,T)=>{y[T]="string"==typeof A?A.split("/"):A}),[...l,{outlets:y}]}if(d.segmentPath)return[...l,d.segmentPath]}return"string"!=typeof d?[...l,d]:0===m?(d.split("/").forEach((y,A)=>{0==A&&"."===y||(0==A&&""===y?e=!0:".."===y?t++:""!=y&&l.push(y))}),l):[...l,d]},[]);return new S(e,t,o)}(e);if(d.toRoot())return g(t.root,new At([],{}),t,o,l);const m=function(n,t,e){if(n.isAbsolute)return new Q(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const d=e.snapshot._urlSegment;return new Q(d,d===t.root,0)}const o=_(n.commands[0])?0:1;return function(n,t,e){let o=n,l=t,d=e;for(;d>l;){if(d-=l,o=o.parent,!o)throw new Error("Invalid number of '../'");l=o.segments.length}return new Q(o,!1,l-d)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,n.numberOfDoubleDots)}(d,t,n),y=m.processChildren?Nt(m.segmentGroup,m.index,d.commands):qe(m.segmentGroup,m.index,d.commands);return g(m.segmentGroup,y,t,o,l)}(T,this.currentUrlTree,e,V,null!=P?P:null)}navigateByUrl(e,o={skipLocationChange:!1}){const l=ts(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(l){o=this.malformedUriErrorHandler(l,this.urlSerializer,e)}return o}isActive(e,o){let l;if(l=!0===o?Object.assign({},yu):!1===o?Object.assign({},Cu):o,ts(e))return js(this.currentUrlTree,e,l);const d=this.parseUrl(e);return js(this.currentUrlTree,d,l)}removeEmptyProps(e){return Object.keys(e).reduce((o,l)=>{const d=e[l];return null!=d&&(o[l]=d),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new H(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,o,l,d,m){var y,A;if(this.disposed)return Promise.resolve(!1);const T=this.getTransition(),P=h3(o)&&T&&!h3(T.source),he=(this.lastSuccessfulId===T.id||this.currentNavigation?T.rawUrl:T.urlAfterRedirects).toString()===e.toString();if(P&&he)return Promise.resolve(!0);let xe,Fe,Ye;m?(xe=m.resolve,Fe=m.reject,Ye=m.promise):Ye=new Promise((g1,Pt)=>{xe=g1,Fe=Pt});const jt=++this.navigationId;let Tt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),Tt=l&&l.\u0275routerPageId?l.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(A=this.browserPageId)&&void 0!==A?A:0)+1):Tt=0,this.setTransition({id:jt,targetPageId:Tt,source:o,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:xe,reject:Fe,promise:Ye,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ye.catch(g1=>Promise.reject(g1))}setBrowserUrl(e,o){const l=this.urlSerializer.serialize(e),d=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(l)||o.extras.replaceUrl?this.location.replaceState(l,"",d):this.location.go(l,"",d)}restoreHistory(e,o=!1){var l,d;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===m?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===m&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const l=new X(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(l),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.DyG),c.LFG(W4),c.LFG(ns),c.LFG(He),c.LFG(c.zs3),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(void 0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function h3(n){return"imperative"!==n}let ca=(()=>{class n{constructor(e,o,l,d,m){this.router=e,this.route=o,this.commands=[],this.onChanges=new Rn.xQ,null==l&&d.setAttribute(m.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Qs(this.skipLocationChange),replaceUrl:Qs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Qs(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(In),c.Y36(Sr),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,o){1&e&&c.NdJ("click",function(){return o.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[c.TTD]}),n})(),gi=(()=>{class n{constructor(e,o,l){this.router=e,this.route=o,this.locationStrategy=l,this.commands=[],this.onChanges=new Rn.xQ,this.subscription=e.events.subscribe(d=>{d instanceof H&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,o,l,d,m){if(0!==e||o||l||d||m||"string"==typeof this.target&&"_self"!=this.target)return!0;const y={skipLocationChange:Qs(this.skipLocationChange),replaceUrl:Qs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Qs(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(In),c.Y36(Sr),c.Y36(pe))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,o){1&e&&c.NdJ("click",function(d){return o.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&(c.Ikx("href",o.href,c.LSH),c.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[c.TTD]}),n})();function Qs(n){return""===n||!!n}let p3=(()=>{class n{constructor(e,o,l,d,m,y){this.router=e,this.element=o,this.renderer=l,this.cdr=d,this.link=m,this.linkWithHref=y,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(A=>{A instanceof H&&this.update()})}ngAfterContentInit(){(0,je.of)(this.links.changes,this.linksWithHrefs.changes,(0,je.of)(null)).pipe((0,Pn.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const o=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(l=>!!l).map(l=>l.onChanges);this.linkInputChangesSubscription=(0,S1.D)(o).pipe((0,Pn.J)()).subscribe(l=>{this.isActive!==this.isLinkActive(this.router)(l)&&this.update()})}set routerLinkActive(e){const o=Array.isArray(e)?e:e.split(" ");this.classes=o.filter(l=>!!l)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(o=>{e?this.renderer.addClass(this.element.nativeElement,o):this.renderer.removeClass(this.element.nativeElement,o)}))})}isLinkActive(e){const o=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return l=>e.isActive(l.urlTree,o)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(In),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(ca,8),c.Y36(gi,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,o,l){if(1&e&&(c.Suo(l,ca,5),c.Suo(l,gi,5)),2&e){let d;c.iGM(d=c.CRH())&&(o.links=d),c.iGM(d=c.CRH())&&(o.linksWithHrefs=d)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[c.TTD]}),n})(),la=(()=>{class n{constructor(e,o,l,d,m){this.parentContexts=e,this.location=o,this.resolver=l,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.name=d||Xe,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const m=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,A=new m3(e,y,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,A),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ns),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class m3{constructor(t,e,o){this.route=t,this.childContexts=e,this.parent=o}get(t,e){return t===Sr?this.route:t===ns?this.childContexts:this.parent.get(t,e)}}class o8{}class a8{preload(t,e){return(0,je.of)(null)}}let g3=(()=>{class n{constructor(e,o,l,d,m){this.router=e,this.injector=d,this.preloadingStrategy=m,this.loader=new f3(o,l,T=>e.triggerEvent(new hn(T)),T=>e.triggerEvent(new An(T)))}setUpPreloading(){this.subscription=this.router.events.pipe(vr(e=>e instanceof H),si(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(c.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const l=[];for(const d of o)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const m=d._loadedConfig;l.push(this.processRoutes(m.module,m.routes))}else d.loadChildren&&!d.canLoad?l.push(this.preloadConfig(e,d)):d.children&&l.push(this.processRoutes(e,d.children));return(0,S1.D)(l).pipe((0,Pn.J)(),(0,St.U)(d=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,je.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,T1.zg)(d=>(o._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(In),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(o8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Js=(()=>{class n{constructor(e,o,l={}){this.router=e,this.viewportScroller=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof D?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof H&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof pn&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new pn(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(In),c.LFG(Oi),c.LFG(void 0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const is=new c.OlP("ROUTER_CONFIGURATION"),Mu=new c.OlP("ROUTER_FORROOT_GUARD"),Eu=[He,{provide:W4,useClass:to},{provide:In,useFactory:function(n,t,e,o,l,d,m,y={},A,T){const P=new In(null,n,t,e,o,l,d,q0(m));return A&&(P.urlHandlingStrategy=A),T&&(P.routeReuseStrategy=T),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(y,P),y.enableTracing&&P.events.subscribe(V=>{var Y,he;null===(Y=console.group)||void 0===Y||Y.call(console,`Router Event: ${V.constructor.name}`),console.log(V.toString()),console.log(V),null===(he=console.groupEnd)||void 0===he||he.call(console)}),P},deps:[W4,ns,He,c.zs3,c.v3s,c.Sil,u3,is,[class{},new c.FiY],[class{},new c.FiY]]},ns,{provide:Sr,useFactory:function(n){return n.routerState.root},deps:[In]},{provide:c.v3s,useClass:c.EAV},g3,a8,class{preload(t,e){return e().pipe(yr(()=>(0,je.of)(null)))}},{provide:is,useValue:{enableTracing:!1}}];function c8(){return new c.PXZ("Router",In)}let l8=(()=>{class n{constructor(e,o){}static forRoot(e,o){return{ngModule:n,providers:[Eu,u8(e),{provide:Mu,useFactory:Yp,deps:[[In,new c.FiY,new c.tp0]]},{provide:is,useValue:o||{}},{provide:pe,useFactory:Au,deps:[J,[new c.tBr(le),new c.FiY],is]},{provide:Js,useFactory:QA,deps:[In,Oi,is]},{provide:o8,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:a8},{provide:c.PXZ,multi:!0,useFactory:c8},[f8,{provide:c.ip1,multi:!0,useFactory:wu,deps:[f8]},{provide:Iu,useFactory:Jp,deps:[f8]},{provide:c.tb,multi:!0,useExisting:Iu}]]}}static forChild(e){return{ngModule:n,providers:[u8(e)]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Mu,8),c.LFG(In,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function QA(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Js(n,t,e)}function Au(n,t,e={}){return e.useHash?new Ie(n,t):new ve(n,t)}function Yp(n){return"guarded"}function u8(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:u3,multi:!0,useValue:n}]}let f8=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Rn.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const l=new Promise(y=>o=y),d=this.injector.get(In),m=this.injector.get(is);return"disabled"===m.initialNavigation?(d.setUpLocationChangeListener(),o(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,je.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),d.initialNavigation()):o(!0),l})}bootstrapListener(e){const o=this.injector.get(is),l=this.injector.get(g3),d=this.injector.get(Js),m=this.injector.get(In),y=this.injector.get(c.z2F);e===y.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&m.initialNavigation(),l.setUpPreloading(),d.init(),m.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function wu(n){return n.appInitializer.bind(n)}function Jp(n){return n.bootstrapListener.bind(n)}const Iu=new c.OlP("Router Initializer");var Su=R(1555);function v3(n,t){return new zt.y(e=>{const o=n.length;if(0===o)return void e.complete();const l=new Array(o);let d=0,m=0;for(let y=0;y<o;y++){const A=(0,S1.D)(n[y]);let T=!1;e.add(A.subscribe({next:P=>{T||(T=!0,m++),l[y]=P},error:P=>e.error(P),complete:()=>{d++,(d===o||!T)&&(m===o&&e.next(t?t.reduce((P,V,Y)=>(P[V]=l[Y],P),{}):l),e.complete())}}))}})}let Tu=(()=>{class n{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),rt=(()=>{class n extends Tu{}return n.\u0275fac=function(){let t;return function(o){return(t||(t=c.n5z(n)))(o||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Dr=new c.OlP("NgValueAccessor"),zr={provide:Dr,useExisting:(0,c.Gpc)(()=>vi),multi:!0},tm=new c.OlP("CompositionEventMode");let vi=(()=>{class n extends Tu{constructor(e,o,l){super(e,o),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(tm,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&c.NdJ("input",function(d){return o._handleInput(d.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(d){return o._compositionEnd(d.target.value)})},features:[c._Bn([zr]),c.qOj]}),n})();function kn(n){return null==n||0===n.length}function _3(n){return null!=n&&"number"==typeof n.length}const Sn=new c.OlP("NgValidators"),_i=new c.OlP("NgAsyncValidators"),XA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class p1{static min(t){return n=t,t=>{if(kn(t.value)||kn(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null};var n}static max(t){return n=t,t=>{if(kn(t.value)||kn(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null};var n}static required(t){return k6(t)}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return y3(t)}static minLength(t){return n=t,t=>kn(t.value)||!_3(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null;var n}static maxLength(t){return n=t,t=>_3(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null;var n}static pattern(t){return function(n){if(!n)return Xs;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),o=>{if(kn(o.value))return null;const l=o.value;return t.test(l)?null:{pattern:{requiredPattern:e,actualValue:l}}}}(t)}static nullValidator(t){return null}static compose(t){return sm(t)}static composeAsync(t){return am(t)}}function k6(n){return kn(n.value)?{required:!0}:null}function y3(n){return kn(n.value)||XA.test(n.value)?null:{email:!0}}function Xs(n){return null}function Nu(n){return null!=n}function im(n){const t=(0,c.QGY)(n)?(0,S1.D)(n):n;return(0,c.CqO)(t),t}function h8(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function p8(n,t){return t.map(e=>e(n))}function C3(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function sm(n){if(!n)return null;const t=n.filter(Nu);return 0==t.length?null:function(e){return h8(p8(e,t))}}function Lu(n){return null!=n?sm(C3(n)):null}function am(n){if(!n)return null;const t=n.filter(Nu);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if((0,mr.k)(t))return v3(t,null);if((0,Su.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return v3(e.map(o=>t[o]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return v3(n=1===n.length&&(0,mr.k)(n[0])?n[0]:n,null).pipe((0,St.U)(e=>t(...e)))}return v3(n,null)}(p8(e,t).map(im)).pipe((0,St.U)(h8))}}function Vu(n){return null!=n?am(C3(n)):null}function cm(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function lm(n){return n._rawValidators}function um(n){return n._rawAsyncValidators}function Ru(n){return n?Array.isArray(n)?n:[n]:[]}function m8(n,t){return Array.isArray(n)?n.includes(t):n===t}function fm(n,t){const e=Ru(t);return Ru(n).forEach(l=>{m8(e,l)||e.push(l)}),e}function dm(n,t){return Ru(t).filter(e=>!m8(n,e))}let ro=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Lu(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,o){return!!this.control&&this.control.hasError(e,o)}getError(e,o){return this.control?this.control.getError(e,o):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n}),n})(),Tn=(()=>{class n extends ro{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(o){return(t||(t=c.n5z(n)))(o||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();class os extends ro{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class g8{constructor(t){this._cd=t}is(t){var e,o,l;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(l=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===l?void 0:l[t])}}let ss=(()=>{class n extends g8{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(os,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&c.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[c.qOj]}),n})(),ua=(()=>{class n extends g8{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Tn,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&c.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[c.qOj]}),n})();function io(n,t){return[...t.path,n]}function oo(n,t){E3(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&U6(n,t)})}(n,t),function(n,t){const e=(o,l)=>{t.valueAccessor.writeValue(o),l&&t.viewToModelUpdate(o)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&U6(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=o=>{t.valueAccessor.setDisabledState(o)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function so(n,t,e=!0){const o=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(o),t.valueAccessor.registerOnTouched(o)),fa(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function M3(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function E3(n,t){const e=lm(n);null!==t.validator?n.setValidators(cm(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const o=um(n);null!==t.asyncValidator?n.setAsyncValidators(cm(o,t.asyncValidator)):"function"==typeof o&&n.setAsyncValidators([o]);const l=()=>n.updateValueAndValidity();M3(t._rawValidators,l),M3(t._rawAsyncValidators,l)}function fa(n,t){let e=!1;if(null!==n){if(null!==t.validator){const l=lm(n);if(Array.isArray(l)&&l.length>0){const d=l.filter(m=>m!==t.validator);d.length!==l.length&&(e=!0,n.setValidators(d))}}if(null!==t.asyncValidator){const l=um(n);if(Array.isArray(l)&&l.length>0){const d=l.filter(m=>m!==t.asyncValidator);d.length!==l.length&&(e=!0,n.setAsyncValidators(d))}}}const o=()=>{};return M3(t._rawValidators,o),M3(t._rawAsyncValidators,o),e}function U6(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function C8(n,t){E3(n,t)}function b8(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Bu(n,t){n._syncPendingControls(),t.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function M8(n,t){if(!t)return null;let e,o,l;return Array.isArray(t),t.forEach(d=>{d.constructor===vi?e=d:function(n){return Object.getPrototypeOf(n.constructor)===rt}(d)?o=d:l=d}),l||o||e||null}function On(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const B6="VALID",E8="INVALID",j6="PENDING",da="DISABLED";function A8(n){return(w8(n)?n.validators:n)||null}function A3(n){return Array.isArray(n)?Lu(n):n||null}function w3(n,t){return(w8(t)?t.asyncValidators:n)||null}function ju(n){return Array.isArray(n)?Vu(n):n||null}function w8(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class I8{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=A3(this._rawValidators),this._composedAsyncValidatorFn=ju(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===B6}get invalid(){return this.status===E8}get pending(){return this.status==j6}get disabled(){return this.status===da}get enabled(){return this.status!==da}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=A3(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ju(t)}addValidators(t){this.setValidators(fm(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(fm(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(dm(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(dm(t,this._rawAsyncValidators))}hasValidator(t){return m8(this._rawValidators,t)}hasAsyncValidator(t){return m8(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=j6,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=da,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=B6,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===B6||this.status===j6)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?da:B6}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=j6,this._hasOwnPendingAsyncValidator=!0;const e=im(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let o=n;return t.forEach(l=>{o=o instanceof Z6?o.controls.hasOwnProperty(l)?o.controls[l]:null:o instanceof I3&&o.at(l)||null}),o}(this,t)}getError(t,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?da:this.errors?E8:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(j6)?j6:this._anyControlsHaveStatus(E8)?E8:B6}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){w8(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class e4 extends I8{constructor(t=null,e,o){super(A8(e),w3(o,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){On(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){On(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Z6 extends I8{constructor(t,e,o){super(A8(e),w3(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,o={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((o,l)=>{o.reset(t[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,o)=>(t[o]=e instanceof e4?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&t(o,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&t(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,o)=>((e.enabled||this.disabled)&&(t[o]=e.value),t))}_reduceChildren(t,e){let o=t;return this._forEachChild((l,d)=>{o=e(o,l,d)}),o}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,o)=>{if(void 0===t[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class I3 extends I8{constructor(t,e,o){super(A8(e),w3(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,o={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((o,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((o,l)=>{this.at(l)&&this.at(l).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((o,l)=>{o.reset(t[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof e4?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,o)=>{t(e,o)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,o)=>{if(void 0===t[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const _m={provide:Tn,useExisting:(0,c.Gpc)(()=>pa)},ha=(()=>Promise.resolve(null))();let pa=(()=>{class n extends Tn{constructor(e,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new c.vpe,this.form=new Z6({},Lu(e),Vu(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ha.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),oo(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ha.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),On(this._directives,e)})}addFormGroup(e){ha.then(()=>{const o=this._findContainer(e.path),l=new Z6({});C8(l,e),o.registerControl(e.name,l),l.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ha.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){ha.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Bu(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Sn,10),c.Y36(_i,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&c.NdJ("submit",function(d){return o.onSubmit(d)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([_m]),c.qOj]}),n})();const ym={provide:os,useExisting:(0,c.Gpc)(()=>$6)},Wu=(()=>Promise.resolve(null))();let $6=(()=>{class n extends os{constructor(e,o,l,d){super(),this.control=new e4,this._registered=!1,this.update=new c.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(l),this.valueAccessor=M8(0,d)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),b8(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?io(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){oo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Wu.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const o=e.isDisabled.currentValue,l=""===o||o&&"false"!==o;Wu.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Tn,9),c.Y36(Sn,10),c.Y36(_i,10),c.Y36(Dr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([ym]),c.qOj,c.TTD]}),n})(),ma=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Cm={provide:Dr,useExisting:(0,c.Gpc)(()=>co),multi:!0};let co=(()=>{class n extends rt{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=o=>{e(""==o?null:parseFloat(o))}}}return n.\u0275fac=function(){let t;return function(o){return(t||(t=c.n5z(n)))(o||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,o){1&e&&c.NdJ("input",function(d){return o.onChange(d.target.value)})("blur",function(){return o.onTouched()})},features:[c._Bn([Cm]),c.qOj]}),n})(),S3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const W6=new c.OlP("NgModelWithFormControlWarning"),Yu={provide:Tn,useExisting:(0,c.Gpc)(()=>as)};let as=(()=>{class n extends Tn{constructor(e,o){super(),this.validators=e,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(o)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fa(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const o=this.form.get(e.path);return oo(o,e),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),o}getControl(e){return this.form.get(e.path)}removeControl(e){so(e.control||null,e,!1),On(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,o){this.form.get(e.path).setValue(o)}onSubmit(e){return this.submitted=!0,Bu(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const o=e.control,l=this.form.get(e.path);o!==l&&(so(o||null,e),l instanceof e4&&(oo(l,e),e.control=l))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const o=this.form.get(e.path);C8(o,e),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const o=this.form.get(e.path);o&&function(n,t){return fa(n,t)}(o,e)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){E3(this.form,this),this._oldForm&&fa(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Sn,10),c.Y36(_i,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,o){1&e&&c.NdJ("submit",function(d){return o.onSubmit(d)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Yu]),c.qOj,c.TTD]}),n})();const Mm={provide:os,useExisting:(0,c.Gpc)(()=>ga)};let ga=(()=>{class n extends os{constructor(e,o,l,d,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(o),this._setAsyncValidators(l),this.valueAccessor=M8(0,d)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),b8(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return io(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Tn,13),c.Y36(Sn,10),c.Y36(_i,10),c.Y36(Dr,10),c.Y36(W6,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Mm]),c.qOj,c.TTD]}),n._ngModelWarningSentOnce=!1,n})();const hw={provide:Dr,useExisting:(0,c.Gpc)(()=>Lr),multi:!0};function t4(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Lr=(()=>{class n extends rt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const o=this._getOptionId(e);null==o&&this.setProperty("selectedIndex",-1);const l=t4(o,e);this.setProperty("value",l)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){const o=function(n){return n.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o):e}}return n.\u0275fac=function(){let t;return function(o){return(t||(t=c.n5z(n)))(o||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,o){1&e&&c.NdJ("change",function(d){return o.onChange(d.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([hw]),c.qOj]}),n})(),lo=(()=>{class n{constructor(e,o,l){this._element=e,this._renderer=o,this._select=l,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(t4(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Lr,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Em={provide:Dr,useExisting:(0,c.Gpc)(()=>D3),multi:!0};function x3(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let D3=(()=>{class n extends rt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let o;if(this.value=e,Array.isArray(e)){const l=e.map(d=>this._getOptionId(d));o=(d,m)=>{d._setSelected(l.indexOf(m.toString())>-1)}}else o=(l,d)=>{l._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{const l=[];if(void 0!==o.selectedOptions){const d=o.selectedOptions;for(let m=0;m<d.length;m++){const y=d.item(m),A=this._getOptionValue(y.value);l.push(A)}}else{const d=o.options;for(let m=0;m<d.length;m++){const y=d.item(m);if(y.selected){const A=this._getOptionValue(y.value);l.push(A)}}}this.value=l,e(l)}}_registerOption(e){const o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){const o=function(n){return n.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}}return n.\u0275fac=function(){let t;return function(o){return(t||(t=c.n5z(n)))(o||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,o){1&e&&c.NdJ("change",function(d){return o.onChange(d.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Em]),c.qOj]}),n})(),q6=(()=>{class n{constructor(e,o,l){this._element=e,this._renderer=o,this._select=l,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(x3(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(x3(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(D3,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const wm={provide:Sn,useExisting:(0,c.Gpc)(()=>uo),multi:!0};let uo=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?k6(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,o){2&e&&c.uIk("required",o.required?"":null)},inputs:{required:"required"},features:[c._Bn([wm])]}),n})();const Sm={provide:Sn,useExisting:(0,c.Gpc)(()=>L8),multi:!0};let L8=(()=>{class n{constructor(){this._enabled=!1}set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?y3(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[c._Bn([Sm])]}),n})(),L3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[S3]]}),n})(),mw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[L3]}),n})(),r7=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:W6,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[L3]}),n})(),Y6=(()=>{class n{group(e,o=null){const l=this._reduceControls(e);let y,d=null,m=null;return null!=o&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(o)?(d=null!=o.validators?o.validators:null,m=null!=o.asyncValidators?o.asyncValidators:null,y=null!=o.updateOn?o.updateOn:void 0):(d=null!=o.validator?o.validator:null,m=null!=o.asyncValidator?o.asyncValidator:null)),new Z6(l,{asyncValidators:m,updateOn:y,validators:d})}control(e,o,l){return new e4(e,o,l)}array(e,o,l){const d=e.map(m=>this._createControl(m));return new I3(d,o,l)}_reduceControls(e){const o={};return Object.keys(e).forEach(l=>{o[l]=this._createControl(e[l])}),o}_createControl(e){return e instanceof e4||e instanceof Z6||e instanceof I3?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,c.Yz7)({factory:function(){return new n},token:n,providedIn:r7}),n})();var V3=R(7841);let R8=(()=>{class n{constructor(){}registerUser(e){V3.Z.auth().createUserWithEmailAndPassword(e.email,e.password).catch(o=>{console.log(o)})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lm=(()=>{class n{constructor(e,o,l,d){this.formBuilder=e,this.autService=o,this.router=l,this.activatedRouter=d,this.erroresForm={email:"",password:""},this.mensajesValidacion={email:{required:"Email obligatorio",email:"Introduzca una direcci\xf3n email correcta"},password:{required:"Contrase\xf1a obligatoria",pattern:"La contrase\xf1a debe tener al menos una letra un n\xfamero ",minlength:"y m\xe1s de 6 caracteres"}},this.registroForm=this.formBuilder.group({email:["",[p1.required,p1.email]],password:["",[p1.required,p1.pattern("^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$"),p1.minLength(6)]]})}ngOnInit(){this.registroForm.valueChanges.subscribe(e=>{})}onSubmit(){this.userdata=this.saveUserdata(),this.autService.registerUser(this.userdata),this.router.navigate(["/"]),this.registroForm.reset()}saveUserdata(){var e,o;return{email:null===(e=this.registroForm.get("email"))||void 0===e?void 0:e.value,password:null===(o=this.registroForm.get("password"))||void 0===o?void 0:o.value}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Y6),c.Y36(R8),c.Y36(In),c.Y36(Sr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:14,vars:1,consts:[[1,"row"],[1,"col-md-6","offset-md-3"],[3,"formGroup","ngSubmit"],["type","email","id","inputEmail","formControlName","email","autofocus","",1,"form-control"],["type","password","id","inputPassword","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(e,o){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"form",2),c.NdJ("ngSubmit",function(){return o.onSubmit()}),c.TgZ(3,"h4"),c._uU(4,"Introduzca sus datos de registro"),c.qZA(),c.TgZ(5,"label"),c._uU(6,"Correo Electr\xf3nico"),c.qZA(),c._UZ(7,"input",3),c.TgZ(8,"label"),c._uU(9,"Contrase\xf1a"),c.qZA(),c._UZ(10,"input",4),c._UZ(11,"hr"),c.TgZ(12,"button",5),c._uU(13,"Registrar"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(2),c.Q6J("formGroup",o.registroForm))},directives:[ma,ua,as,vi,ss,ga],styles:[""]}),n})();var H3={prefix:"fas",iconName:"check-circle",icon:[512,512,[],"f058","M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"]},sl={prefix:"fas",iconName:"exclamation-circle",icon:[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"]};class jS{constructor(t,e,o,l,d,m,y,A){this.id=t,this.provider=e,this.date=o,this.concept=l,this.bimpo=d,this.iva=m,this.impva=y,this.total=A}getId(){return this.id}setId(t){this.id=t}getProvider(){return this.provider}setProvider(t){this.provider=t}getDate(){return this.date}setDate(t){this.date=t}getConcept(){return this.concept}setConcept(t){this.concept=t}getBimpo(){return this.bimpo}setBimpo(t){this.bimpo=t}getIva(){return this.iva}setIva(t){this.iva=t}getImpva(){return this.impva}setImpva(t){this.impva=t}getTotal(){return this.total}setTotal(t){this.total=t}}var Ch,l4=R(8239),rN=new Uint8Array(16);function iN(){if(!Ch&&!(Ch="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ch(rN)}const oN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,aN=function(n){return"string"==typeof n&&oN.test(n)};for(var r2=[],FM=0;FM<256;++FM)r2.push((FM+256).toString(16).substr(1));const ZS=function(n,t,e){var o=(n=n||{}).random||(n.rng||iN)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){e=e||0;for(var l=0;l<16;++l)t[e+l]=o[l];return t}return function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(r2[n[t+0]]+r2[n[t+1]]+r2[n[t+2]]+r2[n[t+3]]+"-"+r2[n[t+4]]+r2[n[t+5]]+"-"+r2[n[t+6]]+r2[n[t+7]]+"-"+r2[n[t+8]]+r2[n[t+9]]+"-"+r2[n[t+10]]+r2[n[t+11]]+r2[n[t+12]]+r2[n[t+13]]+r2[n[t+14]]+r2[n[t+15]]).toLowerCase();if(!aN(e))throw TypeError("Stringified UUID is invalid");return e}(o)};var fN=R(3637),UM=R(6682),dN=R(8819);class pN{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new mN(t,this.compare,this.keySelector))}}class mN extends J1.L{constructor(t,e,o){super(t),this.keySelector=o,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:l}=this;e=l?l(t):t}catch(l){return this.destination.error(l)}let o=!1;if(this.hasKey)try{const{compare:l}=this;o=l(this.key,e)}catch(l){return this.destination.error(l)}else this.hasKey=!0;o||(this.key=e,this.destination.next(t))}}class vN{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new _N(t,this.observables,this.project))}}class _N extends ko{constructor(t,e,o){super(t),this.observables=e,this.project=o,this.toRespond=[];const l=e.length;this.values=new Array(l);for(let d=0;d<l;d++)this.toRespond.push(d);for(let d=0;d<l;d++)this.add(P4(this,e[d],void 0,d))}notifyNext(t,e,o){this.values[o]=e;const l=this.toRespond;if(l.length>0){const d=l.indexOf(o);-1!==d&&l.splice(d,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}class CN{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new bN(t,this.predicate))}}class bN extends J1.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var Z1=R(5519),ho=R(8939),MN=(R(4828),R(3394)),I0=R(3910),u4=R(8026),O=R(3854),bh=R(5422);const $S="@firebase/database";let BM="";function GS(n){BM=n}class EN{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,O.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,O.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class AN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,O.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const qS=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new EN(t)}}catch(t){}return new AN},S0=qS("localStorage"),jM=qS("sessionStorage"),_c=new bh.Yd("@firebase/database"),YS=function(){let n=1;return function(){return n++}}(),KS=function(n){const t=(0,O.dS)(n),e=new O.gQ;e.update(t);const o=e.digest();return O.US.encodeByteArray(o)},m5=function(...n){let t="";for(let e=0;e<n.length;e++){const o=n[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?t+=m5.apply(null,o):t+="object"==typeof o?(0,O.Pz)(o):o,t+=" "}return t};let T0=null,QS=!0;const JS=function(n,t){(0,O.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(_c.logLevel=bh.in.VERBOSE,T0=_c.log.bind(_c),t&&jM.set("logging_enabled",!0)):"function"==typeof n?T0=n:(T0=null,jM.remove("logging_enabled"))},Bn=function(...n){if(!0===QS&&(QS=!1,null===T0&&!0===jM.get("logging_enabled")&&JS(!0)),T0){const t=m5.apply(null,n);T0(t)}},g5=function(n){return function(...t){Bn(n,...t)}},ZM=function(...n){const t="FIREBASE INTERNAL ERROR: "+m5(...n);_c.error(t)},fs=function(...n){const t=`FIREBASE FATAL ERROR: ${m5(...n)}`;throw _c.error(t),new Error(t)},O2=function(...n){const t="FIREBASE WARNING: "+m5(...n);_c.warn(t)},Mh=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},f4="[MIN_NAME]",ds="[MAX_NAME]",x0=function(n,t){if(n===t)return 0;if(n===f4||t===ds)return-1;if(t===f4||n===ds)return 1;{const e=Eh(n),o=Eh(t);return null!==e?null!==o?e-o==0?n.length-t.length:e-o:-1:null!==o?1:n<t?-1:1}},SN=function(n,t){return n===t?0:n<t?-1:1},v5=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,O.Pz)(t))},$M=function(n){if("object"!=typeof n||null===n)return(0,O.Pz)(n);const t=[];for(const o in n)t.push(o);t.sort();let e="{";for(let o=0;o<t.length;o++)0!==o&&(e+=","),e+=(0,O.Pz)(t[o]),e+=":",e+=$M(n[t[o]]);return e+="}",e},XS=function(n,t){const e=n.length;if(e<=t)return[n];const o=[];for(let l=0;l<e;l+=t)o.push(n.substring(l,l+t>e?e:l+t));return o};function jn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const eT=function(n){(0,O.hu)(!Mh(n),"Invalid JSON number");const o=1023;let l,d,m,y,A;0===n?(d=0,m=0,l=1/n==-1/0?1:0):(l=n<0,(n=Math.abs(n))>=Math.pow(2,1-o)?(y=Math.min(Math.floor(Math.log(n)/Math.LN2),o),d=y+o,m=Math.round(n*Math.pow(2,52-y)-Math.pow(2,52))):(d=0,m=Math.round(n/Math.pow(2,-1074))));const T=[];for(A=52;A;A-=1)T.push(m%2?1:0),m=Math.floor(m/2);for(A=11;A;A-=1)T.push(d%2?1:0),d=Math.floor(d/2);T.push(l?1:0),T.reverse();const P=T.join("");let V="";for(A=0;A<64;A+=8){let Y=parseInt(P.substr(A,8),2).toString(16);1===Y.length&&(Y="0"+Y),V+=Y}return V.toLowerCase()},zN=new RegExp("^-?(0*)\\d{1,10}$"),tT=-2147483648,WM=2147483647,Eh=function(n){if(zN.test(n)){const t=Number(n);if(t>=tT&&t<=WM)return t}return null},yc=function(n){try{n()}catch(t){setTimeout(()=>{throw O2("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},_5=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class LN{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){O2(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class VN{constructor(t,e,o){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Bn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',O2(t)}}let y5=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const sT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cT="websocket",lT="long_polling";class qM{constructor(t,e,o,l,d=!1,m="",y=!1){this.secure=e,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=d,this.persistenceKey=m,this.includeNamespaceInQueryParams=y,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=S0.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&S0.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function uT(n,t,e){let o;if((0,O.hu)("string"==typeof t,"typeof type must == string"),(0,O.hu)("object"==typeof e,"typeof params must == object"),t===cT)o=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==lT)throw new Error("Unknown connection type: "+t);o=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const l=[];return jn(e,(d,m)=>{l.push(d+"="+m)}),o+l.join("&")}class kN{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,O.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,O.p$)(this.counters_)}}const YM={},KM={};function QM(n){const t=n.toString();return YM[t]||(YM[t]=new kN),YM[t]}class HN{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&yc(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Cc{constructor(t,e,o,l,d,m,y){this.connId=t,this.repoInfo=e,this.applicationId=o,this.appCheckToken=l,this.authToken=d,this.transportSessionId=m,this.lastSessionId=y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=g5(t),this.stats_=QM(e),this.urlFn=A=>(this.appCheckToken&&(A.ac=this.appCheckToken),uT(e,lT,A))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new HN(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,O.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new JM((...d)=>{const[m,y,A,T,P]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===m)this.id=y,this.password=A;else{if("close"!==m)throw new Error("Unrecognized command received: "+m);y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(y,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[m,y]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(m,y)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&sT.test(location.hostname)&&(o.r="f");const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Cc.forceAllow_=!0}static forceDisallow(){Cc.forceDisallow_=!0}static isAvailable(){return!((0,O.Yr)()||!Cc.forceAllow_&&(Cc.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,O.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,O.h$)(e),l=XS(o,1840);for(let d=0;d<l.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[d]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,O.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=t,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,O.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class JM{constructor(t,e,o,l){if(this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,O.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=YS(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=JM.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const m="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(m),this.myIFrame.doc.close()}catch(y){Bn("frame writing exception"),y.stack&&Bn(y.stack),Bn(y)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Bn("No IE domain setting required")}catch(e){const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const m=this.pendingSegs.shift();o=o+"&seg"+l+"="+m.seg+"&ts"+l+"="+m.ts+"&d"+l+"="+m.d,l++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,o){this.pendingSegs.push({seg:t,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(o,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(l),o()})}addTag(t,e){(0,O.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||"loaded"===l||"complete"===l)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{Bn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch(o){}},Math.floor(1))}}let C5=null;"undefined"!=typeof MozWebSocket?C5=MozWebSocket:"undefined"!=typeof WebSocket&&(C5=WebSocket);let b5=(()=>{class n{constructor(e,o,l,d,m,y,A){this.connId=e,this.applicationId=l,this.appCheckToken=d,this.authToken=m,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=g5(this.connId),this.stats_=QM(o),this.connURL=n.connectionURL_(o,y,A,d),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,l,d){const m={v:"5"};return!(0,O.Yr)()&&"undefined"!=typeof location&&location.hostname&&sT.test(location.hostname)&&(m.r="f"),o&&(m.s=o),l&&(m.ls=l),d&&(m.ac=d),uT(e,cT,m)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,S0.set("previous_websocket_failure",!0);try{if((0,O.Yr)()){const d={headers:{"User-Agent":`Firebase/5/${BM}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(d.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(d.headers["X-Firebase-AppCheck"]=this.appCheckToken);const m=process.env,y=0===this.connURL.indexOf("wss://")?m.HTTPS_PROXY||m.https_proxy:m.HTTP_PROXY||m.http_proxy;y&&(d.proxy={origin:y}),this.mySock=new C5(this.connURL,[],d)}else this.mySock=new C5(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(l){this.log_("Error instantiating WebSocket.");const d=l.message||l.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const d=l.message||l.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&null!==C5&&!n.forceDisallow_}static previouslyFailed(){return S0.isInMemoryStorage||!0===S0.get("previous_websocket_failure")}markConnectionHealthy(){S0.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const l=(0,O.cI)(o);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,O.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const l=this.extractFrameCount_(o);null!==l&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const o=(0,O.Pz)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const l=XS(o,16384);l.length>1&&this.sendString_(String(l.length));for(let d=0;d<l.length;d++)this.sendString_(l[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class XM{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Cc,b5]}initTransports_(t){const e=b5&&b5.isAvailable();let o=e&&!b5.previouslyFailed();if(t.webSocketOnly&&(e||O2("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[b5];else{const l=this.transports_=[];for(const d of XM.ALL_TRANSPORTS)d&&d.isAvailable()&&l.push(d)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class ET{constructor(t,e,o,l,d,m,y,A,T,P){this.id=t,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=d,this.onMessage_=m,this.onReady_=y,this.onDisconnect_=A,this.onKill_=T,this.lastSessionId=P,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=g5("c:"+this.id+":"),this.transportManager_=new XM(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=_5(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=v5("t",t),o=v5("d",t);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=v5("t",t),o=v5("d",t);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=v5("t",t);if("d"in t){const o=t.d;if("h"===e)this.onHandshake_(o);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?ZM("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ZM("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&O2("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),_5(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_5(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(S0.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class AT{put(t,e,o,l){}merge(t,e,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,o){}onDisconnectMerge(t,e,o){}onDisconnectCancel(t,e){}reportStats(t){}}class wT{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,O.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,e)}}on(t,e,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:o});const l=this.getInitialEvent(t);l&&e.apply(o,l)}off(t,e,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let d=0;d<l.length;d++)if(l[d].callback===e&&(!o||o===l[d].context))return void l.splice(d,1)}validateEventType_(t){(0,O.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class wh extends wT{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,O.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new wh}getInitialEvent(t){return(0,O.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class m1{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function a1(){return new m1("")}function Vt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Wa(n){return n.pieces_.length-n.pieceNum_}function E1(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new m1(n.pieces_,t)}function tE(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function M5(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function TT(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new m1(t,0)}function F1(n,t){const e=[];for(let o=n.pieceNum_;o<n.pieces_.length;o++)e.push(n.pieces_[o]);if(t instanceof m1)for(let o=t.pieceNum_;o<t.pieces_.length;o++)e.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&e.push(o[l])}return new m1(e,0)}function Rt(n){return n.pieceNum_>=n.pieces_.length}function H2(n,t){const e=Vt(n),o=Vt(t);if(null===e)return t;if(e===o)return H2(E1(n),E1(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function aL(n,t){const e=M5(n,0),o=M5(t,0);for(let l=0;l<e.length&&l<o.length;l++){const d=x0(e[l],o[l]);if(0!==d)return d}return e.length===o.length?0:e.length<o.length?-1:1}function nE(n,t){if(Wa(n)!==Wa(t))return!1;for(let e=n.pieceNum_,o=t.pieceNum_;e<=n.pieces_.length;e++,o++)if(n.pieces_[e]!==t.pieces_[o])return!1;return!0}function Ii(n,t){let e=n.pieceNum_,o=t.pieceNum_;if(Wa(n)>Wa(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[o])return!1;++e,++o}return!0}class cL{constructor(t,e){this.errorPrefix_=e,this.parts_=M5(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,O.ug)(this.parts_[o]);xT(this)}}function xT(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+D0(n))}function D0(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class rE extends wT{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new rE}getInitialEvent(t){return(0,O.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const E5=1e3;let Sh,z0=(()=>{class n extends AT{constructor(e,o,l,d,m,y,A,T){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=l,this.onConnectStatus_=d,this.onServerInfoUpdate_=m,this.authTokenProvider_=y,this.appCheckTokenProvider_=A,this.authOverride_=T,this.id=n.nextPersistentConnectionId_++,this.log_=g5("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=E5,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,T&&!(0,O.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rE.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&wh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,l){const d=++this.requestNumber_,m={r:d,a:e,b:o};this.log_((0,O.Pz)(m)),(0,O.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(m),l&&(this.requestCBHash_[d]=l)}get(e){this.initConnection_();const o=new O.BH,l={p:e._path.toString(),q:e._queryObject},d={action:"g",request:l,onComplete:y=>{const A=y.d;"ok"===y.s?(this.onDataUpdate_(l.p,A,!1,null),o.resolve(A)):o.reject(A)}};this.outstandingGets_.push(d),this.outstandingGetCount_++;const m=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const y=this.outstandingGets_[m];void 0===y||d!==y||(delete this.outstandingGets_[m],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+m+" timed out on connection"),o.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(m),o.promise}listen(e,o,l,d){this.initConnection_();const m=e._queryIdentifier,y=e._path.toString();this.log_("Listen called for "+y+" "+m),this.listens.has(y)||this.listens.set(y,new Map),(0,O.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,O.hu)(!this.listens.get(y).has(m),"listen() called twice for same path/queryId.");const A={onComplete:d,hashFn:o,query:e,tag:l};this.listens.get(y).set(m,A),this.connected_&&this.sendListen_(A)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(l)})}sendListen_(e){const o=e.query,l=o._path.toString(),d=o._queryIdentifier;this.log_("Listen on "+l+" for "+d);const m={p:l};e.tag&&(m.q=o._queryObject,m.t=e.tag),m.h=e.hashFn(),this.sendRequest("q",m,A=>{const T=A.d,P=A.s;n.warnOnListenWarnings_(T,o),(this.listens.get(l)&&this.listens.get(l).get(d))===e&&(this.log_("listen response",A),"ok"!==P&&this.removeListen_(l,d),e.onComplete&&e.onComplete(P,T))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,O.r3)(e,"w")){const l=(0,O.DV)(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const d='".indexOn": "'+o._queryParams.getIndex().toString()+'"',m=o._path.toString();O2(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${m} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,O.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,O.w9)(e)?"auth":"gauth",l={cred:e};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(o,l,d=>{const m=d.s,y=d.d||"error";this.authToken_===e&&("ok"===m?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(m,y))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,l=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,l)})}unlisten(e,o){const l=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+d),(0,O.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,d)&&this.connected_&&this.sendUnlisten_(l,d,e._queryObject,o)}sendUnlisten_(e,o,l,d){this.log_("Unlisten on "+e+" for "+o);const m={p:e};d&&(m.q=l,m.t=d),this.sendRequest("n",m)}onDisconnectPut(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:l})}onDisconnectMerge(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:l})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,l,d){const m={p:o,d:l};this.log_("onDisconnect "+e,m),this.sendRequest(e,m,y=>{d&&setTimeout(()=>{d(y.s,y.d)},Math.floor(0))})}put(e,o,l,d){this.putInternal("p",e,o,l,d)}merge(e,o,l,d){this.putInternal("m",e,o,l,d)}putInternal(e,o,l,d,m){this.initConnection_();const y={p:o,d:l};void 0!==m&&(y.h=m),this.outstandingPuts_.push({action:e,request:y,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,l,m=>{this.log_(o+" response",m),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(m.s,m.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,O.Pz)(e));const o=e.r,l=this.requestCBHash_[o];l&&(delete this.requestCBHash_[o],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):ZM("Unrecognized action received from server: "+(0,O.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,O.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=E5,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=E5,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=E5),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,l4.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),l=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),m=e.id+":"+n.nextConnectionId_++,y=e.lastSessionId;let A=!1,T=null;const P=function(){T?T.close():(A=!0,d())};e.realtime_={close:P,sendRequest:function(he){(0,O.hu)(T,"sendRequest call when we're not connected not allowed."),T.sendRequest(he)}};const Y=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[he,xe]=yield Promise.all([e.authTokenProvider_.getToken(Y),e.appCheckTokenProvider_.getToken(Y)]);A?Bn("getToken() completed but was canceled"):(Bn("getToken() completed. Creating connection."),e.authToken_=he&&he.accessToken,e.appCheckToken_=xe&&xe.token,T=new ET(m,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,l,d,Fe=>{O2(Fe+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},y))}catch(he){e.log_("Failed to get token: "+he),A||(e.repoInfo_.nodeAdmin&&O2(he),P())}}})()}interrupt(e){Bn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Bn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,O.xb)(this.interruptReasons_)&&(this.reconnectDelay_=E5,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let l;l=o?o.map(m=>$M(m)).join("$"):"default";const d=this.removeListen_(e,l);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,o){const l=new m1(e).toString();let d;if(this.listens.has(l)){const m=this.listens.get(l);d=m.get(o),m.delete(o),0===m.size&&this.listens.delete(l)}else d=void 0;return d}onAuthRevoked_(e,o){Bn("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){Bn("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,O.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+BM.replace(/\./g,"-")]=1,(0,O.uI)()?e["framework.cordova"]=1:(0,O.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=wh.getInstance().currentlyOnline();return(0,O.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ht{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Ht(t,e)}}class Ih{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const o=new Ht(f4,t),l=new Ht(f4,e);return 0!==this.compare(o,l)}minPost(){return Ht.MIN}}class NT extends Ih{static get __EMPTY_NODE(){return Sh}static set __EMPTY_NODE(t){Sh=t}compare(t,e){return x0(t.name,e.name)}isDefinedOn(t){throw(0,O.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Ht.MIN}maxPost(){return new Ht(ds,Sh)}makePost(t,e){return(0,O.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ht(t,Sh)}toString(){return".key"}}const hs=new NT;class Th{constructor(t,e,o,l,d=null){this.isReverse_=l,this.resultGenerator_=d,this.nodeStack_=[];let m=1;for(;!t.isEmpty();)if(t=t,m=e?o(t.key,e):1,l&&(m*=-1),m<0)t=this.isReverse_?t.left:t.right;else{if(0===m){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let oE,po=(()=>{class n{constructor(e,o,l,d,m){this.key=e,this.value=o,this.color=null!=l?l:n.RED,this.left=null!=d?d:ir.EMPTY_NODE,this.right=null!=m?m:ir.EMPTY_NODE}copy(e,o,l,d,m){return new n(null!=e?e:this.key,null!=o?o:this.value,null!=l?l:this.color,null!=d?d:this.left,null!=m?m:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,l){let d=this;const m=l(e,d.key);return d=m<0?d.copy(null,null,null,d.left.insert(e,o,l),null):0===m?d.copy(null,o,null,null,null):d.copy(null,null,null,null,d.right.insert(e,o,l)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return ir.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let l,d;if(l=this,o(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,o),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===o(e,l.key)){if(l.right.isEmpty())return ir.EMPTY_NODE;d=l.right.min_(),l=l.copy(d.key,d.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,o))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ir{constructor(t,e=ir.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new ir(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,po.BLACK,null,null))}remove(t){return new ir(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,po.BLACK,null,null))}get(t){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(t){let e,o=this.root_,l=null;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(l=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Th(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Th(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Th(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Th(this.root_,null,this.comparator_,!0,t)}}function vL(n,t){return x0(n.name,t.name)}function iE(n,t){return x0(n,t)}ir.EMPTY_NODE=new class{copy(t,e,o,l,d){return this}insert(t,e,o){return new po(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const LT=function(n){return"number"==typeof n?"number:"+eT(n):"string:"+n},VT=function(n){if(n.isLeafNode()){const t=n.val();(0,O.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,O.r3)(t,".sv"),"Priority must be a string or number.")}else(0,O.hu)(n===oE||n.isEmpty(),"priority of unexpected type.");(0,O.hu)(n===oE||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let RT,PT,kT,bc=(()=>{class n{constructor(e,o=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,O.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),VT(this.priorityNode_)}static set __childrenNodeConstructor(e){RT=e}static get __childrenNodeConstructor(){return RT}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Rt(e)?this:".priority"===Vt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const l=Vt(e);return null===l?o:o.isEmpty()&&".priority"!==l?this:((0,O.hu)(".priority"!==l||1===Wa(e),".priority must be the last token in a path"),this.updateImmediateChild(l,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(E1(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+LT(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?eT(this.value_):this.value_,this.lazyHash_=KS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,O.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,l=typeof this.value_,d=n.VALUE_TYPE_ORDER.indexOf(o),m=n.VALUE_TYPE_ORDER.indexOf(l);return(0,O.hu)(d>=0,"Unknown leaf type: "+o),(0,O.hu)(m>=0,"Unknown leaf type: "+l),d===m?"object"===l?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:m-d}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const o=e;return this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const N1=new class extends Ih{compare(t,e){const o=t.node.getPriority(),l=e.node.getPriority(),d=o.compareTo(l);return 0===d?x0(t.name,e.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Ht.MIN}maxPost(){return new Ht(ds,new bc("[PRIORITY-POST]",kT))}makePost(t,e){const o=PT(t);return new Ht(e,new bc("[PRIORITY-POST]",o))}toString(){return".priority"}},ML=Math.log(2);class EL{constructor(t){this.count=parseInt(Math.log(t+1)/ML,10),this.current_=this.count-1;const l=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const xh=function(n,t,e,o){n.sort(t);const l=function(A,T){const P=T-A;let V,Y;if(0===P)return null;if(1===P)return V=n[A],Y=e?e(V):V,new po(Y,V.node,po.BLACK,null,null);{const he=parseInt(P/2,10)+A,xe=l(A,he),Fe=l(he+1,T);return V=n[he],Y=e?e(V):V,new po(Y,V.node,po.BLACK,xe,Fe)}},y=function(A){let T=null,P=null,V=n.length;const Y=function(xe,Fe){const Ye=V-xe,jt=V;V-=xe;const Tt=l(Ye+1,jt),g1=n[Ye],Pt=e?e(g1):g1;he(new po(Pt,g1.node,Fe,null,Tt))},he=function(xe){T?(T.left=xe,T=xe):(P=xe,T=xe)};for(let xe=0;xe<A.count;++xe){const Fe=A.nextBitIsOne(),Ye=Math.pow(2,A.count-(xe+1));Fe?Y(Ye,po.BLACK):(Y(Ye,po.BLACK),Y(Ye,po.RED))}return P}(new EL(n.length));return new ir(o||t,y)};let sE;const Mc={};class d4{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,O.hu)(Mc&&N1,"ChildrenNode.ts has not been loaded"),sE=sE||new d4({".priority":Mc},{".priority":N1}),sE}get(t){const e=(0,O.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof ir?e:null}hasIndex(t){return(0,O.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,O.hu)(t!==hs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const d=e.getIterator(Ht.Wrap);let y,m=d.getNext();for(;m;)l=l||t.isDefinedOn(m.node),o.push(m),m=d.getNext();y=l?xh(o,t.getCompare()):Mc;const A=t.toString(),T=Object.assign({},this.indexSet_);T[A]=t;const P=Object.assign({},this.indexes_);return P[A]=y,new d4(P,T)}addToIndexes(t,e){const o=(0,O.UI)(this.indexes_,(l,d)=>{const m=(0,O.DV)(this.indexSet_,d);if((0,O.hu)(m,"Missing index implementation for "+d),l===Mc){if(m.isDefinedOn(t.node)){const y=[],A=e.getIterator(Ht.Wrap);let T=A.getNext();for(;T;)T.name!==t.name&&y.push(T),T=A.getNext();return y.push(t),xh(y,m.getCompare())}return Mc}{const y=e.get(t.name);let A=l;return y&&(A=A.remove(new Ht(t.name,y))),A.insert(t,t.node)}});return new d4(o,this.indexSet_)}removeFromIndexes(t,e){const o=(0,O.UI)(this.indexes_,l=>{if(l===Mc)return l;{const d=e.get(t.name);return d?l.remove(new Ht(t.name,d)):l}});return new d4(o,this.indexSet_)}}let A5,_t=(()=>{class n{constructor(e,o,l){this.children_=e,this.priorityNode_=o,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&VT(this.priorityNode_),this.children_.isEmpty()&&(0,O.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return A5||(A5=new n(new ir(iE),null,d4.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||A5}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?A5:o}}getChild(e){const o=Vt(e);return null===o?this:this.getImmediateChild(o).getChild(E1(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,O.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const l=new Ht(e,o);let d,m;o.isEmpty()?(d=this.children_.remove(e),m=this.indexMap_.removeFromIndexes(l,this.children_)):(d=this.children_.insert(e,o),m=this.indexMap_.addToIndexes(l,this.children_));const y=d.isEmpty()?A5:this.priorityNode_;return new n(d,y,m)}}updateChild(e,o){const l=Vt(e);if(null===l)return o;{(0,O.hu)(".priority"!==Vt(e)||1===Wa(e),".priority must be the last token in a path");const d=this.getImmediateChild(l).updateChild(E1(e),o);return this.updateImmediateChild(l,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let l=0,d=0,m=!0;if(this.forEachChild(N1,(y,A)=>{o[y]=A.val(e),l++,m&&n.INTEGER_REGEXP_.test(y)?d=Math.max(d,Number(y)):m=!1}),!e&&m&&d<2*l){const y=[];for(const A in o)y[A]=o[A];return y}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+LT(this.getPriority().val())+":"),this.forEachChild(N1,(o,l)=>{const d=l.hash();""!==d&&(e+=":"+o+":"+d)}),this.lazyHash_=""===e?"":KS(e)}return this.lazyHash_}getPredecessorChildName(e,o,l){const d=this.resolveIndex_(l);if(d){const m=d.getPredecessorKey(new Ht(e,o));return m?m.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new Ht(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new Ht(o,this.children_.get(o)):null}forEachChild(e,o){const l=this.resolveIndex_(e);return l?l.inorderTraversal(d=>o(d.name,d.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,Ht.Wrap);let m=d.peek();for(;null!=m&&o.compare(m,e)<0;)d.getNext(),m=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,Ht.Wrap);let m=d.peek();for(;null!=m&&o.compare(m,e)>0;)d.getNext(),m=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===w5?-1:0}withIndex(e){if(e===hs||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===hs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const l=this.getIterator(N1),d=o.getIterator(N1);let m=l.getNext(),y=d.getNext();for(;m&&y;){if(m.name!==y.name||!m.node.equals(y.node))return!1;m=l.getNext(),y=d.getNext()}return null===m&&null===y}return!1}return!1}}resolveIndex_(e){return e===hs?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const w5=new class extends _t{constructor(){super(new ir(iE),_t.EMPTY_NODE,d4.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return _t.EMPTY_NODE}isEmpty(){return!1}};function $1(n,t=null){if(null===n)return _t.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,O.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new bc(n,$1(t));if(n instanceof Array){let e=_t.EMPTY_NODE;return jn(n,(o,l)=>{if((0,O.r3)(n,o)&&"."!==o.substring(0,1)){const d=$1(l);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(o,d))}}),e.updatePriority($1(t))}{const e=[];let o=!1;if(jn(n,(m,y)=>{if("."!==m.substring(0,1)){const A=$1(y);A.isEmpty()||(o=o||!A.getPriority().isEmpty(),e.push(new Ht(m,A)))}}),0===e.length)return _t.EMPTY_NODE;const d=xh(e,vL,m=>m.name,iE);if(o){const m=xh(e,N1.getCompare());return new _t(d,$1(t),new d4({".priority":m},{".priority":N1}))}return new _t(d,$1(t),d4.Default)}}Object.defineProperties(Ht,{MIN:{value:new Ht(f4,_t.EMPTY_NODE)},MAX:{value:new Ht(ds,w5)}}),NT.__EMPTY_NODE=_t.EMPTY_NODE,bc.__childrenNodeConstructor=_t,oE=w5,kT=w5,function(n){PT=n}($1);class aE extends Ih{constructor(t){super(),this.indexPath_=t,(0,O.hu)(!Rt(t)&&".priority"!==Vt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const o=this.extractChild(t.node),l=this.extractChild(e.node),d=o.compareTo(l);return 0===d?x0(t.name,e.name):d}makePost(t,e){const o=$1(t),l=_t.EMPTY_NODE.updateChild(this.indexPath_,o);return new Ht(e,l)}maxPost(){const t=_t.EMPTY_NODE.updateChild(this.indexPath_,w5);return new Ht(ds,t)}toString(){return M5(this.indexPath_,0).join("/")}}const cE=new class extends Ih{compare(t,e){const o=t.node.compareTo(e.node);return 0===o?x0(t.name,e.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Ht.MIN}maxPost(){return Ht.MAX}makePost(t,e){const o=$1(t);return new Ht(e,o)}toString(){return".value"}},Ec="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",SL=function(){let n=0;const t=[];return function(e){const o=e===n;let l;n=e;const d=new Array(8);for(l=7;l>=0;l--)d[l]=Ec.charAt(e%64),e=Math.floor(e/64);(0,O.hu)(0===e,"Cannot push at time == 0");let m=d.join("");if(o){for(l=11;l>=0&&63===t[l];l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)m+=Ec.charAt(t[l]);return(0,O.hu)(20===m.length,"nextPushId: Length should be 20."),m}}(),FT=function(n){if(n===""+WM)return"-";const t=Eh(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let m=0;m<e.length;m++)e[m]=n.charAt(m);if(e.length<786)return e.push("-"),e.join("");let o=e.length-1;for(;o>=0&&"z"===e[o];)o--;if(-1===o)return ds;const d=Ec.charAt(Ec.indexOf(e[o])+1);return e[o]=d,e.slice(0,o+1).join("")},UT=function(n){if(n===""+tT)return f4;const t=Eh(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let o=0;o<e.length;o++)e[o]=n.charAt(o);return"-"===e[e.length-1]?1===e.length?""+WM:(delete e[e.length-1],e.join("")):(e[e.length-1]=Ec.charAt(Ec.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function BT(n){return{type:"value",snapshotNode:n}}function Ac(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function I5(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function S5(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class uE{constructor(t){this.index_=t}updateChild(t,e,o,l,d,m){(0,O.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const y=t.getImmediateChild(e);return y.getChild(l).equals(o.getChild(l))&&y.isEmpty()===o.isEmpty()||(null!=m&&(o.isEmpty()?t.hasChild(e)?m.trackChildChange(I5(e,y)):(0,O.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):y.isEmpty()?m.trackChildChange(Ac(e,o)):m.trackChildChange(S5(e,o,y))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(t,e,o){return null!=o&&(t.isLeafNode()||t.forEachChild(N1,(l,d)=>{e.hasChild(l)||o.trackChildChange(I5(l,d))}),e.isLeafNode()||e.forEachChild(N1,(l,d)=>{if(t.hasChild(l)){const m=t.getImmediateChild(l);m.equals(d)||o.trackChildChange(S5(l,d,m))}else o.trackChildChange(Ac(l,d))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?_t.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class T5{constructor(t){this.indexedFilter_=new uE(t.getIndex()),this.index_=t.getIndex(),this.startPost_=T5.getStartPost_(t),this.endPost_=T5.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,o,l,d,m){return this.matches(new Ht(e,o))||(o=_t.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,o,l,d,m)}updateFullNode(t,e,o){e.isLeafNode()&&(e=_t.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(_t.EMPTY_NODE);const d=this;return e.forEachChild(N1,(m,y)=>{d.matches(new Ht(m,y))||(l=l.updateImmediateChild(m,_t.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class xL{constructor(t){this.rangedFilter_=new T5(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,o,l,d,m){return this.rangedFilter_.matches(new Ht(e,o))||(o=_t.EMPTY_NODE),t.getImmediateChild(e).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,o,l,d,m):this.fullLimitUpdateChild_(t,e,o,d,m)}updateFullNode(t,e,o){let l;if(e.isLeafNode()||e.isEmpty())l=_t.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;l=_t.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let m=0;for(;d.hasNext()&&m<this.limit_;){const y=d.getNext();let A;if(A=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),y)<=0:this.index_.compare(y,this.rangedFilter_.getEndPost())<=0,!A)break;l=l.updateImmediateChild(y.name,y.node),m++}}else{let d,m,y,A;if(l=e.withIndex(this.index_),l=l.updatePriority(_t.EMPTY_NODE),this.reverse_){A=l.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),m=this.rangedFilter_.getStartPost();const V=this.index_.getCompare();y=(Y,he)=>V(he,Y)}else A=l.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),m=this.rangedFilter_.getEndPost(),y=this.index_.getCompare();let T=0,P=!1;for(;A.hasNext();){const V=A.getNext();!P&&y(d,V)<=0&&(P=!0),P&&T<this.limit_&&y(V,m)<=0?T++:l=l.updateImmediateChild(V.name,_t.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,o,l,d){let m;if(this.reverse_){const V=this.index_.getCompare();m=(Y,he)=>V(he,Y)}else m=this.index_.getCompare();const y=t;(0,O.hu)(y.numChildren()===this.limit_,"");const A=new Ht(e,o),T=this.reverse_?y.getFirstChild(this.index_):y.getLastChild(this.index_),P=this.rangedFilter_.matches(A);if(y.hasChild(e)){const V=y.getImmediateChild(e);let Y=l.getChildAfterChild(this.index_,T,this.reverse_);for(;null!=Y&&(Y.name===e||y.hasChild(Y.name));)Y=l.getChildAfterChild(this.index_,Y,this.reverse_);const he=null==Y?1:m(Y,A);if(P&&!o.isEmpty()&&he>=0)return null!=d&&d.trackChildChange(S5(e,o,V)),y.updateImmediateChild(e,o);{null!=d&&d.trackChildChange(I5(e,V));const Fe=y.updateImmediateChild(e,_t.EMPTY_NODE);return null!=Y&&this.rangedFilter_.matches(Y)?(null!=d&&d.trackChildChange(Ac(Y.name,Y.node)),Fe.updateImmediateChild(Y.name,Y.node)):Fe}}return o.isEmpty()?t:P&&m(T,A)>=0?(null!=d&&(d.trackChildChange(I5(T.name,T.node)),d.trackChildChange(Ac(e,o))),y.updateImmediateChild(e,o).updateImmediateChild(T.name,_t.EMPTY_NODE)):t}}class Dh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=N1}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:f4}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ds}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,O.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===N1}copy(){const t=new Dh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function fE(n,t,e){const o=n.copy();return o.startSet_=!0,void 0===t&&(t=null),o.indexStartValue_=t,null!=e?(o.startNameSet_=!0,o.indexStartName_=e):(o.startNameSet_=!1,o.indexStartName_=""),o}function dE(n,t,e){const o=n.copy();return o.endSet_=!0,void 0===t&&(t=null),o.indexEndValue_=t,void 0!==e?(o.endNameSet_=!0,o.indexEndName_=e):(o.endNameSet_=!1,o.indexEndName_=""),o}function zh(n,t){const e=n.copy();return e.index_=t,e}function jT(n){const t={};if(n.isDefault())return t;let e;return n.index_===N1?e="$priority":n.index_===cE?e="$value":n.index_===hs?e="$key":((0,O.hu)(n.index_ instanceof aE,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,O.Pz)(e),n.startSet_&&(t.startAt=(0,O.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,O.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,O.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,O.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function ZT(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==N1&&(t.i=n.index_.toString()),t}class Nh extends AT{constructor(t,e,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=g5("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,O.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,o,l){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const m=Nh.getListenId_(t,o),y={};this.listens_[m]=y;const A=jT(t._queryParams);this.restRequest_(d+".json",A,(T,P)=>{let V=P;if(404===T&&(V=null,T=null),null===T&&this.onDataUpdate_(d,V,!1,o),(0,O.DV)(this.listens_,m)===y){let Y;Y=T?401===T?"permission_denied":"rest_error:"+T:"ok",l(Y,null)}})}unlisten(t,e){const o=Nh.getListenId_(t,e);delete this.listens_[o]}get(t){const e=jT(t._queryParams),o=t._path.toString(),l=new O.BH;return this.restRequest_(o+".json",e,(d,m)=>{let y=m;404===d&&(y=null,d=null),null===d?(this.onDataUpdate_(o,y,!1,null),l.resolve(y)):l.reject(new Error(y))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,d])=>{l&&l.accessToken&&(e.auth=l.accessToken),d&&d.token&&(e.ac=d.token);const m=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,O.xO)(e);this.log_("Sending REST request for "+m);const y=new XMLHttpRequest;y.onreadystatechange=()=>{if(o&&4===y.readyState){this.log_("REST Response for "+m+" received. status:",y.status,"response:",y.responseText);let A=null;if(y.status>=200&&y.status<300){try{A=(0,O.cI)(y.responseText)}catch(T){O2("Failed to parse JSON response for "+m+": "+y.responseText)}o(null,A)}else 401!==y.status&&404!==y.status&&O2("Got unsuccessful REST response for "+m+" Status: "+y.status),o(y.status);o=null}},y.open("GET",m,!0),y.send()})}}class RL{constructor(){this.rootNode_=_t.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Lh(){return{value:null,children:new Map}}function wc(n,t,e){if(Rt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const o=Vt(t);n.children.has(o)||n.children.set(o,Lh()),wc(n.children.get(o),t=E1(t),e)}}function hE(n,t){if(Rt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(N1,(o,l)=>{wc(n,new m1(o),l)}),hE(n,t)}}if(n.children.size>0){const e=Vt(t);return t=E1(t),n.children.has(e)&&hE(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function pE(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,o)=>{t(o,e)})}(n,(o,l)=>{pE(l,new m1(t.toString()+"/"+o),e)})}class kL{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&jn(this.last_,(o,l)=>{e[o]=e[o]-l}),this.last_=t,e}}class FL{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new kL(t);const o=1e4+2e4*Math.random();_5(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),e={};let o=!1;jn(t,(l,d)=>{d>0&&(0,O.r3)(this.statsToReport_,l)&&(e[l]=d,o=!0)}),o&&this.server_.reportStats(e),_5(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Si=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Si||(Si={})),Si))();function vE(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Vh{constructor(t,e,o){this.path=t,this.affectedTree=e,this.revert=o,this.type=Si.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Rt(this.path)){if(null!=this.affectedTree.value)return(0,O.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new m1(t));return new Vh(a1(),e,this.revert)}}return(0,O.hu)(Vt(this.path)===t,"operationForChild called for unrelated child."),new Vh(E1(this.path),this.affectedTree,this.revert)}}class x5{constructor(t,e){this.source=t,this.path=e,this.type=Si.LISTEN_COMPLETE}operationForChild(t){return Rt(this.path)?new x5(this.source,a1()):new x5(this.source,E1(this.path))}}class N0{constructor(t,e,o){this.source=t,this.path=e,this.snap=o,this.type=Si.OVERWRITE}operationForChild(t){return Rt(this.path)?new N0(this.source,a1(),this.snap.getImmediateChild(t)):new N0(this.source,E1(this.path),this.snap)}}class Ic{constructor(t,e,o){this.source=t,this.path=e,this.children=o,this.type=Si.MERGE}operationForChild(t){if(Rt(this.path)){const e=this.children.subtree(new m1(t));return e.isEmpty()?null:e.value?new N0(this.source,a1(),e.value):new Ic(this.source,a1(),e)}return(0,O.hu)(Vt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ic(this.source,E1(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ga{constructor(t,e,o){this.node_=t,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Rt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Vt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class UL{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function D5(n,t,e,o,l,d){const m=o.filter(y=>y.type===e);m.sort((y,A)=>function(n,t,e){if(null==t.childName||null==e.childName)throw(0,O.g5)("Should only compare child_ events.");const o=new Ht(t.childName,t.snapshotNode),l=new Ht(e.childName,e.snapshotNode);return n.index_.compare(o,l)}(n,y,A)),m.forEach(y=>{const A=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,y,d);l.forEach(T=>{T.respondsTo(y.type)&&t.push(T.createEvent(A,n.query_))})})}function Rh(n,t){return{eventCache:n,serverCache:t}}function z5(n,t,e,o){return Rh(new Ga(t,e,o),n.serverCache)}function WT(n,t,e,o){return Rh(n.eventCache,new Ga(t,e,o))}function Ph(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function L0(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let _E;class L1{constructor(t,e=(()=>(_E||(_E=new ir(SN)),_E))()){this.value=t,this.children=e}static fromObject(t){let e=new L1(null);return jn(t,(o,l)=>{e=e.set(new m1(o),l)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:a1(),value:this.value};if(Rt(t))return null;{const o=Vt(t),l=this.children.get(o);if(null!==l){const d=l.findRootMostMatchingPathAndValue(E1(t),e);return null!=d?{path:F1(new m1(o),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Rt(t))return this;{const e=Vt(t),o=this.children.get(e);return null!==o?o.subtree(E1(t)):new L1(null)}}set(t,e){if(Rt(t))return new L1(e,this.children);{const o=Vt(t),d=(this.children.get(o)||new L1(null)).set(E1(t),e),m=this.children.insert(o,d);return new L1(this.value,m)}}remove(t){if(Rt(t))return this.children.isEmpty()?new L1(null):new L1(null,this.children);{const e=Vt(t),o=this.children.get(e);if(o){const l=o.remove(E1(t));let d;return d=l.isEmpty()?this.children.remove(e):this.children.insert(e,l),null===this.value&&d.isEmpty()?new L1(null):new L1(this.value,d)}return this}}get(t){if(Rt(t))return this.value;{const e=Vt(t),o=this.children.get(e);return o?o.get(E1(t)):null}}setTree(t,e){if(Rt(t))return e;{const o=Vt(t),d=(this.children.get(o)||new L1(null)).setTree(E1(t),e);let m;return m=d.isEmpty()?this.children.remove(o):this.children.insert(o,d),new L1(this.value,m)}}fold(t){return this.fold_(a1(),t)}fold_(t,e){const o={};return this.children.inorderTraversal((l,d)=>{o[l]=d.fold_(F1(t,l),e)}),e(t,this.value,o)}findOnPath(t,e){return this.findOnPath_(t,a1(),e)}findOnPath_(t,e,o){const l=!!this.value&&o(e,this.value);if(l)return l;if(Rt(t))return null;{const d=Vt(t),m=this.children.get(d);return m?m.findOnPath_(E1(t),F1(e,d),o):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,a1(),e)}foreachOnPath_(t,e,o){if(Rt(t))return this;{this.value&&o(e,this.value);const l=Vt(t),d=this.children.get(l);return d?d.foreachOnPath_(E1(t),F1(e,l),o):new L1(null)}}foreach(t){this.foreach_(a1(),t)}foreach_(t,e){this.children.inorderTraversal((o,l)=>{l.foreach_(F1(t,o),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,o)=>{o.value&&t(e,o.value)})}}class mo{constructor(t){this.writeTree_=t}static empty(){return new mo(new L1(null))}}function N5(n,t,e){if(Rt(t))return new mo(new L1(e));{const o=n.writeTree_.findRootMostValueAndPath(t);if(null!=o){const l=o.path;let d=o.value;const m=H2(l,t);return d=d.updateChild(m,e),new mo(n.writeTree_.set(l,d))}{const l=new L1(e),d=n.writeTree_.setTree(t,l);return new mo(d)}}}function yE(n,t,e){let o=n;return jn(e,(l,d)=>{o=N5(o,F1(t,l),d)}),o}function GT(n,t){if(Rt(t))return mo.empty();{const e=n.writeTree_.setTree(t,new L1(null));return new mo(e)}}function CE(n,t){return null!=V0(n,t)}function V0(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(H2(e.path,t)):null}function qT(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(N1,(o,l)=>{t.push(new Ht(o,l))}):n.writeTree_.children.inorderTraversal((o,l)=>{null!=l.value&&t.push(new Ht(o,l.value))}),t}function qa(n,t){if(Rt(t))return n;{const e=V0(n,t);return new mo(null!=e?new L1(e):n.writeTree_.subtree(t))}}function bE(n){return n.writeTree_.isEmpty()}function Sc(n,t){return YT(a1(),n.writeTree_,t)}function YT(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let o=null;return t.children.inorderTraversal((l,d)=>{".priority"===l?((0,O.hu)(null!==d.value,"Priority writes must always be leaf nodes"),o=d.value):e=YT(F1(n,l),d,e)}),!e.getChild(n).isEmpty()&&null!==o&&(e=e.updateChild(F1(n,".priority"),o)),e}}function kh(n,t){return ex(t,n)}function KL(n,t){if(n.snap)return Ii(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ii(F1(n.path,e),t))return!0;return!1}function JL(n){return n.visible}function KT(n,t,e){let o=mo.empty();for(let l=0;l<n.length;++l){const d=n[l];if(t(d)){const m=d.path;let y;if(d.snap)Ii(e,m)?(y=H2(e,m),o=N5(o,y,d.snap)):Ii(m,e)&&(y=H2(m,e),o=N5(o,a1(),d.snap.getChild(y)));else{if(!d.children)throw(0,O.g5)("WriteRecord should have .snap or .children");if(Ii(e,m))y=H2(e,m),o=yE(o,y,d.children);else if(Ii(m,e))if(y=H2(m,e),Rt(y))o=yE(o,a1(),d.children);else{const A=(0,O.DV)(d.children,Vt(y));if(A){const T=A.getChild(E1(y));o=N5(o,a1(),T)}}}}}return o}function QT(n,t,e,o,l){if(o||l){const d=qa(n.visibleWrites,t);return!l&&bE(d)?e:l||null!=e||CE(d,a1())?Sc(KT(n.allWrites,function(T){return(T.visible||l)&&(!o||!~o.indexOf(T.writeId))&&(Ii(T.path,t)||Ii(t,T.path))},t),e||_t.EMPTY_NODE):null}{const d=V0(n.visibleWrites,t);if(null!=d)return d;{const m=qa(n.visibleWrites,t);return bE(m)?e:null!=e||CE(m,a1())?Sc(m,e||_t.EMPTY_NODE):null}}}function Oh(n,t,e,o){return QT(n.writeTree,n.treePath,t,e,o)}function ME(n,t){return function(n,t,e){let o=_t.EMPTY_NODE;const l=V0(n.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(N1,(d,m)=>{o=o.updateImmediateChild(d,m)}),o;if(e){const d=qa(n.visibleWrites,t);return e.forEachChild(N1,(m,y)=>{const A=Sc(qa(d,new m1(m)),y);o=o.updateImmediateChild(m,A)}),qT(d).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}return qT(qa(n.visibleWrites,t)).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}(n.writeTree,n.treePath,t)}function JT(n,t,e,o){return function(n,t,e,o,l){(0,O.hu)(o||l,"Either existingEventSnap or existingServerSnap must exist");const d=F1(t,e);if(CE(n.visibleWrites,d))return null;{const m=qa(n.visibleWrites,d);return bE(m)?l.getChild(e):Sc(m,l.getChild(e))}}(n.writeTree,n.treePath,t,e,o)}function Hh(n,t){return function(n,t){return V0(n.visibleWrites,t)}(n.writeTree,F1(n.treePath,t))}function EE(n,t,e){return function(n,t,e,o){const l=F1(t,e),d=V0(n.visibleWrites,l);return null!=d?d:o.isCompleteForChild(e)?Sc(qa(n.visibleWrites,l),o.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function XT(n,t){return ex(F1(n.treePath,t),n.writeTree)}function ex(n,t){return{treePath:n,writeTree:t}}class sV{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,o=t.childName;(0,O.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,O.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const d=l.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(o,S5(o,t.snapshotNode,l.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(o,I5(o,l.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(o,Ac(o,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,O.g5)("Illegal combination of changes: "+t+" occurred after "+l);this.changeMap.set(o,S5(o,t.snapshotNode,l.oldSnap))}}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}const tx=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,o){return null}};class AE{constructor(t,e,o=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const o=null!=this.optCompleteServerCache_?new Ga(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return EE(this.writes_,t,o)}}getChildAfterChild(t,e,o){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:L0(this.viewCache_),d=function(n,t,e,o,l,d){return function(n,t,e,o,l,d,m){let y;const A=qa(n.visibleWrites,t),T=V0(A,a1());if(null!=T)y=T;else{if(null==e)return[];y=Sc(A,e)}if(y=y.withIndex(m),y.isEmpty()||y.isLeafNode())return[];{const P=[],V=m.getCompare(),Y=d?y.getReverseIteratorFrom(o,m):y.getIteratorFrom(o,m);let he=Y.getNext();for(;he&&P.length<l;)0!==V(he,o)&&P.push(he),he=Y.getNext();return P}}(n.writeTree,n.treePath,t,e,o,l,d)}(this.writes_,l,e,1,o,t);return 0===d.length?null:d[0]}}function nx(n,t,e,o,l,d){const m=t.eventCache;if(null!=Hh(o,e))return t;{let y,A;if(Rt(e))if((0,O.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const T=L0(t),V=ME(o,T instanceof _t?T:_t.EMPTY_NODE);y=n.filter.updateFullNode(t.eventCache.getNode(),V,d)}else{const T=Oh(o,L0(t));y=n.filter.updateFullNode(t.eventCache.getNode(),T,d)}else{const T=Vt(e);if(".priority"===T){(0,O.hu)(1===Wa(e),"Can't have a priority with additional path components");const P=m.getNode();A=t.serverCache.getNode();const V=JT(o,e,P,A);y=null!=V?n.filter.updatePriority(P,V):m.getNode()}else{const P=E1(e);let V;if(m.isCompleteForChild(T)){A=t.serverCache.getNode();const Y=JT(o,e,m.getNode(),A);V=null!=Y?m.getNode().getImmediateChild(T).updateChild(P,Y):m.getNode().getImmediateChild(T)}else V=EE(o,T,t.serverCache);y=null!=V?n.filter.updateChild(m.getNode(),T,V,P,l,d):m.getNode()}}return z5(t,y,m.isFullyInitialized()||Rt(e),n.filter.filtersNodes())}}function Fh(n,t,e,o,l,d,m,y){const A=t.serverCache;let T;const P=m?n.filter:n.filter.getIndexedFilter();if(Rt(e))T=P.updateFullNode(A.getNode(),o,null);else if(P.filtersNodes()&&!A.isFiltered()){const he=A.getNode().updateChild(e,o);T=P.updateFullNode(A.getNode(),he,null)}else{const he=Vt(e);if(!A.isCompleteForPath(e)&&Wa(e)>1)return t;const xe=E1(e),Ye=A.getNode().getImmediateChild(he).updateChild(xe,o);T=".priority"===he?P.updatePriority(A.getNode(),Ye):P.updateChild(A.getNode(),he,Ye,xe,tx,null)}const V=WT(t,T,A.isFullyInitialized()||Rt(e),P.filtersNodes());return nx(n,V,e,l,new AE(l,V,d),y)}function wE(n,t,e,o,l,d,m){const y=t.eventCache;let A,T;const P=new AE(l,t,d);if(Rt(e))T=n.filter.updateFullNode(t.eventCache.getNode(),o,m),A=z5(t,T,!0,n.filter.filtersNodes());else{const V=Vt(e);if(".priority"===V)T=n.filter.updatePriority(t.eventCache.getNode(),o),A=z5(t,T,y.isFullyInitialized(),y.isFiltered());else{const Y=E1(e),he=y.getNode().getImmediateChild(V);let xe;if(Rt(Y))xe=o;else{const Fe=P.getCompleteChild(V);xe=null!=Fe?".priority"===tE(Y)&&Fe.getChild(TT(Y)).isEmpty()?Fe:Fe.updateChild(Y,o):_t.EMPTY_NODE}A=he.equals(xe)?t:z5(t,n.filter.updateChild(y.getNode(),V,xe,Y,P,m),y.isFullyInitialized(),n.filter.filtersNodes())}}return A}function rx(n,t){return n.eventCache.isCompleteForChild(t)}function ix(n,t,e){return e.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function IE(n,t,e,o,l,d,m,y){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let T,A=t;T=Rt(e)?o:new L1(null).setTree(e,o);const P=t.serverCache.getNode();return T.children.inorderTraversal((V,Y)=>{if(P.hasChild(V)){const xe=ix(0,t.serverCache.getNode().getImmediateChild(V),Y);A=Fh(n,A,new m1(V),xe,l,d,m,y)}}),T.children.inorderTraversal((V,Y)=>{const he=!t.serverCache.isCompleteForChild(V)&&void 0===Y.value;if(!P.hasChild(V)&&!he){const Fe=ix(0,t.serverCache.getNode().getImmediateChild(V),Y);A=Fh(n,A,new m1(V),Fe,l,d,m,y)}}),A}class gV{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new uE(o.getIndex()),d=function(n){return n.loadsAllData()?new uE(n.getIndex()):n.hasLimit()?new xL(n):new T5(n)}(o);this.processor_=function(n){return{filter:n}}(d);const m=e.serverCache,y=e.eventCache,A=l.updateFullNode(_t.EMPTY_NODE,m.getNode(),null),T=d.updateFullNode(_t.EMPTY_NODE,y.getNode(),null),P=new Ga(A,m.isFullyInitialized(),l.filtersNodes()),V=new Ga(T,y.isFullyInitialized(),d.filtersNodes());this.viewCache_=Rh(V,P),this.eventGenerator_=new UL(this.query_)}get query(){return this.query_}}function yV(n,t){const e=L0(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Rt(t)&&!e.getImmediateChild(Vt(t)).isEmpty())?e.getChild(t):null}function ox(n){return 0===n.eventRegistrations_.length}function sx(n,t,e){const o=[];if(e){(0,O.hu)(null==t,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(d=>{const m=d.createCancelEvent(e,l);m&&o.push(m)})}if(t){let l=[];for(let d=0;d<n.eventRegistrations_.length;++d){const m=n.eventRegistrations_[d];if(m.matches(t)){if(t.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(d+1));break}}else l.push(m)}n.eventRegistrations_=l}else n.eventRegistrations_=[];return o}function ax(n,t,e,o){t.type===Si.MERGE&&null!==t.source.queryId&&((0,O.hu)(L0(n.viewCache_),"We should always have a full cache before handling merges"),(0,O.hu)(Ph(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,d=function(n,t,e,o,l){const d=new sV;let m,y;if(e.type===Si.OVERWRITE){const T=e;T.source.fromUser?m=wE(n,t,T.path,T.snap,o,l,d):((0,O.hu)(T.source.fromServer,"Unknown source."),y=T.source.tagged||t.serverCache.isFiltered()&&!Rt(T.path),m=Fh(n,t,T.path,T.snap,o,l,y,d))}else if(e.type===Si.MERGE){const T=e;T.source.fromUser?m=function(n,t,e,o,l,d,m){let y=t;return o.foreach((A,T)=>{const P=F1(e,A);rx(t,Vt(P))&&(y=wE(n,y,P,T,l,d,m))}),o.foreach((A,T)=>{const P=F1(e,A);rx(t,Vt(P))||(y=wE(n,y,P,T,l,d,m))}),y}(n,t,T.path,T.children,o,l,d):((0,O.hu)(T.source.fromServer,"Unknown source."),y=T.source.tagged||t.serverCache.isFiltered(),m=IE(n,t,T.path,T.children,o,l,y,d))}else if(e.type===Si.ACK_USER_WRITE){const T=e;m=T.revert?function(n,t,e,o,l,d){let m;if(null!=Hh(o,e))return t;{const y=new AE(o,t,l),A=t.eventCache.getNode();let T;if(Rt(e)||".priority"===Vt(e)){let P;if(t.serverCache.isFullyInitialized())P=Oh(o,L0(t));else{const V=t.serverCache.getNode();(0,O.hu)(V instanceof _t,"serverChildren would be complete if leaf node"),P=ME(o,V)}P=P,T=n.filter.updateFullNode(A,P,d)}else{const P=Vt(e);let V=EE(o,P,t.serverCache);null==V&&t.serverCache.isCompleteForChild(P)&&(V=A.getImmediateChild(P)),T=null!=V?n.filter.updateChild(A,P,V,E1(e),y,d):t.eventCache.getNode().hasChild(P)?n.filter.updateChild(A,P,_t.EMPTY_NODE,E1(e),y,d):A,T.isEmpty()&&t.serverCache.isFullyInitialized()&&(m=Oh(o,L0(t)),m.isLeafNode()&&(T=n.filter.updateFullNode(T,m,d)))}return m=t.serverCache.isFullyInitialized()||null!=Hh(o,a1()),z5(t,T,m,n.filter.filtersNodes())}}(n,t,T.path,o,l,d):function(n,t,e,o,l,d,m){if(null!=Hh(l,e))return t;const y=t.serverCache.isFiltered(),A=t.serverCache;if(null!=o.value){if(Rt(e)&&A.isFullyInitialized()||A.isCompleteForPath(e))return Fh(n,t,e,A.getNode().getChild(e),l,d,y,m);if(Rt(e)){let T=new L1(null);return A.getNode().forEachChild(hs,(P,V)=>{T=T.set(new m1(P),V)}),IE(n,t,e,T,l,d,y,m)}return t}{let T=new L1(null);return o.foreach((P,V)=>{const Y=F1(e,P);A.isCompleteForPath(Y)&&(T=T.set(P,A.getNode().getChild(Y)))}),IE(n,t,e,T,l,d,y,m)}}(n,t,T.path,T.affectedTree,o,l,d)}else{if(e.type!==Si.LISTEN_COMPLETE)throw(0,O.g5)("Unknown operation type: "+e.type);m=function(n,t,e,o,l){const d=t.serverCache;return nx(n,WT(t,d.getNode(),d.isFullyInitialized()||Rt(e),d.isFiltered()),e,o,tx,l)}(n,t,e.path,o,d)}const A=d.getChanges();return function(n,t,e){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),d=Ph(n);(e.length>0||!n.eventCache.isFullyInitialized()||l&&!o.getNode().equals(d)||!o.getNode().getPriority().equals(d.getPriority()))&&e.push(BT(Ph(t)))}}(t,m,A),{viewCache:m,changes:A}}(n.processor_,l,t,e,o);return function(n,t){(0,O.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,O.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,d.viewCache),(0,O.hu)(d.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=d.viewCache,cx(n,d.changes,d.viewCache.eventCache.getNode(),null)}function cx(n,t,e,o){return function(n,t,e,o){const l=[],d=[];return t.forEach(m=>{"child_changed"===m.type&&n.index_.indexedValueChanged(m.oldSnap,m.snapshotNode)&&d.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(m.childName,m.snapshotNode))}),D5(n,l,"child_removed",t,o,e),D5(n,l,"child_added",t,o,e),D5(n,l,"child_moved",d,o,e),D5(n,l,"child_changed",t,o,e),D5(n,l,"value",t,o,e),l}(n.eventGenerator_,t,e,o?[o]:n.eventRegistrations_)}let Uh,jh;class lx{constructor(){this.views=new Map}}function SE(n,t,e,o){const l=t.source.queryId;if(null!==l){const d=n.views.get(l);return(0,O.hu)(null!=d,"SyncTree gave us an op for an invalid query."),ax(d,t,e,o)}{let d=[];for(const m of n.views.values())d=d.concat(ax(m,t,e,o));return d}}function ux(n,t,e,o,l){const m=n.views.get(t._queryIdentifier);if(!m){let y=Oh(e,l?o:null),A=!1;y?A=!0:o instanceof _t?(y=ME(e,o),A=!1):(y=_t.EMPTY_NODE,A=!1);const T=Rh(new Ga(y,A,!1),new Ga(o,l,!1));return new gV(t,T)}return m}function fx(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Ya(n,t){let e=null;for(const o of n.views.values())e=e||yV(o,t);return e}function dx(n,t){return t._queryParams.loadsAllData()?Bh(n):n.views.get(t._queryIdentifier)}function hx(n,t){return null!=dx(n,t)}function Ka(n){return null!=Bh(n)}function Bh(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let xV=1;class px{constructor(t){this.listenProvider_=t,this.syncPointTree_=new L1(null),this.pendingWriteTree_={visibleWrites:mo.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function TE(n,t,e,o,l){return function(n,t,e,o,l){(0,O.hu)(o>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),n.allWrites.push({path:t,snap:e,writeId:o,visible:l}),l&&(n.visibleWrites=N5(n.visibleWrites,t,e)),n.lastWriteId=o}(n.pendingWriteTree_,t,e,o,l),l?Tc(n,new N0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Qa(n,t,e=!1){const o=function(n,t){for(let e=0;e<n.allWrites.length;e++){const o=n.allWrites[e];if(o.writeId===t)return o}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(y=>y.writeId===t);(0,O.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=n.allWrites[e];n.allWrites.splice(e,1);let l=o.visible,d=!1,m=n.allWrites.length-1;for(;l&&m>=0;){const y=n.allWrites[m];y.visible&&(m>=e&&KL(y,o.path)?l=!1:Ii(o.path,y.path)&&(d=!0)),m--}return!!l&&(d?(function(n){n.visibleWrites=KT(n.allWrites,JL,a1()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(o.snap?n.visibleWrites=GT(n.visibleWrites,o.path):jn(o.children,A=>{n.visibleWrites=GT(n.visibleWrites,F1(o.path,A))}),!0))}(n.pendingWriteTree_,t)){let d=new L1(null);return null!=o.snap?d=d.set(a1(),!0):jn(o.children,m=>{d=d.set(new m1(m),!0)}),Tc(n,new Vh(o.path,d,e))}return[]}function L5(n,t,e){return Tc(n,new N0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function xE(n,t,e,o){const l=t._path,d=n.syncPointTree_.get(l);let m=[];if(d&&("default"===t._queryIdentifier||hx(d,t))){const y=function(n,t,e,o){const l=t._queryIdentifier,d=[];let m=[];const y=Ka(n);if("default"===l)for(const[A,T]of n.views.entries())m=m.concat(sx(T,e,o)),ox(T)&&(n.views.delete(A),T.query._queryParams.loadsAllData()||d.push(T.query));else{const A=n.views.get(l);A&&(m=m.concat(sx(A,e,o)),ox(A)&&(n.views.delete(l),A.query._queryParams.loadsAllData()||d.push(A.query)))}return y&&!Ka(n)&&d.push(new((0,O.hu)(Uh,"Reference.ts has not been loaded"),Uh)(t._repo,t._path)),{removed:d,events:m}}(d,t,e,o);(function(n){return 0===n.views.size})(d)&&(n.syncPointTree_=n.syncPointTree_.remove(l));const A=y.removed;m=y.events;const T=-1!==A.findIndex(V=>V._queryParams.loadsAllData()),P=n.syncPointTree_.findOnPath(l,(V,Y)=>Ka(Y));if(T&&!P){const V=n.syncPointTree_.subtree(l);if(!V.isEmpty()){const Y=function(n){return n.fold((t,e,o)=>{if(e&&Ka(e))return[Bh(e)];{let l=[];return e&&(l=fx(e)),jn(o,(d,m)=>{l=l.concat(m)}),l}})}(V);for(let he=0;he<Y.length;++he){const xe=Y[he],Fe=xe.query,Ye=_x(n,xe);n.listenProvider_.startListening(V5(Fe),$h(n,Fe),Ye.hashFn,Ye.onComplete)}}}if(!P&&A.length>0&&!o)if(T){const V=null;n.listenProvider_.stopListening(V5(t),V)}else A.forEach(V=>{const Y=n.queryToTagMap.get(Wh(V));n.listenProvider_.stopListening(V5(V),Y)});!function(n,t){for(let e=0;e<t.length;++e){const o=t[e];if(!o._queryParams.loadsAllData()){const l=Wh(o),d=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(d)}}}(n,A)}return m}function mx(n,t,e){const o=t._path;let l=null,d=!1;n.syncPointTree_.foreachOnPath(o,(V,Y)=>{const he=H2(V,o);l=l||Ya(Y,he),d=d||Ka(Y)});let y,m=n.syncPointTree_.get(o);m?(d=d||Ka(m),l=l||Ya(m,a1())):(m=new lx,n.syncPointTree_=n.syncPointTree_.set(o,m)),null!=l?y=!0:(y=!1,l=_t.EMPTY_NODE,n.syncPointTree_.subtree(o).foreachChild((Y,he)=>{const xe=Ya(he,a1());xe&&(l=l.updateImmediateChild(Y,xe))}));const A=hx(m,t);if(!A&&!t._queryParams.loadsAllData()){const V=Wh(t);(0,O.hu)(!n.queryToTagMap.has(V),"View does not exist, but we have a tag");const Y=xV++;n.queryToTagMap.set(V,Y),n.tagToQueryMap.set(Y,V)}let P=function(n,t,e,o,l,d){const m=ux(n,t,o,l,d);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,m),function(n,t){n.eventRegistrations_.push(t)}(m,e),function(n,t){const e=n.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(N1,(d,m)=>{o.push(Ac(d,m))}),e.isFullyInitialized()&&o.push(BT(e.getNode())),cx(n,o,e.getNode(),t)}(m,e)}(m,t,e,kh(n.pendingWriteTree_,o),l,y);if(!A&&!d){const V=dx(m,t);P=P.concat(function(n,t,e){const o=t._path,l=$h(n,t),d=_x(n,e),m=n.listenProvider_.startListening(V5(t),l,d.hashFn,d.onComplete),y=n.syncPointTree_.subtree(o);if(l)(0,O.hu)(!Ka(y.value),"If we're adding a query, it shouldn't be shadowed");else{const A=y.fold((T,P,V)=>{if(!Rt(T)&&P&&Ka(P))return[Bh(P).query];{let Y=[];return P&&(Y=Y.concat(fx(P).map(he=>he.query))),jn(V,(he,xe)=>{Y=Y.concat(xe)}),Y}});for(let T=0;T<A.length;++T){const P=A[T];n.listenProvider_.stopListening(V5(P),$h(n,P))}}return m}(n,t,V))}return P}function Zh(n,t,e){const l=n.pendingWriteTree_,d=n.syncPointTree_.findOnPath(t,(m,y)=>{const T=Ya(y,H2(m,t));if(T)return T});return QT(l,t,d,e,!0)}function Tc(n,t){return gx(t,n.syncPointTree_,null,kh(n.pendingWriteTree_,a1()))}function gx(n,t,e,o){if(Rt(n.path))return vx(n,t,e,o);{const l=t.get(a1());null==e&&null!=l&&(e=Ya(l,a1()));let d=[];const m=Vt(n.path),y=n.operationForChild(m),A=t.children.get(m);if(A&&y){const T=e?e.getImmediateChild(m):null,P=XT(o,m);d=d.concat(gx(y,A,T,P))}return l&&(d=d.concat(SE(l,n,o,e))),d}}function vx(n,t,e,o){const l=t.get(a1());null==e&&null!=l&&(e=Ya(l,a1()));let d=[];return t.children.inorderTraversal((m,y)=>{const A=e?e.getImmediateChild(m):null,T=XT(o,m),P=n.operationForChild(m);P&&(d=d.concat(vx(P,y,A,T)))}),l&&(d=d.concat(SE(l,n,o,e))),d}function _x(n,t){const e=t.query,o=$h(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||_t.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return o?function(n,t,e){const o=DE(n,e);if(o){const l=zE(o),d=l.path,m=l.queryId,y=H2(d,t);return NE(n,d,new x5(vE(m),y))}return[]}(n,e._path,o):function(n,t){return Tc(n,new x5({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const d=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const o=new Error(n+" at "+t._path.toString()+": "+e);return o.code=n.toUpperCase(),o}(l,e);return xE(n,e,null,d)}}}}function $h(n,t){const e=Wh(t);return n.queryToTagMap.get(e)}function Wh(n){return n._path.toString()+"$"+n._queryIdentifier}function DE(n,t){return n.tagToQueryMap.get(t)}function zE(n){const t=n.indexOf("$");return(0,O.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new m1(n.substr(0,t))}}function NE(n,t,e){const o=n.syncPointTree_.get(t);return(0,O.hu)(o,"Missing sync point for query tag that we're tracking"),SE(o,e,kh(n.pendingWriteTree_,t),null)}function V5(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,O.hu)(jh,"Reference.ts has not been loaded"),jh)(n._repo,n._path):n}class LE{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new LE(e)}node(){return this.node_}}class VE{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=F1(this.path_,t);return new VE(this.syncTree_,e)}node(){return Zh(this.syncTree_,this.path_)}}const yx=function(n,t,e){return n&&"object"==typeof n?((0,O.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?BV(n[".sv"],t,e):"object"==typeof n[".sv"]?jV(n[".sv"],t):void(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},BV=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:(0,O.hu)(!1,"Unexpected server value: "+n)}},jV=function(n,t,e){n.hasOwnProperty("increment")||(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const o=n.increment;"number"!=typeof o&&(0,O.hu)(!1,"Unexpected increment value: "+o);const l=t.node();if((0,O.hu)(null!=l,"Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const m=l.getValue();return"number"!=typeof m?o:m+o},Cx=function(n,t,e,o){return PE(t,new VE(e,n),o)},RE=function(n,t,e){return PE(n,new LE(t),e)};function PE(n,t,e){const o=n.getPriority().val(),l=yx(o,t.getImmediateChild(".priority"),e);let d;if(n.isLeafNode()){const m=n,y=yx(m.getValue(),t,e);return y!==m.getValue()||l!==m.getPriority().val()?new bc(y,$1(l)):n}{const m=n;return d=m,l!==m.getPriority().val()&&(d=d.updatePriority(new bc(l))),m.forEachChild(N1,(y,A)=>{const T=PE(A,t.getImmediateChild(y),e);T!==A&&(d=d.updateImmediateChild(y,T))}),d}}class kE{constructor(t="",e=null,o={children:{},childCount:0}){this.name=t,this.parent=e,this.node=o}}function Gh(n,t){let e=t instanceof m1?t:new m1(t),o=n,l=Vt(e);for(;null!==l;){const d=(0,O.DV)(o.node.children,l)||{children:{},childCount:0};o=new kE(l,o,d),e=E1(e),l=Vt(e)}return o}function R0(n){return n.node.value}function OE(n,t){n.node.value=t,HE(n)}function bx(n){return n.node.childCount>0}function qh(n,t){jn(n.node.children,(e,o)=>{t(new kE(e,n,o))})}function Mx(n,t,e,o){e&&!o&&t(n),qh(n,l=>{Mx(l,t,!0,o)}),e&&o&&t(n)}function R5(n){return new m1(null===n.parent?n.name:R5(n.parent)+"/"+n.name)}function HE(n){null!==n.parent&&function(n,t,e){const o=function(n){return void 0===R0(n)&&!bx(n)}(e),l=(0,O.r3)(n.node.children,t);o&&l?(delete n.node.children[t],n.node.childCount--,HE(n)):!o&&!l&&(n.node.children[t]=e.node,n.node.childCount++,HE(n))}(n.parent,n.name,n)}const GV=/[\[\].#$\/\u0000-\u001F\u007F]/,qV=/[\[\].#$\u0000-\u001F\u007F]/,FE=10485760,Yh=function(n){return"string"==typeof n&&0!==n.length&&!GV.test(n)},Ex=function(n){return"string"==typeof n&&0!==n.length&&!qV.test(n)},P5=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Mh(n)||n&&"object"==typeof n&&(0,O.r3)(n,".sv")},ps=function(n,t,e,o){o&&void 0===t||k5((0,O.gK)(n,"value"),t,e)},k5=function(n,t,e){const o=e instanceof m1?new cL(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+D0(o));if("function"==typeof t)throw new Error(n+"contains a function "+D0(o)+" with contents = "+t.toString());if(Mh(t))throw new Error(n+"contains "+t.toString()+" "+D0(o));if("string"==typeof t&&t.length>FE/3&&(0,O.ug)(t)>FE)throw new Error(n+"contains a string greater than "+FE+" utf8 bytes "+D0(o)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let l=!1,d=!1;if(jn(t,(m,y)=>{if(".value"===m)l=!0;else if(".priority"!==m&&".sv"!==m&&(d=!0,!Yh(m)))throw new Error(n+" contains an invalid key ("+m+") "+D0(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,O.ug)(t),xT(n)})(o,m),k5(n,y,o),function(n){const t=n.parts_.pop();n.byteLength_-=(0,O.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(o)}),l&&d)throw new Error(n+' contains ".value" child '+D0(o)+" in addition to actual children.")}},Ax=function(n,t,e,o){if(o&&void 0===t)return;const l=(0,O.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const d=[];jn(t,(m,y)=>{const A=new m1(m);if(k5(l,y,F1(e,A)),".priority"===tE(A)&&!P5(y))throw new Error(l+"contains an invalid value for '"+A.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(A)}),function(n,t){let e,o;for(e=0;e<t.length;e++){o=t[e];const d=M5(o);for(let m=0;m<d.length;m++)if((".priority"!==d[m]||m!==d.length-1)&&!Yh(d[m]))throw new Error(n+"contains an invalid key ("+d[m]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(aL);let l=null;for(e=0;e<t.length;e++){if(o=t[e],null!==l&&Ii(l,o))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}}(l,d)},UE=function(n,t,e){if(!e||void 0!==t){if(Mh(t))throw new Error((0,O.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!P5(t))throw new Error((0,O.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},O5=function(n,t,e,o){if(!(o&&void 0===e||Yh(e)))throw new Error((0,O.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},H5=function(n,t,e,o){if(!(o&&void 0===e||Ex(e)))throw new Error((0,O.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ti=function(n,t){if(".info"===Vt(t))throw new Error(n+" failed = Can't modify data under /.info/")},wx=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Yh(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ex(n)}(e))throw new Error((0,O.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class JV{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Kh(n,t){let e=null;for(let o=0;o<t.length;o++){const l=t[o],d=l.getPath();null!==e&&!nE(d,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(l)}e&&n.eventLists_.push(e)}function BE(n,t,e){Kh(n,e),Ix(n,o=>nE(o,t))}function xi(n,t,e){Kh(n,e),Ix(n,o=>Ii(o,t)||Ii(t,o))}function Ix(n,t){n.recursionDepth_++;let e=!0;for(let o=0;o<n.eventLists_.length;o++){const l=n.eventLists_[o];l&&(t(l.path)?(XV(n.eventLists_[o]),n.eventLists_[o]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function XV(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const o=e.getEventRunner();T0&&Bn("event: "+e.toString()),yc(o)}}}const Sx="repo_interrupt";class tR{constructor(t,e,o,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new JV,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lh(),this.transactionQueueTree_=new kE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Tx(n){const e=n.infoData_.getNode(new m1(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function F5(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Tx(n)})}function xx(n,t,e,o,l){n.dataUpdateCount++;const d=new m1(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let m=[];if(l)if(o){const A=(0,O.UI)(e,T=>$1(T));m=function(n,t,e,o){const l=DE(n,o);if(l){const d=zE(l),m=d.path,y=d.queryId,A=H2(m,t),T=L1.fromObject(e);return NE(n,m,new Ic(vE(y),A,T))}return[]}(n.serverSyncTree_,d,A,l)}else{const A=$1(e);m=function(n,t,e,o){const l=DE(n,o);if(null!=l){const d=zE(l),m=d.path,y=d.queryId,A=H2(m,t);return NE(n,m,new N0(vE(y),A,e))}return[]}(n.serverSyncTree_,d,A,l)}else if(o){const A=(0,O.UI)(e,T=>$1(T));m=function(n,t,e){const o=L1.fromObject(e);return Tc(n,new Ic({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,o))}(n.serverSyncTree_,d,A)}else{const A=$1(e);m=L5(n.serverSyncTree_,d,A)}let y=d;m.length>0&&(y=Dc(n,d)),xi(n.eventQueue_,y,m)}function Dx(n,t){jE(n,"connected",t),!1===t&&function(n){xc(n,"onDisconnectEvents");const t=F5(n),e=Lh();pE(n.onDisconnect_,a1(),(l,d)=>{const m=Cx(l,d,n.serverSyncTree_,t);wc(e,l,m)});let o=[];pE(e,a1(),(l,d)=>{o=o.concat(L5(n.serverSyncTree_,l,d));const m=GE(n,l);Dc(n,m)}),n.onDisconnect_=Lh(),xi(n.eventQueue_,a1(),o)}(n)}function jE(n,t,e){const o=new m1("/.info/"+t),l=$1(e);n.infoData_.updateSnapshot(o,l);const d=L5(n.infoSyncTree_,o,l);xi(n.eventQueue_,o,d)}function Qh(n){return n.nextWriteId_++}function ZE(n,t,e,o,l){xc(n,"set",{path:t.toString(),value:e,priority:o});const d=F5(n),m=$1(e,o),y=Zh(n.serverSyncTree_,t),A=RE(m,y,d),T=Qh(n),P=TE(n.serverSyncTree_,t,A,T,!0);Kh(n.eventQueue_,P),n.server_.put(t.toString(),m.val(!0),(Y,he)=>{const xe="ok"===Y;xe||O2("set at "+t+" failed: "+Y);const Fe=Qa(n.serverSyncTree_,T,!xe);xi(n.eventQueue_,t,Fe),Ja(0,l,Y,he)});const V=GE(n,t);Dc(n,V),xi(n.eventQueue_,V,[])}function aR(n,t,e){n.server_.onDisconnectCancel(t.toString(),(o,l)=>{"ok"===o&&hE(n.onDisconnect_,t),Ja(0,e,o,l)})}function zx(n,t,e,o){const l=$1(e);n.server_.onDisconnectPut(t.toString(),l.val(!0),(d,m)=>{"ok"===d&&wc(n.onDisconnect_,t,l),Ja(0,o,d,m)})}function $E(n,t,e){let o;o=".info"===Vt(t._path)?xE(n.infoSyncTree_,t,e):xE(n.serverSyncTree_,t,e),BE(n.eventQueue_,t._path,o)}function Nx(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Sx)}function xc(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Bn(e,...t)}function Ja(n,t,e,o){t&&yc(()=>{if("ok"===e)t(null);else{const l=(e||"error").toUpperCase();let d=l;o&&(d+=": "+o);const m=new Error(d);m.code=l,t(m)}})}function WE(n,t,e){return Zh(n.serverSyncTree_,t,e)||_t.EMPTY_NODE}function Jh(n,t=n.transactionQueueTree_){if(t||Xh(n,t),R0(t)){const e=Vx(n,t);(0,O.hu)(e.length>0,"Sending zero length transaction queue"),e.every(l=>0===l.status)&&function(n,t,e){const o=e.map(T=>T.currentWriteId),l=WE(n,t,o);let d=l;const m=l.hash();for(let T=0;T<e.length;T++){const P=e[T];(0,O.hu)(0===P.status,"tryToSendTransactionQueue_: items in queue should all be run."),P.status=1,P.retryCount++;const V=H2(t,P.path);d=d.updateChild(V,P.currentOutputSnapshotRaw)}const y=d.val(!0),A=t;n.server_.put(A.toString(),y,T=>{xc(n,"transaction put response",{path:A.toString(),status:T});let P=[];if("ok"===T){const V=[];for(let Y=0;Y<e.length;Y++)e[Y].status=2,P=P.concat(Qa(n.serverSyncTree_,e[Y].currentWriteId)),e[Y].onComplete&&V.push(()=>e[Y].onComplete(null,!0,e[Y].currentOutputSnapshotResolved)),e[Y].unwatcher();Xh(n,Gh(n.transactionQueueTree_,t)),Jh(n,n.transactionQueueTree_),xi(n.eventQueue_,t,P);for(let Y=0;Y<V.length;Y++)yc(V[Y])}else{if("datastale"===T)for(let V=0;V<e.length;V++)e[V].status=3===e[V].status?4:0;else{O2("transaction at "+A.toString()+" failed: "+T);for(let V=0;V<e.length;V++)e[V].status=4,e[V].abortReason=T}Dc(n,t)}},m)}(n,R5(t),e)}else bx(t)&&qh(t,e=>{Jh(n,e)})}function Dc(n,t){const e=Lx(n,t),o=R5(e);return function(n,t,e){if(0===t.length)return;const o=[];let l=[];const m=t.filter(y=>0===y.status).map(y=>y.currentWriteId);for(let y=0;y<t.length;y++){const A=t[y],T=H2(e,A.path);let V,P=!1;if((0,O.hu)(null!==T,"rerunTransactionsUnderNode_: relativePath should not be null."),4===A.status)P=!0,V=A.abortReason,l=l.concat(Qa(n.serverSyncTree_,A.currentWriteId,!0));else if(0===A.status)if(A.retryCount>=25)P=!0,V="maxretry",l=l.concat(Qa(n.serverSyncTree_,A.currentWriteId,!0));else{const Y=WE(n,A.path,m);A.currentInputSnapshot=Y;const he=t[y].update(Y.val());if(void 0!==he){k5("transaction failed: Data returned ",he,A.path);let xe=$1(he);"object"==typeof he&&null!=he&&(0,O.r3)(he,".priority")||(xe=xe.updatePriority(Y.getPriority()));const Ye=A.currentWriteId,jt=F5(n),Tt=RE(xe,Y,jt);A.currentOutputSnapshotRaw=xe,A.currentOutputSnapshotResolved=Tt,A.currentWriteId=Qh(n),m.splice(m.indexOf(Ye),1),l=l.concat(TE(n.serverSyncTree_,A.path,Tt,A.currentWriteId,A.applyLocally)),l=l.concat(Qa(n.serverSyncTree_,Ye,!0))}else P=!0,V="nodata",l=l.concat(Qa(n.serverSyncTree_,A.currentWriteId,!0))}xi(n.eventQueue_,e,l),l=[],P&&(t[y].status=2,setTimeout(t[y].unwatcher,Math.floor(0)),t[y].onComplete&&o.push("nodata"===V?()=>t[y].onComplete(null,!1,t[y].currentInputSnapshot):()=>t[y].onComplete(new Error(V),!1,null)))}Xh(n,n.transactionQueueTree_);for(let y=0;y<o.length;y++)yc(o[y]);Jh(n,n.transactionQueueTree_)}(n,Vx(n,e),o),o}function Lx(n,t){let e,o=n.transactionQueueTree_;for(e=Vt(t);null!==e&&void 0===R0(o);)o=Gh(o,e),e=Vt(t=E1(t));return o}function Vx(n,t){const e=[];return Rx(n,t,e),e.sort((o,l)=>o.order-l.order),e}function Rx(n,t,e){const o=R0(t);if(o)for(let l=0;l<o.length;l++)e.push(o[l]);qh(t,l=>{Rx(n,l,e)})}function Xh(n,t){const e=R0(t);if(e){let o=0;for(let l=0;l<e.length;l++)2!==e[l].status&&(e[o]=e[l],o++);e.length=o,OE(t,e.length>0?e:void 0)}qh(t,o=>{Xh(n,o)})}function GE(n,t){const e=R5(Lx(n,t)),o=Gh(n.transactionQueueTree_,t);return function(n,t,e){let o=n.parent;for(;null!==o;){if(t(o))return!0;o=o.parent}}(o,l=>{qE(n,l)}),qE(n,o),Mx(o,l=>{qE(n,l)}),e}function qE(n,t){const e=R0(t);if(e){const o=[];let l=[],d=-1;for(let m=0;m<e.length;m++)3===e[m].status||(1===e[m].status?((0,O.hu)(d===m-1,"All SENT items should be at beginning of queue."),d=m,e[m].status=3,e[m].abortReason="set"):((0,O.hu)(0===e[m].status,"Unexpected transaction status in abort"),e[m].unwatcher(),l=l.concat(Qa(n.serverSyncTree_,e[m].currentWriteId,!0)),e[m].onComplete&&o.push(e[m].onComplete.bind(null,new Error("set"),!1,null))));-1===d?OE(t,void 0):e.length=d+1,xi(n.eventQueue_,R5(t),l);for(let m=0;m<o.length;m++)yc(o[m])}}const YE=function(n,t){const e=vR(n),o=e.namespace;return"firebase.com"===e.domain&&fs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&fs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O2("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new qM(e.host,e.secure,o,t,"ws"===e.scheme||"wss"===e.scheme,"",o!==e.subdomain),path:new m1(e.pathString)}},vR=function(n){let t="",e="",o="",l="",d="",m=!0,y="https",A=443;if("string"==typeof n){let T=n.indexOf("//");T>=0&&(y=n.substring(0,T-1),n=n.substring(T+2));let P=n.indexOf("/");-1===P&&(P=n.length);let V=n.indexOf("?");-1===V&&(V=n.length),t=n.substring(0,Math.min(P,V)),P<V&&(l=function(n){let t="";const e=n.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let l=e[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(d){}t+="/"+l}return t}(n.substring(P,V)));const Y=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):O2(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,V)));T=t.indexOf(":"),T>=0?(m="https"===y||"wss"===y,A=parseInt(t.substring(T+1),10)):T=t.length;const he=t.slice(0,T);if("localhost"===he.toLowerCase())e="localhost";else if(he.split(".").length<=2)e=he;else{const xe=t.indexOf(".");o=t.substring(0,xe).toLowerCase(),e=t.substring(xe+1),d=o}"ns"in Y&&(d=Y.ns)}return{host:t,port:A,domain:e,subdomain:o,secure:m,scheme:y,pathString:l,namespace:d}};class Px{constructor(t,e,o,l){this.eventType=t,this.eventRegistration=e,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,O.Pz)(this.snapshot.exportVal())}}class kx{constructor(t,e,o){this.eventRegistration=t,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ox{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,O.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Hx{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new O.BH;return aR(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ti("OnDisconnect.remove",this._path);const t=new O.BH;return zx(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ti("OnDisconnect.set",this._path),ps("OnDisconnect.set",t,this._path,!1);const e=new O.BH;return zx(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ti("OnDisconnect.setWithPriority",this._path),ps("OnDisconnect.setWithPriority",t,this._path,!1),UE("OnDisconnect.setWithPriority",e,!1);const o=new O.BH;return function(n,t,e,o,l){const d=$1(e,o);n.server_.onDisconnectPut(t.toString(),d.val(!0),(m,y)=>{"ok"===m&&wc(n.onDisconnect_,t,d),Ja(0,l,m,y)})}(this._repo,this._path,t,e,o.wrapCallback(()=>{})),o.promise}update(t){Ti("OnDisconnect.update",this._path),Ax("OnDisconnect.update",t,this._path,!1);const e=new O.BH;return function(n,t,e,o){if((0,O.xb)(e))return Bn("onDisconnect().update() called with empty data.  Don't do anything."),void Ja(0,o,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(l,d)=>{"ok"===l&&jn(e,(m,y)=>{const A=$1(y);wc(n.onDisconnect_,F1(t,m),A)}),Ja(0,o,l,d)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class or{constructor(t,e,o,l){this._repo=t,this._path=e,this._queryParams=o,this._orderByCalled=l}get key(){return Rt(this._path)?null:tE(this._path)}get ref(){return new Di(this._repo,this._path)}get _queryIdentifier(){const t=ZT(this._queryParams),e=$M(t);return"{}"===e?"default":e}get _queryObject(){return ZT(this._queryParams)}isEqual(t){if(!((t=(0,O.m9)(t))instanceof or))return!1;const e=this._repo===t._repo,o=nE(this._path,t._path);return e&&o&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function ep(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Xa(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===hs){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==f4)throw new Error(o);if("string"!=typeof t)throw new Error(l)}if(n.hasEnd()){if(n.getIndexEndName()!==ds)throw new Error(o);if("string"!=typeof e)throw new Error(l)}}else if(n.getIndex()===N1){if(null!=t&&!P5(t)||null!=e&&!P5(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,O.hu)(n.getIndex()instanceof aE||n.getIndex()===cE,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function tp(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Di extends or{constructor(t,e){super(t,e,new Dh,!1)}get parent(){const t=TT(this._path);return null===t?null:new Di(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class P0{constructor(t,e,o){this._node=t,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new m1(t),o=k0(this.ref,t);return new P0(this._node.getChild(e),o,N1)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,l)=>t(new P0(l,k0(this.ref,o),N1)))}hasChild(t){const e=new m1(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Fx(n,t){return(n=(0,O.m9)(n))._checkNotDeleted("ref"),void 0!==t?k0(n._root,t):n._root}function Ux(n,t){(n=(0,O.m9)(n))._checkNotDeleted("refFromURL");const e=YE(t,n._repo.repoInfo_.nodeAdmin);wx("refFromURL",e);const o=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&o.host!==n._repo.repoInfo_.host&&fs("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+n._repo.repoInfo_.host+")"),Fx(n,e.path.toString())}function k0(n,t){return null===Vt((n=(0,O.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),H5("child","path",e,!1)):H5("child","path",t,!1),new Di(n._repo,F1(n._path,t));var e}function KE(n,t){n=(0,O.m9)(n),Ti("set",n._path),ps("set",t,n._path,!1);const e=new O.BH;return ZE(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function MR(n,t){Ax("update",t,n._path,!1);const e=new O.BH;return function(n,t,e,o){xc(n,"update",{path:t.toString(),value:e});let l=!0;const d=F5(n),m={};if(jn(e,(y,A)=>{l=!1,m[y]=Cx(F1(t,y),$1(A),n.serverSyncTree_,d)}),l)Bn("update() called with empty data.  Don't do anything."),Ja(0,o,"ok",void 0);else{const y=Qh(n),A=function(n,t,e,o){!function(n,t,e,o){(0,O.hu)(o>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:o,visible:!0}),n.visibleWrites=yE(n.visibleWrites,t,e),n.lastWriteId=o}(n.pendingWriteTree_,t,e,o);const l=L1.fromObject(e);return Tc(n,new Ic({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,l))}(n.serverSyncTree_,t,m,y);Kh(n.eventQueue_,A),n.server_.merge(t.toString(),e,(T,P)=>{const V="ok"===T;V||O2("update at "+t+" failed: "+T);const Y=Qa(n.serverSyncTree_,y,!V),he=Y.length>0?Dc(n,t):t;xi(n.eventQueue_,he,Y),Ja(0,o,T,P)}),jn(e,T=>{const P=GE(n,F1(t,T));Dc(n,P)}),xi(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function ER(n){return function(n,t){const e=function(n,t){const e=t._path;let o=null;n.syncPointTree_.foreachOnPath(e,(T,P)=>{const V=H2(T,e);o=o||Ya(P,V)});let l=n.syncPointTree_.get(e);l?o=o||Ya(l,a1()):(l=new lx,n.syncPointTree_=n.syncPointTree_.set(e,l));const d=null!=o,m=d?new Ga(o,!0,!1):null;return function(n){return Ph(n.viewCache_)}(ux(l,t,kh(n.pendingWriteTree_,t._path),d?m.getNode():_t.EMPTY_NODE,d))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(o=>{const l=$1(o).withIndex(t._queryParams.getIndex()),d=L5(n.serverSyncTree_,t._path,l);return BE(n.eventQueue_,t._path,d),Promise.resolve(l)},o=>(xc(n,"get for query "+(0,O.Pz)(t)+" failed: "+o),Promise.reject(new Error(o))))}((n=(0,O.m9)(n))._repo,n).then(t=>new P0(t,new Di(n._repo,n._path),n._queryParams.getIndex()))}class np{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const o=e._queryParams.getIndex();return new Px("value",this,new P0(t.snapshotNode,new Di(e._repo,e._path),o))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new kx(this,t,e):null}matches(t){return t instanceof np&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class rp{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new kx(this,t,e):null}createEvent(t,e){(0,O.hu)(null!=t.childName,"Child events should have a childName.");const o=k0(new Di(e._repo,e._path),t.childName),l=e._queryParams.getIndex();return new Px(t.type,this,new P0(t.snapshotNode,o,l),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof rp&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function U5(n,t,e,o,l){let d;if("object"==typeof o&&(d=void 0,l=o),"function"==typeof o&&(d=o),l&&l.onlyOnce){const A=e,T=(P,V)=>{$E(n._repo,n,y),A(P,V)};T.userCallback=e.userCallback,T.context=e.context,e=T}const m=new Ox(e,d||void 0),y="value"===t?new np(m):new rp(t,m);return function(n,t,e){let o;o=".info"===Vt(t._path)?mx(n.infoSyncTree_,t,e):mx(n.serverSyncTree_,t,e),BE(n.eventQueue_,t._path,o)}(n._repo,n,y),()=>$E(n._repo,n,y)}function QE(n,t,e,o){return U5(n,"value",t,e,o)}function Bx(n,t,e,o){return U5(n,"child_added",t,e,o)}function jx(n,t,e,o){return U5(n,"child_changed",t,e,o)}function Zx(n,t,e,o){return U5(n,"child_moved",t,e,o)}function $x(n,t,e,o){return U5(n,"child_removed",t,e,o)}function Wx(n,t,e){let o=null;const l=e?new Ox(e):null;"value"===t?o=new np(l):t&&(o=new rp(t,l)),$E(n._repo,n,o)}class go{}class Gx extends go{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ps("endAt",this._value,t._path,!0);const e=dE(t._queryParams,this._value,this._key);if(tp(e),Xa(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new or(t._repo,t._path,e,t._orderByCalled)}}class wR extends go{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ps("endBefore",this._value,t._path,!1);const e=function(n,t,e){let o,l;return n.index_===hs?("string"==typeof t&&(t=UT(t)),l=dE(n,t,e)):(o=null==e?f4:UT(e),l=dE(n,t,o)),l.endBeforeSet_=!0,l}(t._queryParams,this._value,this._key);if(tp(e),Xa(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new or(t._repo,t._path,e,t._orderByCalled)}}class qx extends go{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ps("startAt",this._value,t._path,!0);const e=fE(t._queryParams,this._value,this._key);if(tp(e),Xa(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new or(t._repo,t._path,e,t._orderByCalled)}}class TR extends go{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ps("startAfter",this._value,t._path,!1);const e=function(n,t,e){let o;if(n.index_===hs)"string"==typeof t&&(t=FT(t)),o=fE(n,t,e);else{let l;l=null==e?ds:FT(e),o=fE(n,t,l)}return o.startAfterSet_=!0,o}(t._queryParams,this._value,this._key);if(tp(e),Xa(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new or(t._repo,t._path,e,t._orderByCalled)}}class DR extends go{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new or(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class NR extends go{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new or(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class VR extends go{constructor(t){super(),this._path=t}_apply(t){ep(t,"orderByChild");const e=new m1(this._path);if(Rt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new aE(e),l=zh(t._queryParams,o);return Xa(l),new or(t._repo,t._path,l,!0)}}class PR extends go{_apply(t){ep(t,"orderByKey");const e=zh(t._queryParams,hs);return Xa(e),new or(t._repo,t._path,e,!0)}}class OR extends go{_apply(t){ep(t,"orderByPriority");const e=zh(t._queryParams,N1);return Xa(e),new or(t._repo,t._path,e,!0)}}class FR extends go{_apply(t){ep(t,"orderByValue");const e=zh(t._queryParams,cE);return Xa(e),new or(t._repo,t._path,e,!0)}}class BR extends go{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ps("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Gx(this._value,this._key)._apply(new qx(this._value,this._key)._apply(t))}}function vo(n,...t){let e=(0,O.m9)(n);for(const o of t)e=o._apply(e);return e}(function(n){(0,O.hu)(!Uh,"__referenceConstructor has already been defined"),Uh=n})(Di),function(n){(0,O.hu)(!jh,"__referenceConstructor has already been defined"),jh=n}(Di);const JE={};function Kx(n,t,e,o,l){let d=o||n.options.databaseURL;void 0===d&&(n.options.projectId||fs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Bn("Using default host for project ",n.options.projectId),d=`${n.options.projectId}-default-rtdb.firebaseio.com`);let A,T,m=YE(d,l),y=m.repoInfo;"undefined"!=typeof process&&(T=process.env.FIREBASE_DATABASE_EMULATOR_HOST),T?(A=!0,d=`http://${T}?ns=${y.namespace}`,m=YE(d,l),y=m.repoInfo):A=!m.repoInfo.secure;const P=l&&A?new y5(y5.OWNER):new VN(n.name,n.options,t);wx("Invalid Firebase Database URL",m),Rt(m.path)||fs("Database URL must point to the root of a Firebase Database (not including a child path).");const V=function(n,t,e,o){let l=JE[t.name];l||(l={},JE[t.name]=l);let d=l[n.toURLString()];return d&&fs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new tR(n,false,e,o),l[n.toURLString()]=d,d}(y,n,P,new LN(n.name,e));return new YR(V,n)}class YR{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=QM(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Nh(n.repoInfo_,(o,l,d,m)=>{xx(n,o,l,d,m)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Dx(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,O.Pz)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}n.persistentConnection_=new z0(n.repoInfo_,t,(o,l,d,m)=>{xx(n,o,l,d,m)},o=>{Dx(n,o)},o=>{!function(n,t){jn(t,(e,o)=>{jE(n,e,o)})}(n,o)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(o=>{n.server_.refreshAuthToken(o)}),n.appCheckProvider_.addTokenChangeListener(o=>{n.server_.refreshAppCheckToken(o.token)}),n.statsReporter_=function(n,t){const e=n.toString();return KM[e]||(KM[e]=t()),KM[e]}(n.repoInfo_,()=>new FL(n.stats_,n.server_)),n.infoData_=new RL,n.infoSyncTree_=new px({startListening:(o,l,d,m)=>{let y=[];const A=n.infoData_.getNode(o._path);return A.isEmpty()||(y=L5(n.infoSyncTree_,o._path,A),setTimeout(()=>{m("ok")},0)),y},stopListening:()=>{}}),jE(n,"connected",!1),n.serverSyncTree_=new px({startListening:(o,l,d,m)=>(n.server_.listen(o,d,l,(y,A)=>{const T=m(y,A);xi(n.eventQueue_,o._path,T)}),[]),stopListening:(o,l)=>{n.server_.unlisten(o,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Di(this._repo,a1())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=JE[t];(!e||e[n.key]!==n)&&fs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Nx(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&fs("Cannot call "+t+" on a deleted database.")}}function KR(n=(0,u4.getApp)(),t){return(0,u4._getProvider)(n,"database").getImmediate({identifier:t})}function eP(n,t){JS(n,t)}class oP{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}z0.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},z0.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},GS(u4.SDK_VERSION),(0,u4._registerComponent)(new I0.wA("database",(t,{instanceIdentifier:e})=>Kx(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,u4.registerVersion)($S,"0.12.3",void 0),(0,u4.registerVersion)($S,"0.12.3","esm2017");const lP=new bh.Yd("@firebase/database-compat"),Qx=function(n){lP.warn("FIREBASE WARNING: "+n)};class dP{constructor(t){this._delegate=t}cancel(t){(0,O.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,O.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),o=>t(o)),e}remove(t){(0,O.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,O.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),o=>t(o)),e}set(t,e){(0,O.Dv)("OnDisconnect.set",1,2,arguments.length),(0,O.Wj)("OnDisconnect.set","onComplete",e,!0);const o=this._delegate.set(t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,O.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,O.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const l=this._delegate.setWithPriority(t,e);return o&&l.then(()=>o(null),d=>o(d)),l}update(t,e){if((0,O.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let d=0;d<t.length;++d)l[""+d]=t[d];t=l,Qx("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,O.Wj)("OnDisconnect.update","onComplete",e,!0);const o=this._delegate.update(t);return e&&o.then(()=>e(null),l=>e(l)),o}}class hP{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,O.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class e6{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,O.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,O.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,O.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,O.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,O.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),H5("DataSnapshot.child","path",t,!1),new e6(this._database,this._delegate.child(t))}hasChild(t){return(0,O.Dv)("DataSnapshot.hasChild",1,1,arguments.length),H5("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,O.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,O.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,O.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new e6(this._database,e)))}hasChildren(){return(0,O.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,O.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,O.Dv)("DataSnapshot.ref",0,0,arguments.length),new jr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class i2{constructor(t,e){this.database=t,this._delegate=e}on(t,e,o,l){var d;(0,O.Dv)("Query.on",2,4,arguments.length),(0,O.Wj)("Query.on","callback",e,!1);const m=i2.getCancelAndContextArgs_("Query.on",o,l),y=(T,P)=>{e.call(m.context,new e6(this.database,T),P)};y.userCallback=e,y.context=m.context;const A=null===(d=m.cancel)||void 0===d?void 0:d.bind(m.context);switch(t){case"value":return QE(this._delegate,y,A),e;case"child_added":return Bx(this._delegate,y,A),e;case"child_removed":return $x(this._delegate,y,A),e;case"child_changed":return jx(this._delegate,y,A),e;case"child_moved":return Zx(this._delegate,y,A),e;default:throw new Error((0,O.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,o){if((0,O.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,O.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,O.Wj)("Query.off","callback",e,!0),(0,O.lb)("Query.off","context",o,!0),e){const l=()=>{};l.userCallback=e,l.context=o,Wx(this._delegate,t,l)}else Wx(this._delegate,t)}get(){return ER(this._delegate).then(t=>new e6(this.database,t))}once(t,e,o,l){(0,O.Dv)("Query.once",1,4,arguments.length),(0,O.Wj)("Query.once","callback",e,!0);const d=i2.getCancelAndContextArgs_("Query.once",o,l),m=new O.BH,y=(T,P)=>{const V=new e6(this.database,T);e&&e.call(d.context,V,P),m.resolve(V)};y.userCallback=e,y.context=d.context;const A=T=>{d.cancel&&d.cancel.call(d.context,T),m.reject(T)};switch(t){case"value":QE(this._delegate,y,A,{onlyOnce:!0});break;case"child_added":Bx(this._delegate,y,A,{onlyOnce:!0});break;case"child_removed":$x(this._delegate,y,A,{onlyOnce:!0});break;case"child_changed":jx(this._delegate,y,A,{onlyOnce:!0});break;case"child_moved":Zx(this._delegate,y,A,{onlyOnce:!0});break;default:throw new Error((0,O.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return m.promise}limitToFirst(t){return(0,O.Dv)("Query.limitToFirst",1,1,arguments.length),new i2(this.database,vo(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new DR(n)}(t)))}limitToLast(t){return(0,O.Dv)("Query.limitToLast",1,1,arguments.length),new i2(this.database,vo(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new NR(n)}(t)))}orderByChild(t){return(0,O.Dv)("Query.orderByChild",1,1,arguments.length),new i2(this.database,vo(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return H5("orderByChild","path",n,!1),new VR(n)}(t)))}orderByKey(){return(0,O.Dv)("Query.orderByKey",0,0,arguments.length),new i2(this.database,vo(this._delegate,new PR))}orderByPriority(){return(0,O.Dv)("Query.orderByPriority",0,0,arguments.length),new i2(this.database,vo(this._delegate,new OR))}orderByValue(){return(0,O.Dv)("Query.orderByValue",0,0,arguments.length),new i2(this.database,vo(this._delegate,new FR))}startAt(t=null,e){return(0,O.Dv)("Query.startAt",0,2,arguments.length),new i2(this.database,vo(this._delegate,function(n=null,t){return O5("startAt","key",t,!0),new qx(n,t)}(t,e)))}startAfter(t=null,e){return(0,O.Dv)("Query.startAfter",0,2,arguments.length),new i2(this.database,vo(this._delegate,function(n,t){return O5("startAfter","key",t,!0),new TR(n,t)}(t,e)))}endAt(t=null,e){return(0,O.Dv)("Query.endAt",0,2,arguments.length),new i2(this.database,vo(this._delegate,function(n,t){return O5("endAt","key",t,!0),new Gx(n,t)}(t,e)))}endBefore(t=null,e){return(0,O.Dv)("Query.endBefore",0,2,arguments.length),new i2(this.database,vo(this._delegate,function(n,t){return O5("endBefore","key",t,!0),new wR(n,t)}(t,e)))}equalTo(t,e){return(0,O.Dv)("Query.equalTo",1,2,arguments.length),new i2(this.database,vo(this._delegate,function(n,t){return O5("equalTo","key",t,!0),new BR(n,t)}(t,e)))}toString(){return(0,O.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,O.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,O.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof i2))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,o){const l={cancel:void 0,context:void 0};if(e&&o)l.cancel=e,(0,O.Wj)(t,"cancel",l.cancel,!0),l.context=o,(0,O.lb)(t,"context",l.context,!0);else if(e)if("object"==typeof e&&null!==e)l.context=e;else{if("function"!=typeof e)throw new Error((0,O.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");l.cancel=e}return l}get ref(){return new jr(this.database,new Di(this._delegate._repo,this._delegate._path))}}class jr extends i2{constructor(t,e){super(t,new or(e._repo,e._path,new Dh,!1)),this.database=t,this._delegate=e}getKey(){return(0,O.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,O.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new jr(this.database,k0(this._delegate,t))}getParent(){(0,O.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new jr(this.database,t):null}getRoot(){return(0,O.Dv)("Reference.root",0,0,arguments.length),new jr(this.database,this._delegate.root)}set(t,e){(0,O.Dv)("Reference.set",1,2,arguments.length),(0,O.Wj)("Reference.set","onComplete",e,!0);const o=KE(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}update(t,e){if((0,O.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let d=0;d<t.length;++d)l[""+d]=t[d];t=l,Qx("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ti("Reference.update",this._delegate._path),(0,O.Wj)("Reference.update","onComplete",e,!0);const o=MR(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,O.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,O.Wj)("Reference.setWithPriority","onComplete",o,!0);const l=function(n,t,e){if(Ti("setWithPriority",n._path),ps("setWithPriority",t,n._path,!1),UE("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const o=new O.BH;return ZE(n._repo,n._path,t,e,o.wrapCallback(()=>{})),o.promise}(this._delegate,t,e);return o&&l.then(()=>o(null),d=>o(d)),l}remove(t){(0,O.Dv)("Reference.remove",0,1,arguments.length),(0,O.Wj)("Reference.remove","onComplete",t,!0);const e=function(n){return Ti("remove",n._path),KE(n,null)}(this._delegate);return t&&e.then(()=>t(null),o=>t(o)),e}transaction(t,e,o){(0,O.Dv)("Reference.transaction",1,3,arguments.length),(0,O.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,O.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,o){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,O.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const l=function(n,t,e){var o;if(n=(0,O.m9)(n),Ti("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const l=null===(o=null==e?void 0:e.applyLocally)||void 0===o||o,d=new O.BH,y=QE(n,()=>{});return function(n,t,e,o,l,d){xc(n,"transaction on "+t);const m={path:t,update:e,onComplete:o,status:null,order:YS(),applyLocally:d,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},y=WE(n,t,void 0);m.currentInputSnapshot=y;const A=m.update(y.val());if(void 0===A)m.unwatcher(),m.currentOutputSnapshotRaw=null,m.currentOutputSnapshotResolved=null,m.onComplete&&m.onComplete(null,!1,m.currentInputSnapshot);else{k5("transaction failed: Data returned ",A,m.path),m.status=0;const T=Gh(n.transactionQueueTree_,t),P=R0(T)||[];let V;P.push(m),OE(T,P),"object"==typeof A&&null!==A&&(0,O.r3)(A,".priority")?(V=(0,O.DV)(A,".priority"),(0,O.hu)(P5(V),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):V=(Zh(n.serverSyncTree_,t)||_t.EMPTY_NODE).getPriority().val();const Y=F5(n),he=$1(A,V),xe=RE(he,y,Y);m.currentOutputSnapshotRaw=he,m.currentOutputSnapshotResolved=xe,m.currentWriteId=Qh(n);const Fe=TE(n.serverSyncTree_,t,xe,m.currentWriteId,m.applyLocally);xi(n.eventQueue_,t,Fe),Jh(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(A,T,P)=>{let V=null;A?d.reject(A):(V=new P0(P,new Di(n._repo,n._path),N1),d.resolve(new oP(T,V)))},y,l),d.promise}(this._delegate,t,{applyLocally:o}).then(d=>new hP(d.committed,new e6(this.database,d.snapshot)));return e&&l.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),l}setPriority(t,e){(0,O.Dv)("Reference.setPriority",1,2,arguments.length),(0,O.Wj)("Reference.setPriority","onComplete",e,!0);const o=function(n,t){n=(0,O.m9)(n),Ti("setPriority",n._path),UE("setPriority",t,!1);const e=new O.BH;return ZE(n._repo,F1(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}push(t,e){(0,O.Dv)("Reference.push",0,2,arguments.length),(0,O.Wj)("Reference.push","onComplete",e,!0);const o=function(n,t){n=(0,O.m9)(n),Ti("push",n._path),ps("push",t,n._path,!0);const e=Tx(n._repo),o=SL(e),l=k0(n,o),d=k0(n,o);let m;return m=null!=t?KE(d,t).then(()=>d):Promise.resolve(d),l.then=m.then.bind(m),l.catch=m.then.bind(m,void 0),l}(this._delegate,t),l=o.then(m=>new jr(this.database,m));e&&l.then(()=>e(null),m=>e(m));const d=new jr(this.database,o);return d.then=l.then.bind(l),d.catch=l.catch.bind(l,void 0),d}onDisconnect(){return Ti("Reference.onDisconnect",this._delegate._path),new dP(new Hx(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class B5{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,o={}){!function(n,t,e,o={}){(n=(0,O.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&fs("Cannot call useEmulator() after instance has already been initialized.");const l=n._repoInternal;let d;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&fs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new y5(y5.OWNER);else if(o.mockUserToken){const m="string"==typeof o.mockUserToken?o.mockUserToken:(0,O.Sg)(o.mockUserToken,n.app.options.projectId);d=new y5(m)}!function(n,t,e,o){n.repoInfo_=new qM(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),o&&(n.authTokenProvider_=o)}(l,t,e,d)}(this._delegate,t,e,o)}ref(t){if((0,O.Dv)("database.ref",0,1,arguments.length),t instanceof jr){const e=Ux(this._delegate,t.toString());return new jr(this,e)}{const e=Fx(this._delegate,t);return new jr(this,e)}}refFromURL(t){(0,O.Dv)("database.refFromURL",1,1,arguments.length);const o=Ux(this._delegate,t);return new jr(this,o)}goOffline(){return(0,O.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,O.m9)(n))._checkNotDeleted("goOffline"),Nx(n._repo)}(this._delegate)}goOnline(){return(0,O.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,O.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(Sx)}(n._repo)}(this._delegate)}}B5.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var mP=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:o,namespace:l,nodeAdmin:d=!1}){GS(e);const m=new I0.zt("auth-internal",new I0.H0("database-standalone"));return m.setComponent(new I0.wA("auth-internal",()=>o,"PRIVATE")),{instance:new B5(Kx(n,m,void 0,t,d),n),namespace:l}}});const gP=B5.ServerValue;!function(n){n.INTERNAL.registerComponent(new I0.wA("database-compat",(t,{instanceIdentifier:e})=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("database").getImmediate({identifier:e});return new B5(l,o)},"PUBLIC").setServiceProps({Reference:jr,Query:i2,Database:B5,DataSnapshot:e6,enableLogging:eP,INTERNAL:mP,ServerValue:gP}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.3")}(MN.Z);var j5=R(309),_P=R(7771),yP=R(8858);class CP extends Rn.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new bP(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,o=e?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,d=o.length;let m;if(this.closed)throw new R4.N;if(this.isStopped||this.hasError?m=C6.w.EMPTY:(this.observers.push(t),m=new yP.W(this,t)),l&&t.add(t=new j5.ht(t,l)),e)for(let y=0;y<d&&!t.closed;y++)t.next(o[y]);else for(let y=0;y<d&&!t.closed;y++)t.next(o[y].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),m}_getNow(){return(this.scheduler||_P.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,o=this._windowTime,l=this._events,d=l.length;let m=0;for(;m<d&&!(t-l[m].time<o);)m++;return d>e&&(m=Math.max(m,d-e)),m>0&&l.splice(0,m),l}}class bP{constructor(t,e){this.time=t,this.value=e}}function Jx(n,t,e){let o;return o=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},l=>l.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:o}){let l,m,d=0,y=!1,A=!1;return function(P){let V;d++,!l||y?(y=!1,l=new CP(n,t,o),V=l.subscribe(this),m=P.subscribe({next(Y){l.next(Y)},error(Y){y=!0,l.error(Y)},complete(){A=!0,m=void 0,l.complete()}}),A&&(m=void 0)):V=l.subscribe(this),this.add(()=>{d--,V.unsubscribe(),V=void 0,m&&!A&&e&&0===d&&(m.unsubscribe(),m=void 0,l=void 0)})}}(o))}function Xx(n,t){return t?rn(()=>n,t):rn(()=>n)}var XE=R(3101),O0=R(2329);class zc{constructor(t){return t}}class eD{constructor(){return(0,O0.C6)()}}const eA=new c.OlP("angularfire2._apps"),AP={provide:zc,useFactory:function(n){return n&&1===n.length?n[0]:new zc((0,O0.Mq)())},deps:[[new c.FiY,eA]]},wP={provide:eD,deps:[[new c.FiY,eA]]};function IP(n){return(t,e)=>{const o=t.runOutsideAngular(()=>n(e));return new zc(o)}}let SP=(()=>{class n{constructor(e){(0,O0.KN)("angularfire",Z1.q4.full,"core"),(0,O0.KN)("angularfire",Z1.q4.full,"app"),(0,O0.KN)("angular",c.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[AP,wP]}),n})();function TP(n,...t){return{ngModule:SP,providers:[{provide:eA,useFactory:IP(n),multi:!0,deps:[c.R0b,c.zs3,Z1.HU,...t]}]}}const xP=(0,Z1.u3)(O0.ZF,!0),tD=new Map,DP={activated:!1,tokenObservers:[]},zP={initialized:!1,enabled:!1};function y2(n){return tD.get(n)||DP}function _o(n,t){tD.set(n,t)}function ip(){return zP}class RP{constructor(t,e,o,l,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=o,this.lowerBound=l,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=l,l>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,l4.Z)(function*(){e.stop();try{e.pending=new O.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new O.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(o){e.retryPolicy(o)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const zi=new O.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function rD(n){if(!y2(n).activated)throw zi.create("use-before-activation",{appName:n.name})}function nA(n,t){return rA.apply(this,arguments)}function rA(){return(rA=(0,l4.Z)(function*({url:n,body:t},e){const o={"Content-Type":"application/json"},l=e.getImmediate({optional:!0});l&&(o["X-Firebase-Client"]=l.getPlatformInfoString());const d={method:"POST",body:JSON.stringify(t),headers:o};let m,y;try{m=yield fetch(n,d)}catch(V){throw zi.create("fetch-network-error",{originalErrorMessage:V.message})}if(200!==m.status)throw zi.create("fetch-status-error",{httpStatus:m.status});try{y=yield m.json()}catch(V){throw zi.create("fetch-parse-error",{originalErrorMessage:V.message})}const A=y.ttl.match(/^([\d.]+)(s)$/);if(!A||!A[2]||isNaN(Number(A[1])))throw zi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const T=1e3*Number(A[1]),P=Date.now();return{token:y.attestationToken,expireTimeMillis:P+T,issuedAtTimeMillis:P}})).apply(this,arguments)}function UP(n,t){const{projectId:e,appId:o,apiKey:l}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${o}:exchangeDebugToken?key=${l}`,body:{debug_token:t}}}const Z5="firebase-app-check-store";let sp=null;function oD(){return sp||(sp=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=o=>{n(o.target.result)},e.onerror=o=>{var l;t(zi.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},e.onupgradeneeded=o=>{const l=o.target.result;switch(o.oldVersion){case 0:l.createObjectStore(Z5,{keyPath:"compositeKey"})}}}catch(e){t(zi.create("storage-open",{originalErrorMessage:e.message}))}}),sp)}function iA(){return(iA=(0,l4.Z)(function*(n,t){const o=(yield oD()).transaction(Z5,"readwrite"),d=o.objectStore(Z5).put({compositeKey:n,value:t});return new Promise((m,y)=>{d.onsuccess=A=>{m()},o.onerror=A=>{var T;y(zi.create("storage-set",{originalErrorMessage:null===(T=A.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const ap=new bh.Yd("@firebase/app-check");function lD(n,t){return(0,O.hl)()?function(n,t){return function(n,t){return iA.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{ap.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function uD(){return ip().enabled}function fD(){return cA.apply(this,arguments)}function cA(){return(cA=(0,l4.Z)(function*(){const n=ip();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const QP={error:"UNKNOWN_ERROR"};function JP(n){return O.US.encodeString(JSON.stringify(n),!1)}function cp(n){return lA.apply(this,arguments)}function lA(){return(lA=(0,l4.Z)(function*(n,t=!1){const e=n.app;rD(e);const o=y2(e);let d,m,l=o.token;if(!l){const y=yield o.cachedTokenPromise;y&&$5(y)&&(l=y,_o(e,Object.assign(Object.assign({},o),{token:l})),hD(e,{token:l.token}))}if(!t&&l&&$5(l))return{token:l.token};if(uD()){const y=yield nA(UP(e,yield fD()),n.platformLoggerProvider);return yield lD(e,y),_o(e,Object.assign(Object.assign({},o),{token:y})),{token:y.token}}try{l=yield o.provider.getToken()}catch(y){ap.error(y),d=y}return l?(m={token:l.token},_o(e,Object.assign(Object.assign({},o),{token:l})),yield lD(e,l)):m=ek(d),hD(e,m),m})).apply(this,arguments)}function uA(n,t){const e=y2(n),o=e.tokenObservers.filter(l=>l.next!==t);0===o.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),_o(n,Object.assign(Object.assign({},e),{tokenObservers:o}))}function hD(n,t){const e=y2(n).tokenObservers;for(const o of e)try{"EXTERNAL"===o.type&&null!=t.error?o.error(t.error):o.next(t)}catch(l){}}function $5(n){return n.expireTimeMillis-Date.now()>0}function ek(n){return{token:JP(QP),error:n}}class tk{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=y2(this.app);for(const e of t)uA(this.app,e.next);return Promise.resolve()}}const yD="app-check-internal";(0,u4._registerComponent)(new I0.wA("app-check",n=>function(n,t){return new tk(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(yD).initialize()})),(0,u4._registerComponent)(new I0.wA(yD,n=>function(n){return{getToken:t=>cp(n,t),addTokenListener:t=>function(n,t,e,o){const{app:l}=n,d=y2(l),m={next:e,error:o,type:t},y=Object.assign(Object.assign({},d),{tokenObservers:[...d.tokenObservers,m]});if(!y.tokenRefresher){const A=function(n){const{app:t}=n;return new RP((0,l4.Z)(function*(){let o;if(o=y2(t).token?yield cp(n,!0):yield cp(n),o.error)throw o.error}),()=>!0,()=>{const e=y2(t);if(e.token){let o=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,e.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(n);y.tokenRefresher=A}if(!y.tokenRefresher.isRunning()&&d.isTokenAutoRefreshEnabled&&y.tokenRefresher.start(),d.token&&$5(d.token)){const A=d.token;Promise.resolve().then(()=>e({token:A.token})).catch(()=>{})}else null==d.token&&d.cachedTokenPromise.then(A=>{A&&$5(A)&&e({token:A.token})}).catch(()=>{});_o(l,y)}(n,"INTERNAL",t),removeTokenListener:t=>uA(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,u4.registerVersion)("@firebase/app-check","0.5.0");class up{constructor(){return(0,Z1.vb)("app-check")}}"undefined"!=typeof window&&window;const bD=new c.OlP("angularfire2.auth.use-emulator"),MD=new c.OlP("angularfire2.auth.settings"),ED=new c.OlP("angularfire2.auth.tenant-id"),AD=new c.OlP("angularfire2.auth.langugage-code"),wD=new c.OlP("angularfire2.auth.use-device-language"),ID=new c.OlP("angularfire.auth.persistence"),SD=(n,t,e,o,l,d,m,y)=>(0,ho.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const A=t.runOutsideAngular(()=>n.auth());if(e&&A.useEmulator(...e),o&&(A.tenantId=o),A.languageCode=l,d&&A.useDeviceLanguage(),m)for(const[T,P]of Object.entries(m))A.settings[T]=P;return y&&A.setPersistence(y),A},[e,o,l,d,m,y]);let TD=(()=>{class n{constructor(e,o,l,d,m,y,A,T,P,V,Y,he){const xe=new Rn.xQ,Fe=(0,je.of)(void 0).pipe((0,j5.QV)(m.outsideAngular),rn(()=>d.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,4828)))),(0,St.U)(()=>(0,ho.on)(e,d,o)),(0,St.U)(Ye=>SD(Ye,d,y,T,P,V,A,Y)),Jx({bufferSize:1,refCount:!1}));if(function(n){return"server"===n}(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,je.of)(null);else{Fe.pipe(x1()).subscribe();const jt=Fe.pipe(rn(Pt=>Pt.getRedirectResult().then(Zn=>Zn,()=>null)),Z1.iC,Jx({bufferSize:1,refCount:!1})),Tt=Fe.pipe(rn(Pt=>new zt.y(Zn=>({unsubscribe:d.runOutsideAngular(()=>Pt.onAuthStateChanged(C2=>Zn.next(C2),C2=>Zn.error(C2),()=>Zn.complete()))})))),g1=Fe.pipe(rn(Pt=>new zt.y(Zn=>({unsubscribe:d.runOutsideAngular(()=>Pt.onIdTokenChanged(C2=>Zn.next(C2),C2=>Zn.error(C2),()=>Zn.complete()))}))));this.authState=jt.pipe(Xx(Tt),(0,XE.R)(m.outsideAngular),(0,j5.QV)(m.insideAngular)),this.user=jt.pipe(Xx(g1),(0,XE.R)(m.outsideAngular),(0,j5.QV)(m.insideAngular)),this.idToken=this.user.pipe(rn(Pt=>Pt?(0,S1.D)(Pt.getIdToken()):(0,je.of)(null))),this.idTokenResult=this.user.pipe(rn(Pt=>Pt?(0,S1.D)(Pt.getIdTokenResult()):(0,je.of)(null))),this.credential=(0,UM.T)(jt,xe,this.authState.pipe(vr(Pt=>!Pt))).pipe((0,St.U)(Pt=>(null==Pt?void 0:Pt.user)?Pt:null),(0,XE.R)(m.outsideAngular),(0,j5.QV)(m.insideAngular))}return(0,ho.pX)(this,Fe,d,{spy:{apply:(Ye,jt,Tt)=>{(Ye.startsWith("signIn")||Ye.startsWith("createUser"))&&Tt.then(g1=>xe.next(g1))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ho.Dh),c.LFG(ho.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Z1.HU),c.LFG(bD,8),c.LFG(MD,8),c.LFG(ED,8),c.LFG(AD,8),c.LFG(wD,8),c.LFG(ID,8),c.LFG(up,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function xD(n){return null==n}function DD(n){return"function"==typeof n.set}function zD(n,t){return DD(t)?t:n.ref(t)}function ND(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(DD(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function W5(n,t,e="on",o=fN.z){return new zt.y(l=>{let d=null;return d=n[e](t,(m,y)=>{o.schedule(()=>{l.next({snapshot:m,prevKey:y})}),"once"===e&&o.schedule(()=>l.complete())},m=>{o.schedule(()=>l.error(m))}),"on"===e?{unsubscribe(){null!=d&&n.off(t,d)}}:{unsubscribe(){}}}).pipe((0,St.U)(l=>{const{snapshot:d,prevKey:m}=l;let y=null;return d.exists()&&(y=d.key),{type:t,payload:d,prevKey:m,key:y}}),(0,dN.B)())}function LD(n,t){const e=n.length;for(let o=0;o<e;o++)if(n[o].payload.key===t)return o;return-1}function wk(n,t){const{payload:e,prevKey:o,key:l}=t,d=LD(n,l),m=function(n,t){if(xD(t))return 0;{const e=LD(n,t);return-1===e?n.length:e+1}}(n,o);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let y=null;t.payload.forEach(A=>{const T={payload:A,type:"value",prevKey:y,key:A.key};return y=A.key,n=[...n,T],!1})}return n;case"child_added":if(d>-1){const y=n[d-1];(y&&y.key||null)!==o&&(n=n.filter(A=>A.payload.key!==e.key)).splice(m,0,t)}else{if(null==o)return[t,...n];(n=n.slice()).splice(m,0,t)}return n;case"child_removed":return n.filter(y=>y.payload.key!==e.key);case"child_changed":return n.map(y=>y.payload.key===l?t:y);case"child_moved":if(d>-1){const y=n.splice(d,1)[0];return(n=n.slice()).splice(m,0,y),n}return n;default:return n}}function VD(n){return(xD(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function RD(n,t,e){return function(n,t,e){return W5(n,"value","once",e).pipe(rn(o=>{const l=[(0,je.of)(o)];return t.forEach(d=>l.push(W5(n,d,"on",e))),(0,UM.T)(...l).pipe(Fs(wk,[]))}),e=>e.lift(new pN(void 0,void 0)))}(n,t=VD(t),e)}function PD(n,t,e){const o=(t=VD(t)).map(l=>W5(n,l,"on",e));return(0,UM.T)(...o)}function kD(n,t){return function(o,l){return ND(o,{stringCase:()=>n.child(o)[t](l),firebaseCase:()=>o[t](l),snapshotCase:()=>o.ref[t](l)})}}function xk(n){return function(e){return e?ND(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function OD(n,t){return function(){return W5(n,"value","on",t)}}const Nk=new c.OlP("angularfire2.realtimeDatabaseURL"),Lk=new c.OlP("angularfire2.database.use-emulator");let mA=(()=>{class n{constructor(e,o,l,d,m,y,A,T,P,V,Y,he,xe,Fe,Ye){this.schedulers=y;const jt=A,Tt=(0,ho.on)(e,m,o);T&&SD(Tt,m,P,Y,he,xe,V,Fe),this.database=(0,ho.cc)(`${Tt.name}.database.${l}`,"AngularFireDatabase",Tt.name,()=>{const g1=m.runOutsideAngular(()=>Tt.database(l||void 0));return jt&&g1.useEmulator(...jt),g1},[jt])}list(e,o){const l=this.schedulers.ngZone.runOutsideAngular(()=>zD(this.database,e));let d=l;return o&&(d=o(l)),function(n,t){const e=t.schedulers.outsideAngular,o=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:kD(o,"update"),set:kD(o,"set"),push:l=>o.push(l),remove:xk(o),snapshotChanges:l=>RD(n,l,e).pipe(Z1.iC),stateChanges:l=>PD(n,l,e).pipe(Z1.iC),auditTrail:l=>function(n,t,e){return function(n,t,e){return function(n,t){return W5(n,"value","on",t).pipe((0,St.U)(e=>{let o;return e.payload.forEach(l=>(o=l.key,!1)),{data:e,lastKeyToLoad:o}}))}(n,e).pipe(function(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new vN(n,e))}}(t),(0,St.U)(([l,d])=>{const m=l.lastKeyToLoad,y=d.map(A=>A.key);return{actions:d,lastKeyToLoad:m,loadedKeys:y}}),function(n){return t=>t.lift(new CN(n))}(l=>-1===l.loadedKeys.indexOf(l.lastKeyToLoad)),(0,St.U)(l=>l.actions))}(n,PD(n,t).pipe(Fs((l,d)=>[...l,d],[])),e)}(n,l,e).pipe(Z1.iC),valueChanges:(l,d)=>RD(n,l,e).pipe((0,St.U)(y=>y.map(A=>d&&d.idField?Object.assign(Object.assign({},A.payload.val()),{[d.idField]:A.key}):A.payload.val())),Z1.iC)}}(d,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>OD(n,t.schedulers.outsideAngular)().pipe(Z1.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>OD(n,t.schedulers.outsideAngular)().pipe(Z1.iC,(0,St.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>zD(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ho.Dh),c.LFG(ho.xv,8),c.LFG(Nk,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Z1.HU),c.LFG(Lk,8),c.LFG(TD,8),c.LFG(bD,8),c.LFG(MD,8),c.LFG(ED,8),c.LFG(AD,8),c.LFG(wD,8),c.LFG(ID,8),c.LFG(up,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Vk=(()=>{class n{constructor(){V3.Z.registerVersion("angularfire",Z1.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[mA]}),n})(),fp=(()=>{class n{constructor(e){this.db=e,this.list=[]}getBudgets(){return this.db.database.ref().child("budgets").on("value",e=>{const o=e.val();0!=this.list.length&&(this.list=[]);for(let l in o)this.list.push(Object.assign({key:l},o[l]))}),this.list}persistBudget(e){"-1"==e.getId()&&e.setId(ZS()),this.db.database.ref().child("budgets").child(e.getId()).set(e)}removeBudget(e){this.db.database.ref().child("budgets").child(e).remove(),this.getBudgets()}getBudget(e){var o=this;return(0,l4.Z)(function*(){let d=(yield o.db.database.ref().child("budgets").child(e).get()).val();return d.$key=e,d})()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(mA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function G5(n){return(G5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function HD(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function kk(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Wt(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},o=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),o.forEach(function(l){kk(n,l,e[l])})}return n}function gA(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=[],o=!0,l=!1,d=void 0;try{for(var y,m=n[Symbol.iterator]();!(o=(y=m.next()).done)&&(e.push(y.value),!t||e.length!==t);o=!0);}catch(A){l=!0,d=A}finally{try{!o&&null!=m.return&&m.return()}finally{if(l)throw d}}return e}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var _A={},UD={};try{"undefined"!=typeof window&&(_A=window),"undefined"!=typeof document&&(UD=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(n){}var ZD=(_A.navigator||{}).userAgent,$D=void 0===ZD?"":ZD,Nc=_A,vn=UD,h4=!!vn.documentElement&&!!vn.head&&"function"==typeof vn.addEventListener&&"function"==typeof vn.createElement,p4=(~$D.indexOf("MSIE")||$D.indexOf("Trident/"),"___FONT_AWESOME___"),YD="svg-inline--fa",XD=[1,2,3,4,5,6,7,8,9,10],eO=XD.concat([11,12,13,14,15,16,17,18,19,20]),H0={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ez=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",H0.GROUP,H0.SWAP_OPACITY,H0.PRIMARY,H0.SECONDARY].concat(XD.map(function(n){return"".concat(n,"x")})).concat(eO.map(function(n){return"w-".concat(n)})),Nc.FontAwesomeConfig||{});vn&&"function"==typeof vn.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var t=gA(n,2),o=t[1],l=function(n){return""===n||"false"!==n&&("true"===n||n)}(function(n){var t=vn.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}(t[0]));null!=l&&(ez[o]=l)});var bA=Wt({},{familyPrefix:"fa",replacementClass:YD,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},ez);bA.autoReplaceSvg||(bA.observeMutations=!1);var yt=Wt({},bA);Nc.FontAwesomeConfig=yt;var m4=Nc||{};m4[p4]||(m4[p4]={}),m4[p4].styles||(m4[p4].styles={}),m4[p4].hooks||(m4[p4].hooks={}),m4[p4].shims||(m4[p4].shims=[]);var yo=m4[p4],tz=[];h4&&((vn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(vn.readyState)||vn.addEventListener("DOMContentLoaded",function n(){vn.removeEventListener("DOMContentLoaded",n),tz.map(function(t){return t()})}));var EA,MA="pending",nz="settled",pp="fulfilled",mp="rejected",lO=function(){},rz="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,uO="undefined"==typeof setImmediate?setTimeout:setImmediate,q5=[];function fO(){for(var n=0;n<q5.length;n++)q5[n][0](q5[n][1]);q5=[],EA=!1}function gp(n,t){q5.push([n,t]),EA||(EA=!0,uO(fO,0))}function iz(n){var t=n.owner,e=t._state,o=t._data,l=n[e],d=n.then;if("function"==typeof l){e=pp;try{o=l(o)}catch(m){Y5(d,m)}}oz(d,o)||(e===pp&&AA(d,o),e===mp&&Y5(d,o))}function oz(n,t){var e;try{if(n===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"===G5(t))){var o=t.then;if("function"==typeof o)return o.call(t,function(l){e||(e=!0,t===l?sz(n,l):AA(n,l))},function(l){e||(e=!0,Y5(n,l))}),!0}}catch(l){return e||Y5(n,l),!0}return!1}function AA(n,t){(n===t||!oz(n,t))&&sz(n,t)}function sz(n,t){n._state===MA&&(n._state=nz,n._data=t,gp(hO,n))}function Y5(n,t){n._state===MA&&(n._state=nz,n._data=t,gp(pO,n))}function az(n){n._then=n._then.forEach(iz)}function hO(n){n._state=pp,az(n)}function pO(n){n._state=mp,az(n),!n._handled&&rz&&global.process.emit("unhandledRejection",n._data,n)}function mO(n){global.process.emit("rejectionHandled",n)}function Zr(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof Zr))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(n,t){function o(l){Y5(t,l)}try{n(function(l){AA(t,l)},o)}catch(l){o(l)}}(n,this)}Zr.prototype={constructor:Zr,_state:MA,_then:null,_data:void 0,_handled:!1,then:function(t,e){var o={owner:this,then:new this.constructor(lO),fulfilled:t,rejected:e};return(e||t)&&!this._handled&&(this._handled=!0,this._state===mp&&rz&&gp(mO,this)),this._state===pp||this._state===mp?gp(iz,o):this._then.push(o),o.then},catch:function(t){return this.then(null,t)}},Zr.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new Zr(function(t,e){var o=[],l=0;function d(A){return l++,function(T){o[A]=T,--l||t(o)}}for(var y,m=0;m<n.length;m++)(y=n[m])&&"function"==typeof y.then?y.then(d(m),e):o[m]=y;l||t(o)})},Zr.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new Zr(function(t,e){for(var l,o=0;o<n.length;o++)(l=n[o])&&"function"==typeof l.then?l.then(t,e):t(l)})},Zr.resolve=function(n){return n&&"object"===G5(n)&&n.constructor===Zr?n:new Zr(function(t){t(n)})},Zr.reject=function(n){return new Zr(function(t,e){e(n)})};var g4={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function K5(){for(var n=12,t="";n-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function lz(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function vp(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(n[e],";")},"")}function IA(n){return n.size!==g4.size||n.x!==g4.x||n.y!==g4.y||n.rotate!==g4.rotate||n.flipX||n.flipY}function uz(n){var t=n.transform,o=n.iconWidth,l={transform:"translate(".concat(n.containerWidth/2," 256)")},d="translate(".concat(32*t.x,", ").concat(32*t.y,") "),m="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),y="rotate(".concat(t.rotate," 0 0)");return{outer:l,inner:{transform:"".concat(d," ").concat(m," ").concat(y)},path:{transform:"translate(".concat(o/2*-1," -256)")}}}var SA={x:0,y:0,width:"100%",height:"100%"};function fz(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}function bO(n){return"g"===n.tag?n.children:[n]}function TA(n){var t=n.icons,e=t.main,o=t.mask,l=n.prefix,d=n.iconName,m=n.transform,y=n.symbol,A=n.title,T=n.maskId,P=n.titleId,V=n.extra,Y=n.watchable,he=void 0!==Y&&Y,xe=o.found?o:e,Fe=xe.width,Ye=xe.height,jt="fak"===l,Tt=jt?"":"fa-w-".concat(Math.ceil(Fe/Ye*16)),g1=[yt.replacementClass,d?"".concat(yt.familyPrefix,"-").concat(d):"",Tt].filter(function(wp){return-1===V.classes.indexOf(wp)}).filter(function(wp){return""!==wp||!!wp}).concat(V.classes).join(" "),Pt={children:[],attributes:Wt({},V.attributes,{"data-prefix":l,"data-icon":d,class:g1,role:V.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Fe," ").concat(Ye)})},Zn=jt&&!~V.classes.indexOf("fa-fw")?{width:"".concat(Fe/Ye*16*.0625,"em")}:{};he&&(Pt.attributes["data-fa-i2svg"]=""),A&&Pt.children.push({tag:"title",attributes:{id:Pt.attributes["aria-labelledby"]||"title-".concat(P||K5())},children:[A]});var C2=Wt({},Pt,{prefix:l,iconName:d,main:e,mask:o,maskId:T,transform:m,symbol:y,styles:Wt({},Zn,V.styles)}),Yz=o.found&&e.found?function(n){var t=n.children,e=n.attributes,o=n.main,l=n.mask,d=n.maskId,A=o.icon,P=l.icon,V=uz({transform:n.transform,containerWidth:l.width,iconWidth:o.width}),Y={tag:"rect",attributes:Wt({},SA,{fill:"white"})},he=A.children?{children:A.children.map(fz)}:{},xe={tag:"g",attributes:Wt({},V.inner),children:[fz(Wt({tag:A.tag,attributes:Wt({},A.attributes,V.path)},he))]},Fe={tag:"g",attributes:Wt({},V.outer),children:[xe]},Ye="mask-".concat(d||K5()),jt="clip-".concat(d||K5()),Tt={tag:"mask",attributes:Wt({},SA,{id:Ye,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[Y,Fe]},g1={tag:"defs",children:[{tag:"clipPath",attributes:{id:jt},children:bO(P)},Tt]};return t.push(g1,{tag:"rect",attributes:Wt({fill:"currentColor","clip-path":"url(#".concat(jt,")"),mask:"url(#".concat(Ye,")")},SA)}),{children:t,attributes:e}}(C2):function(n){var t=n.children,e=n.attributes,o=n.main,l=n.transform,m=vp(n.styles);if(m.length>0&&(e.style=m),IA(l)){var y=uz({transform:l,containerWidth:o.width,iconWidth:o.width});t.push({tag:"g",attributes:Wt({},y.outer),children:[{tag:"g",attributes:Wt({},y.inner),children:[{tag:o.icon.tag,children:o.icon.children,attributes:Wt({},o.icon.attributes,y.path)}]}]})}else t.push(o.icon);return{children:t,attributes:e}}(C2),aZ=Yz.attributes;return C2.children=Yz.children,C2.attributes=aZ,y?function(n){var e=n.iconName,o=n.children,d=n.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Wt({},n.attributes,{id:!0===d?"".concat(n.prefix,"-").concat(yt.familyPrefix,"-").concat(e):d}),children:o}]}]}(C2):function(n){var t=n.children,e=n.main,o=n.mask,l=n.attributes,d=n.styles,m=n.transform;if(IA(m)&&e.found&&!o.found){var T={x:e.width/e.height/2,y:.5};l.style=vp(Wt({},d,{"transform-origin":"".concat(T.x+m.x/16,"em ").concat(T.y+m.y/16,"em")}))}return[{tag:"svg",attributes:l,children:t}]}(C2)}var zA=function(t,e,o,l){var A,T,P,d=Object.keys(t),m=d.length,y=void 0!==l?function(t,e){return function(o,l,d,m){return t.call(e,o,l,d,m)}}(e,l):e;for(void 0===o?(A=1,P=t[d[0]]):(A=0,P=o);A<m;A++)P=y(P,t[T=d[A]],T,t);return P};function gz(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.skipHooks,l=void 0!==o&&o,d=Object.keys(t).reduce(function(m,y){var A=t[y];return A.icon?m[A.iconName]=A.icon:m[y]=A,m},{});"function"!=typeof yo.hooks.addPack||l?yo.styles[n]=Wt({},yo.styles[n]||{},d):yo.hooks.addPack(n,d),"fas"===n&&gz("fa",t)}var vz=yo.styles,xO=yo.shims,bz=function(){var t=function(l){return zA(vz,function(d,m,y){return d[y]=zA(m,l,{}),d},{})};t(function(o,l,d){return l[3]&&(o[l[3]]=d),o}),t(function(o,l,d){var m=l[2];return o[d]=d,m.forEach(function(y){o[y]=d}),o});var e="far"in vz;zA(xO,function(o,l){var m=l[1];return"far"===m&&!e&&(m="fas"),o[l[0]]={prefix:m,iconName:l[2]},o},{})};function Ez(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}function Rc(n){var t=n.tag,e=n.attributes,o=void 0===e?{}:e,l=n.children,d=void 0===l?[]:l;return"string"==typeof n?lz(n):"<".concat(t," ").concat(function(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(lz(n[e]),'" ')},"").trim()}(o),">").concat(d.map(Rc).join(""),"</").concat(t,">")}bz();function J5(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}(J5.prototype=Object.create(Error.prototype)).constructor=J5;var Cp={fill:"currentColor"},xz={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},RA=(Wt({},Cp,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),Wt({},xz,{attributeName:"opacity"}));function kA(n){var t=n[0],e=n[1],d=gA(n.slice(4),1)[0];return{found:!0,width:t,height:e,icon:Array.isArray(d)?{tag:"g",attributes:{class:"".concat(yt.familyPrefix,"-").concat(H0.GROUP)},children:[{tag:"path",attributes:{class:"".concat(yt.familyPrefix,"-").concat(H0.SECONDARY),fill:"currentColor",d:d[0]}},{tag:"path",attributes:{class:"".concat(yt.familyPrefix,"-").concat(H0.PRIMARY),fill:"currentColor",d:d[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d}}}}function X5(){yt.autoAddCss&&!Ep&&(function(n){if(n&&h4){var t=vn.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;for(var e=vn.head.childNodes,o=null,l=e.length-1;l>-1;l--){var d=e[l],m=(d.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(m)>-1&&(o=d)}vn.head.insertBefore(t,o)}}(function(){var n="fa",t=YD,e=yt.familyPrefix,o=yt.replacementClass,l='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(e!==n||o!==t){var d=new RegExp("\\.".concat(n,"\\-"),"g"),m=new RegExp("\\--".concat(n,"\\-"),"g"),y=new RegExp("\\.".concat(t),"g");l=l.replace(d,".".concat(e,"-")).replace(m,"--".concat(e,"-")).replace(y,".".concat(o))}return l}()),Ep=!0)}function bp(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(o){return Rc(o)})}}),Object.defineProperty(n,"node",{get:function(){if(h4){var o=vn.createElement("div");return o.innerHTML=n.html,o.children}}}),n}function Mp(n){var t=n.prefix,e=void 0===t?"fa":t,o=n.iconName;if(o)return Ez(Vz.definitions,e,o)||Ez(yo.styles,e,o)}Wt({},Cp,{cx:"256",cy:"364",r:"28"}),Wt({},xz,{attributeName:"r",values:"28;14;28;28;14;28;"}),Wt({},RA,{values:"1;0;1;1;0;1;"}),Wt({},Cp,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Wt({},RA,{values:"1;0;0;0;0;1;"}),Wt({},Cp,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Wt({},RA,{values:"0;0;1;1;0;0;"});var Vz=new(function(){function n(){(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function(n,t,e){t&&HD(n.prototype,t)}(n,[{key:"add",value:function(){for(var e=this,o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];var m=l.reduce(this._pullDefinitions,{});Object.keys(m).forEach(function(y){e.definitions[y]=Wt({},e.definitions[y]||{},m[y]),gz(y,m[y]),bz()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,o){var l=o.prefix&&o.iconName&&o.icon?{0:o}:o;return Object.keys(l).map(function(d){var m=l[d],y=m.prefix,A=m.iconName,T=m.icon;e[y]||(e[y]={}),e[y][A]=T}),e}}]),n}()),Ep=!1,FA_transform=function(t){return function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce(function(o,l){var d=l.toLowerCase().split("-"),m=d[0],y=d.slice(1).join("-");if(m&&"h"===y)return o.flipX=!0,o;if(m&&"v"===y)return o.flipY=!0,o;if(y=parseFloat(y),isNaN(y))return o;switch(m){case"grow":o.size=o.size+y;break;case"shrink":o.size=o.size-y;break;case"left":o.x=o.x-y;break;case"right":o.x=o.x+y;break;case"up":o.y=o.y-y;break;case"down":o.y=o.y+y;break;case"rotate":o.rotate=o.rotate+y}return o},e):e}(t)},Rz=function(n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(t||{}).icon?t:Mp(t||{}),l=e.mask;return l&&(l=(l||{}).icon?l:Mp(l||{})),n(o,Wt({},e,{mask:l}))}}(function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.transform,o=void 0===e?g4:e,l=t.symbol,d=void 0!==l&&l,m=t.mask,y=void 0===m?null:m,A=t.maskId,T=void 0===A?null:A,P=t.title,V=void 0===P?null:P,Y=t.titleId,he=void 0===Y?null:Y,xe=t.classes,Fe=void 0===xe?[]:xe,Ye=t.attributes,jt=void 0===Ye?{}:Ye,Tt=t.styles,g1=void 0===Tt?{}:Tt;if(n){var Pt=n.prefix,Zn=n.iconName,C2=n.icon;return bp(Wt({type:"icon"},n),function(){return X5(),yt.autoA11y&&(V?jt["aria-labelledby"]="".concat(yt.replacementClass,"-title-").concat(he||K5()):(jt["aria-hidden"]="true",jt.focusable="false")),TA({icons:{main:kA(C2),mask:y?kA(y.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Pt,iconName:Zn,transform:Wt({},g4,o),symbol:d,title:V,maskId:T,titleId:he,extra:{attributes:jt,styles:g1,classes:Fe}})})}});const Oz=["*"];let Hz=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),fH=(()=>{class n{constructor(){this.definitions={}}addIcons(...e){for(const o of e)o.prefix in this.definitions||(this.definitions[o.prefix]={}),this.definitions[o.prefix][o.iconName]=o}addIconPacks(...e){for(const o of e){const l=Object.keys(o).map(d=>o[d]);this.addIcons(...l)}}getIconDefinition(e,o){return e in this.definitions&&o in this.definitions[e]?this.definitions[e][o]:null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const Fz=n=>{const t={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(t).map(e=>t[e]?e:null).filter(e=>e)};let gH=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[c.TTD]}),n})(),vH=(()=>{class n{constructor(e,o){this.renderer=e,this.elementRef=o}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[c.TTD],ngContentSelectors:Oz,decls:1,vars:0,template:function(e,o){1&e&&(c.F$t(),c.Hsn(0))},encapsulation:2}),n})(),UA=(()=>{class n{constructor(e,o,l,d,m){this.sanitizer=e,this.config=o,this.iconLibrary=l,this.stackItem=d,this.classes=[],null!=m&&null==d&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let o=null;if(o=null==this.icon?this.config.fallbackIcon:this.icon,e){const l=this.findIconDefinition(o);if(null!=l){const d=this.buildParams();this.renderIcon(l,d)}}}render(){this.ngOnChanges({})}findIconDefinition(e){const o=((n,t)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:t,iconName:n}:void 0)(e,this.config.defaultPrefix);if("icon"in o)return o;const l=this.iconLibrary.getIconDefinition(o.prefix,o.iconName);if(null!=l)return l;const d=Mp(o);if(null!=d){const m="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+m);else if(!this.config.globalLibrary)throw new Error(m);return d}return(n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(o),null}buildParams(){const e={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},o="string"==typeof this.transform?FA_transform(this.transform):this.transform;return{title:this.title,transform:o,classes:[...Fz(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,o){const l=Rz(e,o);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(l.html.join("\n"))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ei),c.Y36(Hz),c.Y36(fH),c.Y36(gH,8),c.Y36(vH,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(e,o){2&e&&(c.Ikx("innerHTML",o.renderedIconHTML,c.oJD),c.uIk("title",o.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[c.TTD],decls:0,vars:0,template:function(e,o){},encapsulation:2}),n})(),_H=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function yH(n,t){if(1&n&&c._UZ(0,"fa-icon",30),2&n){const e=c.oxw();c.Q6J("icon",e.valid)}}function CH(n,t){if(1&n&&c._UZ(0,"fa-icon",31),2&n){const e=c.oxw();c.Q6J("icon",e.error)}}function bH(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1,"Por favor introduzca un proveedor v\xe1lido."),c.qZA())}function MH(n,t){if(1&n&&c._UZ(0,"fa-icon",30),2&n){const e=c.oxw();c.Q6J("icon",e.valid)}}function EH(n,t){if(1&n&&c._UZ(0,"fa-icon",31),2&n){const e=c.oxw();c.Q6J("icon",e.error)}}function AH(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1,"Por favor introduzca una fecha v\xe1lida."),c.qZA())}function wH(n,t){if(1&n&&c._UZ(0,"fa-icon",30),2&n){const e=c.oxw();c.Q6J("icon",e.valid)}}function IH(n,t){if(1&n&&c._UZ(0,"fa-icon",31),2&n){const e=c.oxw();c.Q6J("icon",e.error)}}function SH(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1,"Por favor introduzca un concepto v\xe1lido."),c.qZA())}function TH(n,t){if(1&n&&c._UZ(0,"fa-icon",30),2&n){const e=c.oxw();c.Q6J("icon",e.valid)}}function xH(n,t){if(1&n&&c._UZ(0,"fa-icon",31),2&n){const e=c.oxw();c.Q6J("icon",e.error)}}function DH(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1,"Por favor introduzca una base v\xe1lida."),c.qZA())}let zH=(()=>{class n{constructor(e,o){this.pf=e,this.budgetservide=o,this.error=sl,this.valid=H3,this.iva=0,this.total=0,this.budgetForm=this.pf.group({provider:"",date:"",concept:"",base:"",type:"",iva:"",total:""})}ngOnInit(){this.budgetForm=this.pf.group({provider:["",p1.required],date:["",p1.required],concept:["",[p1.required,p1.minLength(10)]],base:["",p1.required],type:["",p1.required],iva:this.iva,total:this.total}),this.onChanges()}onSubmit(){this.budget=this.saveBudget(),this.budgetForm.reset()}saveBudget(){var e,o,l,d,m,y,A;let T=new jS("-1","","","","","","","");const P={proveedor:null===(e=this.budgetForm.get("provider"))||void 0===e?void 0:e.value,fecha:null===(o=this.budgetForm.get("date"))||void 0===o?void 0:o.value,concepto:null===(l=this.budgetForm.get("concept"))||void 0===l?void 0:l.value,base:null===(d=this.budgetForm.get("base"))||void 0===d?void 0:d.value,tipo:null===(m=this.budgetForm.get("type"))||void 0===m?void 0:m.value,iva:null===(y=this.budgetForm.get("iva"))||void 0===y?void 0:y.value,total:null===(A=this.budgetForm.get("total"))||void 0===A?void 0:A.value};T.setProvider(P.proveedor),T.setDate(P.fecha),T.setConcept(P.concepto),T.setBimpo(P.base),T.setIva(P.tipo),T.setImpva(P.iva),T.setTotal(P.total),this.budgetservide.persistBudget(T)}onChanges(){this.budgetForm.valueChanges.subscribe(e=>{this.base=e.base,this.type=e.type,this.budgetForm.value.iva=this.base*this.type,this.budgetForm.value.total=this.base+this.base*this.type})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Y6),c.Y36(fp))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-addbudget"]],decls:64,vars:16,consts:[[1,"row","justify-content-center"],[1,"col-xs-12","col-sm-10","col-md-8","col-sm-offset-1","col-md-offset","2"],["routerLink","/budgets",1,"btn","btn-primary","float-md-right"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","proveedor"],["style","color: #42A948",3,"icon",4,"ngIf"],["style","color: #a94442",3,"icon",4,"ngIf"],["type","text","id","proveedor","formControlName","provider",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[1,"form-group","col-6","col-md-4","justify-content-center"],["for","fecha"],["type","date","id","fecha","formControlName","date",1,"form-control"],["for","concepto"],["type","text","id","concepto","formControlName","concept",1,"form-control"],["for","base"],["type","number","id","base","formControlName","base",1,"form-control"],["for","type"],["id","type","formControlName","type",1,"form-control"],["value",""],["value","0"],["value","0.04"],["value","0.10"],["value","0.21"],["for","iva"],["type","number","id","iva","formControlName","iva","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["for","total"],["type","number","id","total","formControlName","total","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"hidden"],["routerLink","/budgets",1,"btn","btn-danger"],[2,"color","#42A948",3,"icon"],[2,"color","#a94442",3,"icon"],[1,"alert","alert-danger"]],template:function(e,o){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h2"),c._uU(3,"A\xf1adir nuevo presupuesto"),c.qZA(),c.TgZ(4,"a",2),c._uU(5,"Regresar al listado"),c.qZA(),c._UZ(6,"br"),c.TgZ(7,"form",3),c.NdJ("ngSubmit",function(){return o.onSubmit()}),c.TgZ(8,"div",4),c.TgZ(9,"label",5),c._uU(10,"Proveedor"),c.qZA(),c.YNc(11,yH,1,1,"fa-icon",6),c.YNc(12,CH,1,1,"fa-icon",7),c._UZ(13,"input",8),c.YNc(14,bH,2,0,"p",9),c.qZA(),c.TgZ(15,"div",10),c.TgZ(16,"label",11),c._uU(17,"Fecha Presupuesto"),c.qZA(),c.YNc(18,MH,1,1,"fa-icon",6),c.YNc(19,EH,1,1,"fa-icon",7),c._UZ(20,"input",12),c.YNc(21,AH,2,0,"p",9),c.qZA(),c.TgZ(22,"div",4),c.TgZ(23,"label",13),c._uU(24,"Concepto"),c.qZA(),c.YNc(25,wH,1,1,"fa-icon",6),c.YNc(26,IH,1,1,"fa-icon",7),c._UZ(27,"input",14),c.YNc(28,SH,2,0,"p",9),c.qZA(),c.TgZ(29,"div",4),c.TgZ(30,"label",15),c._uU(31,"Base Imponible"),c.qZA(),c.YNc(32,TH,1,1,"fa-icon",6),c.YNc(33,xH,1,1,"fa-icon",7),c._UZ(34,"input",16),c.YNc(35,DH,2,0,"p",9),c.qZA(),c.TgZ(36,"div",4),c.TgZ(37,"label",17),c._uU(38,"Tipo de IVA"),c.qZA(),c.TgZ(39,"select",18),c.TgZ(40,"option",19),c._uU(41,"Seleccione..."),c.qZA(),c.TgZ(42,"option",20),c._uU(43," 0 %"),c.qZA(),c.TgZ(44,"option",21),c._uU(45," 4 %"),c.qZA(),c.TgZ(46,"option",22),c._uU(47,"10 %"),c.qZA(),c.TgZ(48,"option",23),c._uU(49,"21 %"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(50,"div",4),c.TgZ(51,"label",24),c._uU(52,"Importe IVA"),c.qZA(),c.TgZ(53,"input",25),c.NdJ("ngModelChange",function(d){return o.budgetForm.value.iva=d}),c.qZA(),c.qZA(),c.TgZ(54,"div",4),c.TgZ(55,"label",26),c._uU(56,"Total Factura IVA Incluido"),c.qZA(),c.TgZ(57,"input",27),c.NdJ("ngModelChange",function(d){return o.budgetForm.value.total=d}),c.qZA(),c.qZA(),c._UZ(58,"br"),c.TgZ(59,"button",28),c._uU(60,"A\xf1adir Presupuesto"),c.qZA(),c.TgZ(61,"a",29),c._uU(62,"Cancelar"),c.qZA(),c._UZ(63,"hr"),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(7),c.Q6J("formGroup",o.budgetForm),c.xp6(4),c.Q6J("ngIf",o.budgetForm.controls.provider.valid),c.xp6(1),c.Q6J("ngIf",o.budgetForm.controls.provider.invalid&&o.budgetForm.controls.provider.touched),c.xp6(2),c.Q6J("ngIf",o.budgetForm.controls.provider.invalid&&o.budgetForm.controls.provider.touched),c.xp6(4),c.Q6J("ngIf",o.budgetForm.controls.date.valid),c.xp6(1),c.Q6J("ngIf",o.budgetForm.controls.date.invalid&&o.budgetForm.controls.date.touched),c.xp6(2),c.Q6J("ngIf",o.budgetForm.controls.date.invalid&&o.budgetForm.controls.date.touched),c.xp6(4),c.Q6J("ngIf",o.budgetForm.controls.concept.valid),c.xp6(1),c.Q6J("ngIf",o.budgetForm.controls.concept.invalid&&o.budgetForm.controls.concept.touched),c.xp6(2),c.Q6J("ngIf",o.budgetForm.controls.concept.invalid&&o.budgetForm.controls.concept.touched),c.xp6(4),c.Q6J("ngIf",o.budgetForm.controls.base.valid),c.xp6(1),c.Q6J("ngIf",o.budgetForm.controls.base.invalid&&o.budgetForm.controls.base.touched),c.xp6(2),c.Q6J("ngIf",o.budgetForm.controls.base.invalid&&o.budgetForm.controls.base.touched),c.xp6(18),c.Q6J("ngModel",o.budgetForm.value.iva),c.xp6(4),c.Q6J("ngModel",o.budgetForm.value.total),c.xp6(2),c.Q6J("hidden",!o.budgetForm.valid))},directives:[gi,ma,ua,as,l2,vi,ss,ga,co,Lr,lo,q6,UA],styles:[".row[_ngcontent-%COMP%]{margin-left:2%;margin-right:2%;margin-bottom:2%;padding:3%;border:1px solid #aaa;border-radius:10px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442}input.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948}"]}),n})();function NH(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.qZA(),c.TgZ(11,"td"),c._uU(12),c.qZA(),c.TgZ(13,"td"),c.TgZ(14,"button",5),c._uU(15,"Editar"),c.qZA(),c.qZA(),c.TgZ(16,"td"),c.TgZ(17,"button",6),c.NdJ("click",function(){const d=c.CHM(e).$implicit;return c.oxw().deleteBudget(d.id)}),c._uU(18,"Eliminar"),c.qZA(),c.qZA(),c.qZA()}if(2&n){const e=t.$implicit;c.xp6(2),c.Oqu(e.provider),c.xp6(2),c.Oqu(e.date),c.xp6(2),c.Oqu(e.concept),c.xp6(2),c.Oqu(e.bimpo),c.xp6(2),c.Oqu(e.iva),c.xp6(2),c.Oqu(e.total),c.xp6(2),c.MGl("routerLink","/editbudget/",e.id,"")}}let LH=(()=>{class n{constructor(e){this.budgets=e.getBudgets(),this.budgetservice=e}ngOnInit(){}deleteBudget(e){this.budgetservice.removeBudget(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(fp))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-budgets"]],decls:27,vars:1,consts:[[1,"budgets","justify-content-md-center"],["routerLink","/addbudget",1,"btn","btn-primary","float-md-right"],[1,"table","table-bordered","table-striped","tabla",2,"margin-top","40px"],[1,"filters"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(e,o){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"h3"),c._uU(2,"Listado de Presupuestos"),c.qZA(),c.TgZ(3,"a",1),c._uU(4,"A\xf1adir nuevo presupuesto"),c.qZA(),c._UZ(5,"br"),c.TgZ(6,"table",2),c.TgZ(7,"thead"),c.TgZ(8,"tr",3),c.TgZ(9,"th"),c._uU(10,"Proveedor"),c.qZA(),c.TgZ(11,"th"),c._uU(12,"Fecha"),c.qZA(),c.TgZ(13,"th"),c._uU(14,"Concepto"),c.qZA(),c.TgZ(15,"th"),c._uU(16,"Base"),c.qZA(),c.TgZ(17,"th"),c._uU(18,"IVA"),c.qZA(),c.TgZ(19,"th"),c._uU(20,"Total"),c.qZA(),c.TgZ(21,"th"),c._uU(22,"Editar"),c.qZA(),c.TgZ(23,"th"),c._uU(24,"Eliminar"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(25,"tbody"),c.YNc(26,NH,19,7,"tr",4),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(26),c.Q6J("ngForOf",o.budgets))},directives:[gi,Dt,ca],styles:[".budgets[_ngcontent-%COMP%]{margin-left:5%;margin-right:5%}"]}),n})();function VH(n,t){1&n&&c._UZ(0,"i",30)}function RH(n,t){1&n&&c._UZ(0,"i",31)}function PH(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1," El campo Proveedor es obligatorio. "),c.qZA())}function kH(n,t){1&n&&c._UZ(0,"i",30)}function OH(n,t){1&n&&c._UZ(0,"i",31)}function HH(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1," El campo Fecha es obligatorio. "),c.qZA())}function FH(n,t){1&n&&c._UZ(0,"i",30)}function UH(n,t){1&n&&c._UZ(0,"i",31)}function BH(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1," El campo Concept es obligatorio y debe tener m\xe1s de 10 caracteres. "),c.qZA())}function jH(n,t){1&n&&c._UZ(0,"i",30)}function ZH(n,t){1&n&&c._UZ(0,"i",31)}function $H(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1," El campo bimpo Imponible es obligatorio. "),c.qZA())}function WH(n,t){1&n&&c._UZ(0,"i",30)}function GH(n,t){1&n&&c._UZ(0,"i",31)}function qH(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1," El campo Tipo de iva es obligatorio. "),c.qZA())}function YH(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1," Por favor complete todos los campos "),c.qZA())}let KH=(()=>{class n{constructor(e,o,l,d){this.pf=e,this.budgetservide=o,this.router=l,this.activatedRouter=d,this.impva=0,this.total=0,this.activatedRouter.params.subscribe(m=>{this.id=m.id,this.budgetservide.getBudget(this.id).then(y=>this.budget=y)}),this.budgetForm=this.pf.group({provider:"",date:"",concept:"",bimpo:"",iva:"",impva:"",total:""})}ngOnInit(){this.budgetForm=this.pf.group({provider:["",p1.required],date:["",p1.required],concept:["",[p1.required,p1.minLength(10)]],bimpo:["",p1.required],iva:["",p1.required],impva:this.impva,total:this.total}),this.onChanges()}onSubmit(){this.budget=this.saveBudget(),this.budgetForm.reset()}saveBudget(){var e,o,l,d,m,y,A;let T=new jS(this.id,"","","","","","","");const P={provider:null===(e=this.budgetForm.get("provider"))||void 0===e?void 0:e.value,fecha:null===(o=this.budgetForm.get("date"))||void 0===o?void 0:o.value,concepto:null===(l=this.budgetForm.get("concept"))||void 0===l?void 0:l.value,bimpo:null===(d=this.budgetForm.get("bimpo"))||void 0===d?void 0:d.value,tipo:null===(m=this.budgetForm.get("iva"))||void 0===m?void 0:m.value,impva:null===(y=this.budgetForm.get("impva"))||void 0===y?void 0:y.value,total:null===(A=this.budgetForm.get("total"))||void 0===A?void 0:A.value};T.setProvider(P.provider),T.setDate(P.fecha),T.setConcept(P.concepto),T.setBimpo(P.bimpo),T.setIva(P.tipo),T.setImpva(P.impva),T.setTotal(P.total),this.budgetservide.persistBudget(T)}onChanges(){this.budgetForm.valueChanges.subscribe(e=>{this.bimpo=e.bimpo,this.iva=e.iva,this.budgetForm.value.impva=this.bimpo*this.iva,this.budgetForm.value.total=this.bimpo+this.bimpo*this.iva})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Y6),c.Y36(fp),c.Y36(In),c.Y36(Sr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-editbudget"]],decls:68,vars:25,consts:[[1,"budgets"],[1,"row"],[1,"col-xs-12","col-sm-10","col-md-8","col-sm-offset-1","col-md-offset","2"],["routerLink","/budgets",1,"btn","btn-primary","float-md-right"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","provider"],["class","fa fa-check-circle check",4,"ngIf"],["class","fa fa-exclamation-circle uncheck",4,"ngIf"],["type","text","id","provider","formControlName","provider",1,"form-control",3,"ngModel","ngModelChange"],["class","alert alert-danger",4,"ngIf"],["for","date"],["type","date","id","date","formControlName","date",1,"form-control",3,"ngModel","ngModelChange"],["for","concept"],["type","text","id","concept","formControlName","concept",1,"form-control",3,"ngModel","ngModelChange"],["for","bimpo"],["type","number","id","bimpo","formControlName","bimpo",1,"form-control",3,"ngModel","ngModelChange"],["for","iva"],["id","iva","formControlName","iva",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","0"],["value","0.04"],["value","0.10"],["value","0.21"],["for","impva"],["type","number","id","impva","formControlName","impva","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["for","total"],["type","number","id","total","formControlName","total","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"],["routerLink","/budgets",1,"btn","btn-danger"],[1,"fa","fa-check-circle","check"],[1,"fa","fa-exclamation-circle","uncheck"],[1,"alert","alert-danger"]],template:function(e,o){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"h2"),c._uU(4,"Editar Presupuesto"),c.qZA(),c.TgZ(5,"a",3),c._uU(6,"Regresar al listado"),c.qZA(),c._UZ(7,"br"),c.TgZ(8,"form",4),c.NdJ("ngSubmit",function(){return o.onSubmit()}),c.TgZ(9,"div",5),c.TgZ(10,"label",6),c._uU(11,"Proveedor"),c.qZA(),c.YNc(12,VH,1,0,"i",7),c.YNc(13,RH,1,0,"i",8),c.TgZ(14,"input",9),c.NdJ("ngModelChange",function(d){return o.budget.provider=d}),c.qZA(),c.YNc(15,PH,2,0,"p",10),c.qZA(),c.TgZ(16,"div",5),c.TgZ(17,"label",11),c._uU(18,"Fecha Presupuesto"),c.qZA(),c.YNc(19,kH,1,0,"i",7),c.YNc(20,OH,1,0,"i",8),c.TgZ(21,"input",12),c.NdJ("ngModelChange",function(d){return o.budget.date=d}),c.qZA(),c.YNc(22,HH,2,0,"p",10),c.qZA(),c.TgZ(23,"div",5),c.TgZ(24,"label",13),c._uU(25,"Concepto"),c.qZA(),c.YNc(26,FH,1,0,"i",7),c.YNc(27,UH,1,0,"i",8),c.TgZ(28,"input",14),c.NdJ("ngModelChange",function(d){return o.budget.concept=d}),c.qZA(),c.YNc(29,BH,2,0,"p",10),c.qZA(),c.TgZ(30,"div",5),c.TgZ(31,"label",15),c._uU(32,"Base Imponible"),c.qZA(),c.YNc(33,jH,1,0,"i",7),c.YNc(34,ZH,1,0,"i",8),c.TgZ(35,"input",16),c.NdJ("ngModelChange",function(d){return o.budget.bimpo=d}),c.qZA(),c.YNc(36,$H,2,0,"p",10),c.qZA(),c.TgZ(37,"div",5),c.TgZ(38,"label",17),c._uU(39,"Tipo de impva"),c.qZA(),c.YNc(40,WH,1,0,"i",7),c.YNc(41,GH,1,0,"i",8),c.TgZ(42,"select",18),c.NdJ("ngModelChange",function(d){return o.budget.iva=d}),c.TgZ(43,"option",19),c._uU(44,"Seleccione..."),c.qZA(),c.TgZ(45,"option",20),c._uU(46," 0 %"),c.qZA(),c.TgZ(47,"option",21),c._uU(48," 4 %"),c.qZA(),c.TgZ(49,"option",22),c._uU(50,"10 %"),c.qZA(),c.TgZ(51,"option",23),c._uU(52,"21 %"),c.qZA(),c.qZA(),c.YNc(53,qH,2,0,"p",10),c.qZA(),c.TgZ(54,"div",5),c.TgZ(55,"label",24),c._uU(56,"Importe iva"),c.qZA(),c.TgZ(57,"input",25),c.NdJ("ngModelChange",function(d){return o.budgetForm.value.impva=d}),c.qZA(),c.qZA(),c.TgZ(58,"div",5),c.TgZ(59,"label",26),c._uU(60,"Total Factura impva Incluido"),c.qZA(),c.TgZ(61,"input",27),c.NdJ("ngModelChange",function(d){return o.budgetForm.value.total=d}),c.qZA(),c.qZA(),c.TgZ(62,"button",28),c._uU(63,"Guardar Cambios"),c.qZA(),c.TgZ(64,"a",29),c._uU(65,"Cancelar"),c.qZA(),c.YNc(66,YH,2,0,"p",10),c.qZA(),c._UZ(67,"hr"),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(8),c.Q6J("formGroup",o.budgetForm),c.xp6(4),c.Q6J("ngIf",o.budgetForm.controls.provider.valid),c.xp6(1),c.Q6J("ngIf",o.budgetForm.controls.provider.invalid&&o.budgetForm.controls.provider.touched),c.xp6(1),c.Q6J("ngModel",o.budget.provider),c.xp6(1),c.Q6J("ngIf",o.budgetForm.controls.provider.invalid&&o.budgetForm.controls.provider.touched),c.xp6(4),c.Q6J("ngIf",o.budgetForm.controls.date.valid),c.xp6(1),c.Q6J("ngIf",o.budgetForm.controls.date.invalid&&o.budgetForm.controls.date.touched),c.xp6(1),c.Q6J("ngModel",o.budget.date),c.xp6(1),c.Q6J("ngIf",o.budgetForm.controls.date.invalid&&o.budgetForm.controls.date.touched),c.xp6(4),c.Q6J("ngIf",o.budgetForm.controls.concept.valid),c.xp6(1),c.Q6J("ngIf",o.budgetForm.controls.concept.invalid&&o.budgetForm.controls.concept.touched),c.xp6(1),c.Q6J("ngModel",o.budget.concept),c.xp6(1),c.Q6J("ngIf",o.budgetForm.controls.concept.invalid&&o.budgetForm.controls.concept.touched),c.xp6(4),c.Q6J("ngIf",o.budgetForm.controls.bimpo.valid),c.xp6(1),c.Q6J("ngIf",o.budgetForm.controls.bimpo.invalid&&o.budgetForm.controls.bimpo.touched),c.xp6(1),c.Q6J("ngModel",o.budget.bimpo),c.xp6(1),c.Q6J("ngIf",o.budgetForm.controls.bimpo.invalid&&o.budgetForm.controls.bimpo.touched),c.xp6(4),c.Q6J("ngIf",o.budgetForm.controls.iva.valid),c.xp6(1),c.Q6J("ngIf",o.budgetForm.controls.iva.invalid&&o.budgetForm.controls.iva.touched),c.xp6(1),c.Q6J("ngModel",o.budget.iva),c.xp6(11),c.Q6J("ngIf",o.budgetForm.controls.iva.invalid&&o.budgetForm.controls.iva.touched),c.xp6(4),c.Q6J("ngModel",o.budgetForm.value.impva),c.xp6(4),c.Q6J("ngModel",o.budgetForm.value.total),c.xp6(1),c.Q6J("disabled",!o.budgetForm.valid),c.xp6(4),c.Q6J("ngIf",!o.budgetForm.valid))},directives:[gi,ma,ua,as,l2,vi,ss,ga,co,Lr,lo,q6],styles:[".budgets[_ngcontent-%COMP%]{margin-left:5%;margin-right:5%}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442}input.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948}select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442}select.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948}.check[_ngcontent-%COMP%]{color:#42a948}.uncheck[_ngcontent-%COMP%]{color:#a94442}"]}),n})();class jz{constructor(t,e,o,l,d,m,y,A,T,P){this.id=t,this.name=e,this.cif=o,this.address=l,this.cp=d,this.location=m,this.provincia=y,this.phone=A,this.email=T,this.contact=P}getId(){return this.id}setId(t){this.id=t}getName(){return this.name}setName(t){this.name=t}getCif(){return this.cif}setCif(t){this.cif=t}getAddress(){return this.address}setAddress(t){this.address=t}getCp(){return this.cp}setCp(t){this.cp=t}getLocation(){return this.location}setLocation(t){this.location=t}getProvincia(){return this.provincia}setProvincia(t){this.provincia=t}getPhone(){return this.phone}setPhone(t){this.phone=t}getEmail(){return this.email}setEmail(t){this.email=t}getContact(){return this.contact}setContact(t){this.contact=t}}let Ap=(()=>{class n{constructor(e){this.db=e}getProviders(){let e=[];return this.db.database.ref().child("providers").get().then(o=>{const l=o.val();for(let d in l)e.push(Object.assign({key:d},l[d]))}),e}persistProvider(e){"-1"==e.getId()&&e.setId(ZS()),this.db.database.ref().child("providers").child(e.getId()).set(e)}removeProvider(e){this.db.database.ref().child("providers").child(e).remove()}getProvider(e){var o=this;return(0,l4.Z)(function*(){let d=(yield o.db.database.ref().child("providers").child(e).get()).val();return d.$key=e,d})()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(mA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QH=["formpro"];function JH(n,t){if(1&n&&c._UZ(0,"fa-icon",38),2&n){const e=c.oxw();c.Q6J("icon",e.valid)}}function XH(n,t){if(1&n&&c._UZ(0,"fa-icon",39),2&n){const e=c.oxw();c.Q6J("icon",e.error)}}function eF(n,t){1&n&&(c.TgZ(0,"p",40),c._uU(1,"Por favor introduzca un nombre v\xe1lido."),c.qZA())}function tF(n,t){if(1&n&&c._UZ(0,"fa-icon",38),2&n){const e=c.oxw();c.Q6J("icon",e.valid)}}function nF(n,t){if(1&n&&c._UZ(0,"fa-icon",39),2&n){const e=c.oxw();c.Q6J("icon",e.error)}}function rF(n,t){1&n&&(c.TgZ(0,"p",40),c._uU(1,"Por favor introduzca un CIF correcto."),c.qZA())}function iF(n,t){if(1&n&&c._UZ(0,"fa-icon",38),2&n){const e=c.oxw();c.Q6J("icon",e.valid)}}function oF(n,t){if(1&n&&c._UZ(0,"fa-icon",39),2&n){const e=c.oxw();c.Q6J("icon",e.error)}}function sF(n,t){1&n&&(c.TgZ(0,"p",40),c._uU(1,"Por favor introduzca una direcci\xf3n correcta."),c.qZA())}function aF(n,t){if(1&n&&c._UZ(0,"fa-icon",38),2&n){const e=c.oxw();c.Q6J("icon",e.valid)}}function cF(n,t){if(1&n&&c._UZ(0,"fa-icon",39),2&n){const e=c.oxw();c.Q6J("icon",e.error)}}function lF(n,t){1&n&&(c.TgZ(0,"p",40),c._uU(1,"Por favor introduzca una direcci\xf3n de codigo postal correcta."),c.qZA())}function uF(n,t){if(1&n&&c._UZ(0,"fa-icon",38),2&n){const e=c.oxw();c.Q6J("icon",e.valid)}}function fF(n,t){if(1&n&&c._UZ(0,"fa-icon",39),2&n){const e=c.oxw();c.Q6J("icon",e.error)}}function dF(n,t){1&n&&(c.TgZ(0,"p",40),c._uU(1,"Por favor introduzca una Localidad correcta."),c.qZA())}function hF(n,t){if(1&n&&(c.TgZ(0,"option",41),c._uU(1),c.qZA()),2&n){const e=t.$implicit;c.Q6J("value",e),c.xp6(1),c.Oqu(e)}}function pF(n,t){if(1&n&&c._UZ(0,"fa-icon",38),2&n){const e=c.oxw();c.Q6J("icon",e.valid)}}function mF(n,t){if(1&n&&c._UZ(0,"fa-icon",39),2&n){const e=c.oxw();c.Q6J("icon",e.error)}}function gF(n,t){1&n&&(c.TgZ(0,"p",40),c._uU(1,"Por favor introduzca un tel\xe9fono correcto."),c.qZA())}function vF(n,t){if(1&n&&c._UZ(0,"fa-icon",38),2&n){const e=c.oxw();c.Q6J("icon",e.valid)}}function _F(n,t){if(1&n&&c._UZ(0,"fa-icon",39),2&n){const e=c.oxw();c.Q6J("icon",e.error)}}function yF(n,t){1&n&&(c.TgZ(0,"p",40),c._uU(1,"Por favor introduzca una direcci\xf3n de correo correcta."),c.qZA())}function CF(n,t){if(1&n&&c._UZ(0,"fa-icon",38),2&n){const e=c.oxw();c.Q6J("icon",e.valid)}}function bF(n,t){if(1&n&&c._UZ(0,"fa-icon",39),2&n){const e=c.oxw();c.Q6J("icon",e.error)}}function MF(n,t){1&n&&(c.TgZ(0,"p",40),c._uU(1,"Por favor introduzca un contacto v\xe1lido."),c.qZA())}function EF(n,t){1&n&&(c.TgZ(0,"p",40),c._uU(1,"Por favor complete todos los campos"),c.qZA())}let AF=(()=>{class n{constructor(e){this.providers=e,this.error=sl,this.valid=H3,this.provincias=["\xc1lava","Albacete","Alicante","Almer\xeda","Asturias","\xc1vila","Badajoz","Barcelona","Burgos","C\xe1ceres","C\xe1diz","Cantabria","Castell\xf3n","Ciudad Real","C\xf3rdoba","La Coru\xf1a","Cuenca","Gerona","Granada","Guadalajara","Guip\xfazcoa","Huelva","Huesca","IslasBaleares","Ja\xe9n","Le\xf3n","L\xe9rida","Lugo","Madrid","M\xe1laga","Murcia","Navarra","Orense","Palencia","Las Palmas","Pontevedra","La Rioja","Salamanca","Segovia","Sevilla","Soria","Tarragona","Santa Cruz de Tenerife","Teruel","Toledo","Valencia","Valladolid","Vizcaya","Zamora","Zaragoza"],this.provider={name:"",cif:"",address:"",pc:"",location:"",provincia:"",phone:null,email:"",contact:""}}ngOnInit(){}onSubmit(){this.provider.name=this.formpro.value.name,this.provider.cif=this.formpro.value.cif,this.provider.address=this.formpro.value.address,this.provider.pc=this.formpro.value.pc,this.provider.location=this.formpro.value.location,this.provider.provincia=this.formpro.value.provincia,this.provider.phone=this.formpro.value.phone,this.provider.email=this.formpro.value.email,this.provider.contact=this.formpro.value.contact,this.saveProvider(),this.formpro.reset()}saveProvider(){let e=new jz("-1","","","","","","","","","");e.setName(this.provider.name),e.setCif(this.provider.cif),e.setAddress(this.provider.address),e.setCp(this.provider.pc),e.setLocation(this.provider.location),e.setProvincia(this.provider.provincia),e.setPhone(this.provider.phone),e.setEmail(this.provider.email),e.setContact(this.provider.contact),this.providers.persistProvider(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ap))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-addproviders"]],viewQuery:function(e,o){if(1&e&&c.Gf(QH,5,pa),2&e){let l;c.iGM(l=c.CRH())&&(o.formpro=l.first)}},decls:82,vars:27,consts:[[1,"row","justify-content-md-center"],[1,"col-xs-12","col-sm-10","col-md-8","col-sm-offset-1","col-md-offset","2"],[3,"ngSubmit"],["formpro","ngForm"],[1,"form-group"],["for","nombre"],["style","color: #42A948",3,"icon",4,"ngIf"],["style","color: #a94442",3,"icon",4,"ngIf"],["type","text","id","nombre","ngModel","","name","name","required","",1,"form-control"],["name","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","cif"],["type","text","id","cif","ngModel","","name","cif","required","",1,"form-control"],["cif","ngModel"],["for","direccion"],["type","text","id","direccion","ngModel","","name","address","required","",1,"form-control"],["address","ngModel"],["for","cp"],["type","text","id","cp","ngModel","","name","pc","required","","pc","",1,"form-control"],["pc","ngModel"],["for","localidad"],["type","text","id","localidad","ngModel","","name","location","required","",1,"form-control"],["location","ngModel"],["for","provincia"],["aria-label",".form-select-lg example","id","provincia","ngModel","","name","provincia",1,"form-select","form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","telefono"],["type","number","id","telefono","ngModel","","name","phone","required","","phone","",1,"form-control"],["phone","ngModel"],["for","email"],["type","text","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["email","ngModel"],["for","contacto"],["type","text","id","contacto","ngModel","","name","contact","required","",1,"form-control"],["contact","ngModel"],["type","submit",1,"btn","btn-success",3,"disabled"],["class","alert alert-danger ",4,"ngIf"],[2,"color","#42A948",3,"icon"],[2,"color","#a94442",3,"icon"],[1,"alert","alert-danger"],[3,"value"]],template:function(e,o){if(1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h2"),c._uU(3,"A\xf1adir nuevo proveedor"),c.qZA(),c.TgZ(4,"form",2,3),c.NdJ("ngSubmit",function(){return o.onSubmit()}),c.TgZ(6,"div",4),c.TgZ(7,"label",5),c._uU(8,"Nombre"),c.qZA(),c.YNc(9,JH,1,1,"fa-icon",6),c.YNc(10,XH,1,1,"fa-icon",7),c._UZ(11,"input",8,9),c.YNc(13,eF,2,0,"p",10),c.qZA(),c.TgZ(14,"div",4),c.TgZ(15,"label",11),c._uU(16,"C.I.F."),c.qZA(),c.YNc(17,tF,1,1,"fa-icon",6),c.YNc(18,nF,1,1,"fa-icon",7),c._UZ(19,"input",12,13),c.YNc(21,rF,2,0,"p",10),c.qZA(),c.TgZ(22,"div",4),c.TgZ(23,"label",14),c._uU(24,"Direcci\xf3n"),c.qZA(),c.YNc(25,iF,1,1,"fa-icon",6),c.YNc(26,oF,1,1,"fa-icon",7),c._UZ(27,"input",15,16),c.YNc(29,sF,2,0,"p",10),c.qZA(),c.TgZ(30,"div",4),c.TgZ(31,"label",17),c._uU(32,"C\xf3digo Postal"),c.qZA(),c.YNc(33,aF,1,1,"fa-icon",6),c.YNc(34,cF,1,1,"fa-icon",7),c._UZ(35,"input",18,19),c.YNc(37,lF,2,0,"p",10),c.qZA(),c.TgZ(38,"div",4),c.TgZ(39,"label",20),c._uU(40,"Localidad"),c.qZA(),c.YNc(41,uF,1,1,"fa-icon",6),c.YNc(42,fF,1,1,"fa-icon",7),c._UZ(43,"input",21,22),c.YNc(45,dF,2,0,"p",10),c.qZA(),c.TgZ(46,"div",4),c.TgZ(47,"label",23),c._uU(48,"Provincia"),c.qZA(),c.TgZ(49,"select",24),c.TgZ(50,"option",25),c._uU(51,"Seleccione la provincia"),c.qZA(),c.YNc(52,hF,2,2,"option",26),c.qZA(),c.qZA(),c.TgZ(53,"div",4),c.TgZ(54,"label",27),c._uU(55,"Tel\xe9fono"),c.qZA(),c.YNc(56,pF,1,1,"fa-icon",6),c.YNc(57,mF,1,1,"fa-icon",7),c._UZ(58,"input",28,29),c.YNc(60,gF,2,0,"p",10),c.qZA(),c.TgZ(61,"div",4),c.TgZ(62,"label",30),c._uU(63,"Correo Electr\xf3nico"),c.qZA(),c.YNc(64,vF,1,1,"fa-icon",6),c.YNc(65,_F,1,1,"fa-icon",7),c._UZ(66,"input",31,32),c.YNc(68,yF,2,0,"p",10),c.qZA(),c.TgZ(69,"div",4),c.TgZ(70,"label",33),c._uU(71,"Persona de contacto"),c.qZA(),c.YNc(72,CF,1,1,"fa-icon",6),c.YNc(73,bF,1,1,"fa-icon",7),c._UZ(74,"input",34,35),c.YNc(76,MF,2,0,"p",10),c.qZA(),c._UZ(77,"br"),c.TgZ(78,"button",36),c._uU(79,"A\xf1adir Proveedor"),c.qZA(),c.YNc(80,EF,2,0,"p",37),c._UZ(81,"hr"),c.qZA(),c.qZA(),c.qZA()),2&e){const l=c.MAs(5),d=c.MAs(12),m=c.MAs(20),y=c.MAs(28),A=c.MAs(36),T=c.MAs(44),P=c.MAs(59),V=c.MAs(67),Y=c.MAs(75);c.xp6(9),c.Q6J("ngIf",d.valid),c.xp6(1),c.Q6J("ngIf",d.invalid&&d.touched),c.xp6(3),c.Q6J("ngIf",V.invalid&&V.touched),c.xp6(4),c.Q6J("ngIf",m.valid),c.xp6(1),c.Q6J("ngIf",m.invalid&&m.touched),c.xp6(3),c.Q6J("ngIf",V.invalid&&V.touched),c.xp6(4),c.Q6J("ngIf",y.valid),c.xp6(1),c.Q6J("ngIf",y.invalid&&y.touched),c.xp6(3),c.Q6J("ngIf",y.invalid&&y.touched),c.xp6(4),c.Q6J("ngIf",A.valid),c.xp6(1),c.Q6J("ngIf",A.invalid&&A.touched),c.xp6(3),c.Q6J("ngIf",A.invalid&&A.touched),c.xp6(4),c.Q6J("ngIf",T.valid),c.xp6(1),c.Q6J("ngIf",T.invalid&&T.touched),c.xp6(3),c.Q6J("ngIf",T.invalid&&T.touched),c.xp6(7),c.Q6J("ngForOf",o.provincias),c.xp6(4),c.Q6J("ngIf",P.valid),c.xp6(1),c.Q6J("ngIf",P.invalid&&P.touched),c.xp6(3),c.Q6J("ngIf",P.invalid&&P.touched),c.xp6(4),c.Q6J("ngIf",V.valid),c.xp6(1),c.Q6J("ngIf",V.invalid&&V.touched),c.xp6(3),c.Q6J("ngIf",V.invalid&&V.touched),c.xp6(4),c.Q6J("ngIf",Y.valid),c.xp6(1),c.Q6J("ngIf",Y.invalid&&Y.touched),c.xp6(3),c.Q6J("ngIf",Y.invalid&&Y.touched),c.xp6(2),c.Q6J("disabled",!l.valid),c.xp6(2),c.Q6J("ngIf",!l.valid)}},directives:[ma,ua,pa,l2,vi,ss,$6,uo,Lr,lo,q6,Dt,co,L8,UA],styles:[".row[_ngcontent-%COMP%]{margin-left:2%;margin-right:2%;margin-bottom:2%;padding:3%;border:1px solid #aaa;border-radius:10px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-left:5px solid #a94442}input.ng-valid.ng-dirty[_ngcontent-%COMP%]{border-left:5px solid #42A948}.check[_ngcontent-%COMP%]{color:#42a948}.uncheck[_ngcontent-%COMP%]{color:#a94442}"]}),n})();var Zz={prefix:"far",iconName:"check-circle",icon:[512,512,[],"f058","M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z"]};function pj(n,t){1&n&&c._UZ(0,"i",30)}function mj(n,t){1&n&&c._UZ(0,"i",31)}function gj(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1," El campo Nombre es obligatorio. "),c.qZA())}function vj(n,t){1&n&&c._UZ(0,"i",30)}function _j(n,t){1&n&&c._UZ(0,"i",31)}function yj(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1," El campo CIF es obligatorio "),c.qZA())}function Cj(n,t){1&n&&c._UZ(0,"i",30)}function bj(n,t){1&n&&c._UZ(0,"i",31)}function Mj(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1," El campo de direccion es obligatorio. "),c.qZA())}function Ej(n,t){1&n&&c._UZ(0,"i",30)}function Aj(n,t){1&n&&c._UZ(0,"i",31)}function wj(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1," El campo de Codigo Postal es obligatorio. "),c.qZA())}function Ij(n,t){1&n&&c._UZ(0,"i",30)}function Sj(n,t){1&n&&c._UZ(0,"i",31)}function Tj(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1," El campo de localidad es obligatorio. "),c.qZA())}function xj(n,t){if(1&n&&(c.TgZ(0,"option",33),c._uU(1),c.qZA()),2&n){const e=t.$implicit;c.Q6J("ngValue",e),c.xp6(1),c.hij("",e," ")}}function Dj(n,t){1&n&&c._UZ(0,"i",30)}function zj(n,t){1&n&&c._UZ(0,"i",31)}function Nj(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1," El campo Proveedor es Telefono. "),c.qZA())}function Lj(n,t){1&n&&c._UZ(0,"i",30)}function Vj(n,t){1&n&&c._UZ(0,"i",31)}function Rj(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1," Por favor introduzca una direccio\u0301n de correo correcta. "),c.qZA())}function Pj(n,t){1&n&&c._UZ(0,"i",30)}function kj(n,t){1&n&&c._UZ(0,"i",31)}function Oj(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1," El campo Proveedor es Contacto. "),c.qZA())}function Hj(n,t){1&n&&(c.TgZ(0,"p",32),c._uU(1," Por favor complete todos los campos "),c.qZA())}let Fj=(()=>{class n{constructor(e,o,l,d){this.pf=e,this.proveedorService=o,this.router=l,this.activatedRouter=d,this.error=sl,this.valid=Zz,this.proveedor={},this.cp=0,this.telefono=0,this.provincias=["A\u0301lava","Albacete","Alicante","Almeri\u0301a","Asturias","A\u0301vila","Badajoz","Barcelona","Burgos","Ca\u0301ceres","Ca\u0301diz","Cantabria","Castello\u0301n","Ciudad Real","Co\u0301rdoba","La Corun\u0303a","Cuenca","Gerona","Granada","Guadalajara","Guipu\u0301zcoa","Huelva","Huesca","IslasBaleares","Jae\u0301n","Leo\u0301n","Le\u0301rida","Lugo","Madrid","Ma\u0301laga","Murcia","Navarra","Orense","Palencia","Las Palmas","Pontevedra","La Rioja","Salamanca","Segovia","Sevilla","Soria","Tarragona","Santa Cruz de Tenerife","Teruel","Toledo","Valencia","Valladolid","Vizcaya","Zamora","Zaragoza"],this.activatedRouter.params.subscribe(m=>{this.id=m.id,this.proveedorService.getProvider(this.id).then(y=>this.proveedor=y)}),this.proveedorForm=this.pf.group({nombre:["",p1.required],cif:["",p1.required],direccion:["",p1.required],cp:["",[p1.required,p1.minLength(5)]],localidad:["",p1.required],provincia:["",p1.required],telefono:["",p1.required],mail:["",p1.required],p_contacto:["",p1.required]})}onSubmit(){this.proveedor=this.saveProveedor(),this.proveedorForm.reset()}ngOnInit(){this.onChanges()}saveProveedor(){var e,o,l,d,m,y,A,T,P;let V=new jz(this.id,"","","","","","","","","");const Y={name:null===(e=this.proveedorForm.get("nombre"))||void 0===e?void 0:e.value,cif:null===(o=this.proveedorForm.get("cif"))||void 0===o?void 0:o.value,address:null===(l=this.proveedorForm.get("direccion"))||void 0===l?void 0:l.value,cp:null===(d=this.proveedorForm.get("cp"))||void 0===d?void 0:d.value,location:null===(m=this.proveedorForm.get("localidad"))||void 0===m?void 0:m.value,provincia:null===(y=this.proveedorForm.get("provincia"))||void 0===y?void 0:y.value,phone:null===(A=this.proveedorForm.get("telefono"))||void 0===A?void 0:A.value,email:null===(T=this.proveedorForm.get("mail"))||void 0===T?void 0:T.value,contact:null===(P=this.proveedorForm.get("p_contacto"))||void 0===P?void 0:P.value};V.setName(Y.name),V.setCif(Y.cif),V.setAddress(Y.address),V.setCp(Y.cp),V.setLocation(Y.location),V.setProvincia(Y.provincia),V.setPhone(Y.phone),V.setEmail(Y.email),V.setContact(Y.contact),this.proveedorService.persistProvider(V)}onChanges(){this.proveedorForm.valueChanges.subscribe(e=>{this.nombre=e.nombre,this.cif=e.cif,this.direccion=e.direccion,this.cp=e.cp,this.localidad=e.localidad,this.provincia=e.provincia,this.telefono=e.localidad,this.mail=e.mail,this.p_contacto=e.p_contacto})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Y6),c.Y36(Ap),c.Y36(In),c.Y36(Sr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-editproviders"]],decls:77,vars:38,consts:[[1,"row","justify-content-md-center"],[1,"col-xs-12","col-sm-10","col-md-8","col-sm-offset-1","col-md-offset","2"],["routerLink","/providers",1,"btn","btn-primary","float-md-right"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","nombre"],["class","fa fa-check-circle check",4,"ngIf"],["class","fa fa-exclamation-circle uncheck",4,"ngIf"],["type","text","id","nombre","formControlName","nombre",1,"form-control",3,"ngModel","ngModelChange"],["class","alert alert-danger",4,"ngIf"],["for","cif"],["type","text","id","cif","formControlName","cif",1,"form-control",3,"ngModel","ngModelChange"],["for","direccion"],["type","text","id","direccion","formControlName","direccion",1,"form-control",3,"ngModel","ngModelChange"],["for","cp"],["type","text","id","cp","formControlName","cp",1,"form-control",3,"ngModel","ngModelChange"],["for","localidad"],["type","text","id","localidad","formControlName","localidad",1,"form-control",3,"ngModel","ngModelChange"],["for","provincia"],["id","provincia","formControlName","provincia",1,"form-control",3,"ngModel","ngModelChange"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","telefono"],["type","number","id","telefono","formControlName","telefono",1,"form-control",3,"ngModel","ngModelChange"],["for","mail"],["type","text","id","mail","formControlName","mail",1,"form-control",3,"ngModel","ngModelChange"],["for","p_contacto"],["type","text","id","p_contacto","formControlName","p_contacto",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"],["routerLink","/providers",1,"btn","btn-danger"],[1,"fa","fa-check-circle","check"],[1,"fa","fa-exclamation-circle","uncheck"],[1,"alert","alert-danger"],[3,"ngValue"]],template:function(e,o){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h2"),c._uU(3,"Editar Proveedor"),c.qZA(),c.TgZ(4,"a",2),c._uU(5,"Regresar al listado"),c.qZA(),c._UZ(6,"br"),c.TgZ(7,"form",3),c.NdJ("ngSubmit",function(){return o.onSubmit()}),c.TgZ(8,"div",4),c.TgZ(9,"label",5),c._uU(10,"Nombre"),c.qZA(),c.YNc(11,pj,1,0,"i",6),c.YNc(12,mj,1,0,"i",7),c.TgZ(13,"input",8),c.NdJ("ngModelChange",function(d){return o.proveedor.name=d}),c.qZA(),c.YNc(14,gj,2,0,"p",9),c.qZA(),c.TgZ(15,"div",4),c.TgZ(16,"label",10),c._uU(17,"C.I.F"),c.qZA(),c.YNc(18,vj,1,0,"i",6),c.YNc(19,_j,1,0,"i",7),c.TgZ(20,"input",11),c.NdJ("ngModelChange",function(d){return o.proveedor.cif=d}),c.qZA(),c.YNc(21,yj,2,0,"p",9),c.qZA(),c.TgZ(22,"div",4),c.TgZ(23,"label",12),c._uU(24,"Direcci\xf3n"),c.qZA(),c.YNc(25,Cj,1,0,"i",6),c.YNc(26,bj,1,0,"i",7),c.TgZ(27,"input",13),c.NdJ("ngModelChange",function(d){return o.proveedor.address=d}),c.qZA(),c.YNc(28,Mj,2,0,"p",9),c.qZA(),c.TgZ(29,"div",4),c.TgZ(30,"label",14),c._uU(31,"C\xf3digo Postal"),c.qZA(),c.YNc(32,Ej,1,0,"i",6),c.YNc(33,Aj,1,0,"i",7),c.TgZ(34,"input",15),c.NdJ("ngModelChange",function(d){return o.proveedor.cp=d}),c.qZA(),c.YNc(35,wj,2,0,"p",9),c.qZA(),c.TgZ(36,"div",4),c.TgZ(37,"label",16),c._uU(38,"Localidad"),c.qZA(),c.YNc(39,Ij,1,0,"i",6),c.YNc(40,Sj,1,0,"i",7),c.TgZ(41,"input",17),c.NdJ("ngModelChange",function(d){return o.proveedor.location=d}),c.qZA(),c.YNc(42,Tj,2,0,"p",9),c.qZA(),c.TgZ(43,"div",4),c.TgZ(44,"label",18),c._uU(45,"Provincia"),c.qZA(),c.TgZ(46,"select",19),c.NdJ("ngModelChange",function(d){return o.proveedor.provincia=d}),c.TgZ(47,"option",20),c._uU(48," Seleccione la provincia "),c.qZA(),c.YNc(49,xj,2,2,"option",21),c.qZA(),c.qZA(),c.TgZ(50,"div",4),c.TgZ(51,"label",22),c._uU(52,"Tele\u0301fono"),c.qZA(),c.YNc(53,Dj,1,0,"i",6),c.YNc(54,zj,1,0,"i",7),c.TgZ(55,"input",23),c.NdJ("ngModelChange",function(d){return o.proveedor.phone=d}),c.qZA(),c.YNc(56,Nj,2,0,"p",9),c.qZA(),c.TgZ(57,"div",4),c.TgZ(58,"label",24),c._uU(59,"Correo Electro\u0301nico"),c.qZA(),c.YNc(60,Lj,1,0,"i",6),c.YNc(61,Vj,1,0,"i",7),c.TgZ(62,"input",25),c.NdJ("ngModelChange",function(d){return o.proveedor.email=d}),c.qZA(),c.YNc(63,Rj,2,0,"p",9),c.qZA(),c.TgZ(64,"div",4),c.TgZ(65,"label",26),c._uU(66,"Persona de contacto"),c.qZA(),c.YNc(67,Pj,1,0,"i",6),c.YNc(68,kj,1,0,"i",7),c.TgZ(69,"input",27),c.NdJ("ngModelChange",function(d){return o.proveedor.contact=d}),c.qZA(),c.YNc(70,Oj,2,0,"p",9),c.qZA(),c.TgZ(71,"button",28),c._uU(72,"Guardar Cambios"),c.qZA(),c.TgZ(73,"a",29),c._uU(74,"Cancelar"),c.qZA(),c.YNc(75,Hj,2,0,"p",9),c.qZA(),c._UZ(76,"hr"),c.qZA(),c.qZA()),2&e&&(c.xp6(7),c.Q6J("formGroup",o.proveedorForm),c.xp6(4),c.Q6J("ngIf",o.proveedorForm.controls.nombre.valid),c.xp6(1),c.Q6J("ngIf",o.proveedorForm.controls.nombre.invalid&&o.proveedorForm.controls.nombre.touched),c.xp6(1),c.Q6J("ngModel",o.proveedor.name),c.xp6(1),c.Q6J("ngIf",o.proveedorForm.controls.nombre.invalid&&o.proveedorForm.controls.nombre.touched),c.xp6(4),c.Q6J("ngIf",o.proveedorForm.controls.cif.valid),c.xp6(1),c.Q6J("ngIf",o.proveedorForm.controls.cif.invalid&&o.proveedorForm.controls.cif.touched),c.xp6(1),c.Q6J("ngModel",o.proveedor.cif),c.xp6(1),c.Q6J("ngIf",o.proveedorForm.controls.cif.invalid&&o.proveedorForm.controls.cif.touched),c.xp6(4),c.Q6J("ngIf",o.proveedorForm.controls.direccion.valid),c.xp6(1),c.Q6J("ngIf",o.proveedorForm.controls.direccion.invalid&&o.proveedorForm.controls.direccion.touched),c.xp6(1),c.Q6J("ngModel",o.proveedor.address),c.xp6(1),c.Q6J("ngIf",o.proveedorForm.controls.direccion.invalid&&o.proveedorForm.controls.direccion.touched),c.xp6(4),c.Q6J("ngIf",o.proveedorForm.controls.cp.valid),c.xp6(1),c.Q6J("ngIf",o.proveedorForm.controls.cp.invalid&&o.proveedorForm.controls.cp.touched),c.xp6(1),c.Q6J("ngModel",o.proveedor.cp),c.xp6(1),c.Q6J("ngIf",o.proveedorForm.controls.cp.invalid&&o.proveedorForm.controls.cp.touched),c.xp6(4),c.Q6J("ngIf",o.proveedorForm.controls.localidad.valid),c.xp6(1),c.Q6J("ngIf",o.proveedorForm.controls.localidad.invalid&&o.proveedorForm.controls.localidad.touched),c.xp6(1),c.Q6J("ngModel",o.proveedor.location),c.xp6(1),c.Q6J("ngIf",o.proveedorForm.controls.localidad.invalid&&o.proveedorForm.controls.localidad.touched),c.xp6(4),c.Q6J("ngModel",o.proveedor.provincia),c.xp6(1),c.Q6J("ngValue",null),c.xp6(2),c.Q6J("ngForOf",o.provincias),c.xp6(4),c.Q6J("ngIf",o.proveedorForm.controls.telefono.valid),c.xp6(1),c.Q6J("ngIf",o.proveedorForm.controls.telefono.invalid&&o.proveedorForm.controls.telefono.touched),c.xp6(1),c.Q6J("ngModel",o.proveedor.phone),c.xp6(1),c.Q6J("ngIf",o.proveedorForm.controls.telefono.invalid&&o.proveedorForm.controls.telefono.touched),c.xp6(4),c.Q6J("ngIf",o.proveedorForm.controls.mail.valid),c.xp6(1),c.Q6J("ngIf",o.proveedorForm.controls.mail.invalid&&o.proveedorForm.controls.mail.touched),c.xp6(1),c.Q6J("ngModel",o.proveedor.email),c.xp6(1),c.Q6J("ngIf",o.proveedorForm.controls.mail.invalid&&o.proveedorForm.controls.mail.touched),c.xp6(4),c.Q6J("ngIf",o.proveedorForm.controls.p_contacto.valid),c.xp6(1),c.Q6J("ngIf",o.proveedorForm.controls.p_contacto.invalid&&o.proveedorForm.controls.p_contacto.touched),c.xp6(1),c.Q6J("ngModel",o.proveedor.contact),c.xp6(1),c.Q6J("ngIf",o.proveedorForm.controls.p_contacto.invalid&&o.proveedorForm.controls.p_contacto.touched),c.xp6(1),c.Q6J("disabled",!o.proveedorForm.valid),c.xp6(4),c.Q6J("ngIf",!o.proveedorForm.valid))},directives:[gi,ma,ua,as,l2,vi,ss,ga,Lr,lo,q6,Dt,co],styles:[""]}),n})();function Uj(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c.TgZ(4,"a",5),c._uU(5),c.qZA(),c.qZA(),c.TgZ(6,"td"),c._uU(7),c.qZA(),c.TgZ(8,"td"),c._uU(9),c.qZA(),c.TgZ(10,"td"),c._uU(11),c.qZA(),c.TgZ(12,"td"),c._uU(13),c.qZA(),c.TgZ(14,"td"),c._uU(15),c.qZA(),c.TgZ(16,"td"),c._uU(17),c.qZA(),c.TgZ(18,"td"),c.TgZ(19,"button",6),c._uU(20,"Editar"),c.qZA(),c.qZA(),c.TgZ(21,"td"),c.TgZ(22,"button",7),c.NdJ("click",function(){const d=c.CHM(e).$implicit;return c.oxw().deleteProvider(d.id)}),c._uU(23,"Eliminar"),c.qZA(),c.qZA(),c.qZA()}if(2&n){const e=t.$implicit;c.xp6(2),c.Oqu(e.name),c.xp6(2),c.MGl("href","mailto:",e.email,"",c.LSH),c.xp6(1),c.Oqu(e.email),c.xp6(2),c.Oqu(e.phone),c.xp6(2),c.Oqu(e.cif),c.xp6(2),c.Oqu(e.address),c.xp6(2),c.Oqu(e.cp),c.xp6(2),c.Oqu(e.location),c.xp6(2),c.Oqu(e.contact),c.xp6(2),c.MGl("routerLink","/editproviders/",e.id,"")}}let Bj=(()=>{class n{constructor(e){this.providersService=e,this.providers=this.providersService.getProviders()}ngOnInit(){}deleteProvider(e){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ap))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-providers"]],decls:30,vars:1,consts:[[1,"proveedores","justify-content-md-center"],["routerLink","/providers/addprovider",1,"btn","btn-primary"],[1,"table","table-bordered","table-secondary","table-striped","tabla",2,"margin-top","40px"],[1,"filters"],[4,"ngFor","ngForOf"],[3,"href"],["type","button",1,"btn","btn-success",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(e,o){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"h3"),c._uU(2,"Listado de Proveedores"),c.qZA(),c.TgZ(3,"a",1),c._uU(4,"A\xf1adir nuevo proveedor"),c.qZA(),c.TgZ(5,"table",2),c.TgZ(6,"thead"),c.TgZ(7,"tr",3),c.TgZ(8,"th"),c._uU(9,"Nombre"),c.qZA(),c.TgZ(10,"th"),c._uU(11,"Correo Electr\xf3nico"),c.qZA(),c.TgZ(12,"th"),c._uU(13,"Telefono"),c.qZA(),c.TgZ(14,"th"),c._uU(15,"CIF"),c.qZA(),c.TgZ(16,"th"),c._uU(17,"Direcci\xf3n"),c.qZA(),c.TgZ(18,"th"),c._uU(19,"C\xf3digo Postal"),c.qZA(),c.TgZ(20,"th"),c._uU(21,"Localidad"),c.qZA(),c.TgZ(22,"th"),c._uU(23,"Contacto"),c.qZA(),c.TgZ(24,"th"),c._uU(25,"Editar"),c.qZA(),c.TgZ(26,"th"),c._uU(27,"Eliminar"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(28,"tbody"),c.YNc(29,Uj,24,10,"tr",4),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(29),c.Q6J("ngForOf",o.providers))},directives:[gi,Dt,ca],styles:[".proveedores[_ngcontent-%COMP%]{margin-left:5%;margin-right:5%}"]}),n})(),$z=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-start"]],decls:2,vars:0,template:function(e,o){1&e&&(c.TgZ(0,"h2"),c._uU(1,"Bienvenido a nuestra aplicaci\xf3n Compras App"),c.qZA())},styles:[""]}),n})();const jj=[{path:"",component:$z},{path:"providers",component:Bj},{path:"providers/addprovider",component:AF},{path:"addbudget",component:zH},{path:"budgets",component:LH},{path:"editbudget/:id",component:KH},{path:"editproviders/:id",component:Fj},{path:"register",component:Lm},{path:"**",component:$z}];let Zj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[l8.forRoot(jj)],l8]}),n})();const $j=function(){return{exact:!0}};let Wj=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:26,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions"],["aria-current","page","routerLink","/",1,"nav-link"],["routerLinkActive","active",1,"nav-item"],["routerLink","/providers",1,"nav-link"],["routerLink","/budgets",1,"nav-link"],["routerLink","/providers/addprovider",1,"nav-link"],["routerLink","/addbudget",1,"nav-link"],["routerLink","/register",1,"nav-link"]],template:function(e,o){1&e&&(c.TgZ(0,"nav",0),c.TgZ(1,"div",1),c.TgZ(2,"a",2),c._uU(3,"Compras App"),c.qZA(),c.TgZ(4,"button",3),c._UZ(5,"span",4),c.qZA(),c.TgZ(6,"div",5),c.TgZ(7,"ul",6),c.TgZ(8,"li",7),c.TgZ(9,"a",8),c._uU(10,"Inicio"),c.qZA(),c.qZA(),c.TgZ(11,"li",9),c.TgZ(12,"a",10),c._uU(13,"Proveedores"),c.qZA(),c.qZA(),c.TgZ(14,"li",9),c.TgZ(15,"a",11),c._uU(16,"Presupuestos"),c.qZA(),c.qZA(),c.TgZ(17,"li",9),c.TgZ(18,"a",12),c._uU(19,"A\xf1adir Proveedores"),c.qZA(),c.qZA(),c.TgZ(20,"li",9),c.TgZ(21,"a",13),c._uU(22,"A\xf1adir Presupuesto"),c.qZA(),c.qZA(),c.TgZ(23,"li",9),c.TgZ(24,"a",14),c._uU(25,"Registro"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(8),c.Q6J("routerLinkActiveOptions",c.DdM(1,$j)))},directives:[p3,gi],styles:["nav[_ngcontent-%COMP%]{margin-bottom:40px}"]}),n})(),Gj=(()=>{class n{constructor(){this.title="appCompras"}ngOnInit(){V3.Z.initializeApp({apiKey:"AIzaSyBqGJyG_nZJlHvAuojASh0JldsYMZ1r5d4",authDomain:"appcompras-2a58f.firebaseapp.com"})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,o){1&e&&(c._UZ(0,"app-header"),c._UZ(1,"router-outlet"))},directives:[Wj,la],styles:[""]}),n})();const BA_firebase={projectId:"appcompras-2a58f",appId:"1:105999353269:web:3d1497a26b90471f1c45fc",databaseURL:"https://appcompras-2a58f-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"appcompras-2a58f.appspot.com",locationId:"europe-west",apiKey:"AIzaSyBqGJyG_nZJlHvAuojASh0JldsYMZ1r5d4",authDomain:"appcompras-2a58f.firebaseapp.com",messagingSenderId:"105999353269",measurementId:"G-PJFTJYECQH"};R(7354);class Gz{constructor(){return(0,Z1.vb)("auth")}}class $A{constructor(t){return t}}const qz="database",WA=new c.OlP("angularfire2.database-instances");function Xj(n){return(t,e)=>{const o=t.runOutsideAngular(()=>n(e));return new $A(o)}}const eZ={provide:class{constructor(){return(0,Z1.vb)(qz)}},deps:[[new c.FiY,WA]]},tZ={provide:$A,useFactory:function(n,t){const e=(0,Z1.JM)(qz,n,t);return e&&new $A(e)},deps:[[new c.FiY,WA],zc]};let nZ=(()=>{class n{constructor(){(0,O0.KN)("angularfire",Z1.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[tZ,eZ]}),n})();function rZ(n,...t){return{ngModule:nZ,providers:[{provide:WA,useFactory:Xj(n),multi:!0,deps:[c.R0b,c.zs3,Z1.HU,eD,[new c.FiY,Gz],[new c.FiY,up],...t]}]}}const iZ=(0,Z1.u3)(KR,!0);let oZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[Gj]}),n.\u0275inj=c.cJS({providers:[Ap,fp,R8],imports:[[f6,Zj,mw,r7,_H,ho.hO.initializeApp(BA_firebase),Vk,TP(()=>xP(BA_firebase)),rZ(()=>iZ())]]}),n})();(0,c.G48)(),pr().bootstrapModule(oZ).catch(n=>console.error(n))},3394:(Ue,Ee,R)=>{"use strict";R.d(Ee,{Z:()=>Ce});var c=R(3854),U=R(3910),N=R(8026),ce=R(5422);class se{constructor(pe,ie){this._delegate=pe,this.firebase=ie,(0,N._addComponent)(pe,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(pe,ie=N._DEFAULT_ENTRY_NAME){var le;this._delegate.checkDestroyed();const ve=this._delegate.container.getProvider(pe);return!ve.isInitialized()&&"EXPLICIT"===(null===(le=ve.getComponent())||void 0===le?void 0:le.instantiationMode)&&ve.initialize(),ve.getImmediate({identifier:ie})}_removeServiceInstance(pe,ie=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(ie)}_addComponent(pe){(0,N._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,N._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function te(){const ge=function(ge){const pe={},ie={__esModule:!0,initializeApp:function(st,c1={}){const ct=N.initializeApp(st,c1);if((0,c.r3)(pe,ct.name))return pe[ct.name];const it=new ge(ct,ie);return pe[ct.name]=it,it},app:ve,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function(st){const c1=st.name,ct=c1.replace("-compat","");if(N._registerComponent(st)&&"PUBLIC"===st.type){const it=(wt=ve())=>{if("function"!=typeof wt[ct])throw me.create("invalid-app-argument",{appName:c1});return wt[ct]()};void 0!==st.serviceProps&&(0,c.ZB)(it,st.serviceProps),ie[ct]=it,ge.prototype[ct]=function(...wt){return this._getService.bind(this,c1).apply(this,st.multipleInstances?wt:[])}}return"PUBLIC"===st.type?ie[ct]:null},removeApp:function(st){delete pe[st]},useAsService:function(st,c1){return"serverAuth"===c1?null:c1},modularAPIs:N}};function ve(st){if(!(0,c.r3)(pe,st=st||N._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:st});return pe[st]}return ie.default=ie,Object.defineProperty(ie,"apps",{get:function(){return Object.keys(pe).map(st=>pe[st])}}),ve.App=ge,ie}(se);return ge.INTERNAL=Object.assign(Object.assign({},ge.INTERNAL),{createFirebaseNamespace:te,extendNamespace:function(ie){(0,c.ZB)(ge,ie)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ge}(),F=new ce.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){F.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ge=self.firebase.SDK_VERSION;ge&&ge.indexOf("LITE")>=0&&F.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=k;(0,N.registerVersion)("@firebase/app-compat","0.1.7",undefined)},8026:(Ue,Ee,R)=>{"use strict";R.r(Ee),R.d(Ee,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>xn,_DEFAULT_ENTRY_NAME:()=>$n,_addComponent:()=>s2,_addOrOverwriteComponent:()=>a2,_apps:()=>Zt,_clearComponents:()=>Xt,_components:()=>Et,_getProvider:()=>Gt,_registerComponent:()=>_n,_removeServiceInstance:()=>c2,deleteApp:()=>A1,getApp:()=>Se,getApps:()=>e1,initializeApp:()=>Wn,onLog:()=>It,registerVersion:()=>Ve,setLogLevel:()=>U1});var c=R(8239),U=R(3910),N=R(5422),ce=R(3854);class se{constructor(Ge){this.container=Ge}getPlatformInfoString(){return this.container.getProviders().map(dt=>{if(function(We){const Ge=We.getComponent();return"VERSION"===(null==Ge?void 0:Ge.type)}(dt)){const pt=dt.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(dt=>dt).join(" ")}}const me="@firebase/app",J="0.7.6",te=new N.Yd("@firebase/app"),$n="[DEFAULT]",F2={[me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zt=new Map,Et=new Map;function s2(We,Ge){try{We.container.addComponent(Ge)}catch(dt){te.debug(`Component ${Ge.name} failed to register with FirebaseApp ${We.name}`,dt)}}function a2(We,Ge){We.container.addOrOverwriteComponent(Ge)}function _n(We){const Ge=We.name;if(Et.has(Ge))return te.debug(`There were multiple attempts to register component ${Ge}.`),!1;Et.set(Ge,We);for(const dt of Zt.values())s2(dt,We);return!0}function Gt(We,Ge){return We.container.getProvider(Ge)}function c2(We,Ge,dt=$n){Gt(We,Ge).clearInstance(dt)}function Xt(){Et.clear()}const Ut=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class b2{constructor(Ge,dt,pt){this._isDeleted=!1,this._options=Object.assign({},Ge),this._config=Object.assign({},dt),this._name=dt.name,this._automaticDataCollectionEnabled=dt.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ge){this._isDeleted=Ge}checkDestroyed(){if(this.isDeleted)throw Ut.create("app-deleted",{appName:this._name})}}const xn="9.3.0";function Wn(We,Ge={}){"object"!=typeof Ge&&(Ge={name:Ge});const dt=Object.assign({name:$n,automaticDataCollectionEnabled:!1},Ge),pt=dt.name;if("string"!=typeof pt||!pt)throw Ut.create("bad-app-name",{appName:String(pt)});const M1=Zt.get(pt);if(M1){if((0,ce.vZ)(We,M1.options)&&(0,ce.vZ)(dt,M1.config))return M1;throw Ut.create("duplicate-app",{appName:pt})}const Bt=new U.H0(pt);for(const Ze of Et.values())Bt.addComponent(Ze);const De=new b2(We,dt,Bt);return Zt.set(pt,De),De}function Se(We=$n){const Ge=Zt.get(We);if(!Ge)throw Ut.create("no-app",{appName:We});return Ge}function e1(){return Array.from(Zt.values())}function A1(We){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(We){const Ge=We.name;Zt.has(Ge)&&(Zt.delete(Ge),yield Promise.all(We.container.getProviders().map(dt=>dt.delete())),We.isDeleted=!0)})).apply(this,arguments)}function Ve(We,Ge,dt){var pt;let M1=null!==(pt=F2[We])&&void 0!==pt?pt:We;dt&&(M1+=`-${dt}`);const Bt=M1.match(/\s|\//),De=Ge.match(/\s|\//);if(Bt||De){const Ze=[`Unable to register library "${M1}" with version "${Ge}":`];return Bt&&Ze.push(`library name "${M1}" contains illegal characters (whitespace or "/")`),Bt&&De&&Ze.push("and"),De&&Ze.push(`version name "${Ge}" contains illegal characters (whitespace or "/")`),void te.warn(Ze.join(" "))}_n(new U.wA(`${M1}-version`,()=>({library:M1,version:Ge}),"VERSION"))}function It(We,Ge){if(null!==We&&"function"!=typeof We)throw Ut.create("invalid-log-argument");(0,N.Am)(We,Ge)}function U1(We){(0,N.Ub)(We)}_n(new U.wA("platform-logger",Ge=>new se(Ge),"PRIVATE")),Ve(me,J,""),Ve(me,J,"esm2017"),Ve("fire-js","")},3910:(Ue,Ee,R)=>{"use strict";R.d(Ee,{wA:()=>N,H0:()=>J,zt:()=>se});var c=R(8239),U=R(3854);class N{constructor(k,F,j){this.name=k,this.instanceFactory=F,this.type=j,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(k){return this.instantiationMode=k,this}setMultipleInstances(k){return this.multipleInstances=k,this}setServiceProps(k){return this.serviceProps=k,this}setInstanceCreatedCallback(k){return this.onInstanceCreated=k,this}}const ce="[DEFAULT]";class se{constructor(k,F){this.name=k,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(k){const F=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(F)){const j=new U.BH;if(this.instancesDeferred.set(F,j),this.isInitialized(F)||this.shouldAutoInitialize())try{const ae=this.getOrInitializeService({instanceIdentifier:F});ae&&j.resolve(ae)}catch(ae){}}return this.instancesDeferred.get(F).promise}getImmediate(k){var F;const j=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),ae=null!==(F=null==k?void 0:k.optional)&&void 0!==F&&F;if(!this.isInitialized(j)&&!this.shouldAutoInitialize()){if(ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:j})}catch(fe){if(ae)return null;throw fe}}getComponent(){return this.component}setComponent(k){if(k.name!==this.name)throw Error(`Mismatching Component ${k.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=k,this.shouldAutoInitialize()){if("EAGER"===k.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ce})}catch(F){}for(const[F,j]of this.instancesDeferred.entries()){const ae=this.normalizeInstanceIdentifier(F);try{const fe=this.getOrInitializeService({instanceIdentifier:ae});j.resolve(fe)}catch(fe){}}}}clearInstance(k=ce){this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)}delete(){var k=this;return(0,c.Z)(function*(){const F=Array.from(k.instances.values());yield Promise.all([...F.filter(j=>"INTERNAL"in j).map(j=>j.INTERNAL.delete()),...F.filter(j=>"_delete"in j).map(j=>j._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(k=ce){return this.instances.has(k)}getOptions(k=ce){return this.instancesOptions.get(k)||{}}initialize(k={}){const{options:F={}}=k,j=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(j))throw Error(`${this.name}(${j}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ae=this.getOrInitializeService({instanceIdentifier:j,options:F});for(const[fe,Ce]of this.instancesDeferred.entries())j===this.normalizeInstanceIdentifier(fe)&&Ce.resolve(ae);return ae}onInit(k,F){var j;const ae=this.normalizeInstanceIdentifier(F),fe=null!==(j=this.onInitCallbacks.get(ae))&&void 0!==j?j:new Set;fe.add(k),this.onInitCallbacks.set(ae,fe);const Ce=this.instances.get(ae);return Ce&&k(Ce,ae),()=>{fe.delete(k)}}invokeOnInitCallbacks(k,F){const j=this.onInitCallbacks.get(F);if(j)for(const ae of j)try{ae(k,F)}catch(fe){}}getOrInitializeService({instanceIdentifier:k,options:F={}}){let j=this.instances.get(k);if(!j&&this.component&&(j=this.component.instanceFactory(this.container,{instanceIdentifier:(te=k,te===ce?void 0:te),options:F}),this.instances.set(k,j),this.instancesOptions.set(k,F),this.invokeOnInitCallbacks(j,k),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,k,j)}catch(ae){}var te;return j||null}normalizeInstanceIdentifier(k=ce){return this.component?this.component.multipleInstances?k:ce:k}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class J{constructor(k){this.name=k,this.providers=new Map}addComponent(k){const F=this.getProvider(k.name);if(F.isComponentSet())throw new Error(`Component ${k.name} has already been registered with ${this.name}`);F.setComponent(k)}addOrOverwriteComponent(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)}getProvider(k){if(this.providers.has(k))return this.providers.get(k);const F=new se(k,this);return this.providers.set(k,F),F}getProviders(){return Array.from(this.providers.values())}}},5422:(Ue,Ee,R)=>{"use strict";R.d(Ee,{in:()=>U,Yd:()=>me,Ub:()=>J,Am:()=>te});const c=[];var U=(()=>{return(k=U||(U={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",U;var k})();const N={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},ce=U.INFO,se={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},ee=(k,F,...j)=>{if(F<k.logLevel)return;const ae=(new Date).toISOString(),fe=se[F];if(!fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);console[fe](`[${ae}]  ${k.name}:`,...j)};class me{constructor(F){this.name=F,this._logLevel=ce,this._logHandler=ee,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in U))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"==typeof F?N[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(...F){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...F),this._logHandler(this,U.DEBUG,...F)}log(...F){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...F),this._logHandler(this,U.VERBOSE,...F)}info(...F){this._userLogHandler&&this._userLogHandler(this,U.INFO,...F),this._logHandler(this,U.INFO,...F)}warn(...F){this._userLogHandler&&this._userLogHandler(this,U.WARN,...F),this._logHandler(this,U.WARN,...F)}error(...F){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...F),this._logHandler(this,U.ERROR,...F)}}function J(k){c.forEach(F=>{F.setLogLevel(k)})}function te(k,F){for(const j of c){let ae=null;F&&F.level&&(ae=N[F.level]),j.userLogHandler=null===k?null:(fe,Ce,...ge)=>{const pe=ge.map(ie=>{if(null==ie)return null;if("string"==typeof ie)return ie;if("number"==typeof ie||"boolean"==typeof ie)return ie.toString();if(ie instanceof Error)return ie.message;try{return JSON.stringify(ie)}catch(le){return null}}).filter(ie=>ie).join(" ");Ce>=(null!=ae?ae:fe.logLevel)&&k({level:U[Ce].toLowerCase(),message:pe,args:ge,type:fe.name})}}}},8239:(Ue,Ee,R)=>{"use strict";function c(N,ce,se,ee,me,J,te){try{var k=N[J](te),F=k.value}catch(j){return void se(j)}k.done?ce(F):Promise.resolve(F).then(ee,me)}function U(N){return function(){var ce=this,se=arguments;return new Promise(function(ee,me){var J=N.apply(ce,se);function te(F){c(J,ee,me,te,k,"next",F)}function k(F){c(J,ee,me,te,k,"throw",F)}te(void 0)})}}R.d(Ee,{Z:()=>U})}},Ue=>{Ue(Ue.s=9875)}]);